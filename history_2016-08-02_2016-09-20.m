%-- 8/2/2016 3:41 PM --%
dirs
lkj
cd ecoforecasts
stn = get_station_from_station_name('mlrf1');
stn
%-- 8/2/2016 5:40 PM --%
stn = get_station_from_station_name('mlrf1'); stn = load_all_ndbc_data(stn);
which pushd
cd ecoforecasts
stn = get_station_from_station_name('mlrf1'); stn = load_all_ndbc_data(stn);
dir data/*mlrf*mat
dir data
%-- 8/6/2016 6:10 PM --%
stn = get_station_from_station_name('mlrf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
rehash
stn = station_ekman_flux(stn)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/7/2016 12:41 PM --%
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
which air_dens
rehash
%-- 8/7/2016 12:50 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
dbstop station_ekman_flux 54
stn = station_ekman_flux(stn)
orifld
stn
dbq
dbquit
dbclear all
pd c:/thesis/src
pd d:/thesis/src
dir station_optim*
which station_optimal_isobath_orientation
pd
which station_optimal_isobath_orientation
path
MYDATA = 'D:\';
path(path,[MYDATA 'thesis\src\']);
which station_optimal_isobath_orientation
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
stn
dbstop station_ekman_flux 54
stn = station_ekman_flux(stn)
orifld
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = read_fdep_stevens_data('k');
dir *fdep*
stn = extract_fdep_stevens_data('k');
delete data/fdepk-201607.mat
delete data/fdepk-201608.mat
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = extract_fdep_stevens_data('k');
timenow
stn = station_ekman_flux(stn)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = extract_fdep_stevens_data('k');
help fopen
help delete
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = extract_fdep_stevens_data('k');
extract_fdep_stevens_data('k');
stn = read_fdep_stevens_data('k');
[w,id] = lastwarn
clear ans id w
pd data/foo
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/7/2016 5:57 PM --%
dirs
d
dirs
dir
%-- 8/7/2016 5:59 PM --%
pd d:\ecoforecasts
dirsave
savedirs
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/7/2016 6:00 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fdepk = read_fdep_stevens_data('k');
lkwf1 = get_station_from_station_name('lkwf1'); lkwf1 = load_all_ndbc_data(lkwf1);
fdepk
fdepk = read_fdep_stevens_data('k');
dbstop read_fdep_stevens_data
fdepk = read_fdep_stevens_data('k');
datestr([mindt,maxdt])
res
res.relhumid
find_date_ranges(res.relhumid.date)
find_date_ranges(res.relhumid.date.1)
find_date_ranges(res.relhumid.dat,1)
find_date_ranges(res.relhumid.date,1)
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fdepk = read_fdep_stevens_data('k');
whos
lkwf1 = get_station_from_station_name('lkwf1'); lkwf1 = load_all_ndbc_data(lkwf1);
fwyf1 = get_station_from_station_name('fwyf1'); fwyf1 = load_all_ndbc_data(fwyf1);
find_date_ranges(fwyf1.ndbc_wind1_speed.date)
find_date_ranges(lkwf1.ndbc_wind1_speed.date)
find_date_ranges(fdepk.wind_speed.date)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
timenow
help download_ndbc_files
download_ndbc_files('fwyf1',2015:2016,true)
download_ndbc_files('lkwf1',2015:2016,true)
help download_ndbc_files
dbstop download_ndbc_files 113
download_ndbc_files('lkwf1',2016,false)
need_mo
need_moix
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/8/2016 7:53 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('lkwf1'); stn = load_all_ndbc_data(stn);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('fwyf1'); stn = load_all_ndbc_data(stn);
download_ndbc_files('vakf1',1999:2015,false)
stn = get_station_from_station_name('vakf1'); stn = load_all_ndbc_data(stn);
download_ndbc_files('vakf1',2015,false)
stn = get_station_from_station_name('vakf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('sipf1',1999:2015,false)
stn = get_station_from_station_name('sipf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('41114',1999:2015,false)
stn = get_station_from_station_name('41114'); stn = load_all_ndbc_data(stn);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('41114'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fmg; plotyy_ts(stn.ndbc_sigwavehgt,stn.ndbc_sea_t)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = extract_fdep_stevens_data('k');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fdepk
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
dbstop if error
ekman_flux
dfld
stn
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
scatter_fit_ts(fwyf1.ndbc_ekman_flux,fdepk.fdep_ekman_flux)
scatter_fit_ts(fwyf1.ndbc_ekman_flux,lkwf1.fdep_ekman_flux)
scatter_fit_ts(fwyf1.ndbc_ekman_flux,lkwf1.ndbc_ekman_flux)
timenow
fdepk = plot_hires_bathymetry(fdepk,-[0:2:20,30:10:100],[40e3,10e3]);
fdepk
fdepk = rmfield(fdepk,'ngdc_hires_bathy');
fdepk = plot_hires_bathymetry(fdepk,-[0:2:20,30:10:100],[10e3,50e3]);
fdepk = rmfield(fdepk,'ngdc_hires_bathy');
fdepk = plot_hires_bathymetry(fdepk,-[0:2:20,30:10:100],[20e3,60e3]);
plot(fwyf1.lon,fwyf1.lat,'rp',lkwf1.lon,lkwf1.lat,'rp',fdepk.lon,fdepk.lat,'rp');
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:2:20,30:10:100],[20e3,60e3]);
plot(fwyf1.lon,fwyf1.lat,'rp',lkwf1.lon,lkwf1.lat,'rp',fdepk.lon,fdepk.lat,'rp');
lkwf1.lat,fdepk.lat
fdepk = rmfield(fdepk,'ngdc_hires_bathy');
lkwf1 = rmfield(lkwf1,'ngdc_hires_bathy');
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:2:20,30:10:100],[15e3,80e3]);
plot(fwyf1.lon,fwyf1.lat,'rp',lkwf1.lon,lkwf1.lat,'rp',fdepk.lon,fdepk.lat,'rp');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/11/2016 9:33 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
lookfor ardhuin
path
type phd_hour_seminar_fkeys
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
lookfor lagrang
help augLagFun
lookfor euler
which station_calc_quasi_eulerian
which stokes_drift
stokes_drift(5,1,2,'ardhuin')
stokes_drift(10,1,2,'ardhuin')
stokes_drift(20,1,2,'ardhuin')
stokes_drift(20,0.5,2,'ardhuin')
stokes_drift(10,0.5,2,'ardhuin')
stokes_drift(5,0.5,2,'ardhuin')
stokes_drift(5,0.5,2,'mellor')
stokes_drift(5,0.5,2,'shay')
stokes_drift(5,0.5,2,'monismith')
stokes_drift(5,5,2,'monismith')
stokes_drift(20,5,2,'monismith')
stokes_drift(20,1,2,'monismith')
stokes_drift(10,1,2,'monismith')
stokes_drift(10,1,5,'monismith')
stokes_drift(10,1,5,'mellor')
stokes_drift(20,1,5,'mellor')
stokes_drift(20,2,5,'mellor')
stokes_drift(5,2,5,'mellor')
stokes_drift(5,2,1,'mellor')
stokes_drift(5,2,10,'mellor')
methods={'mellor','monismith','shay','ardhuin'};
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(1:10,1,5); end;
fmg; plot(1:10,sd);
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(5,1:10,5); end;
fmg; plot(1:10,sd);
sd
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(1:10,1,5,methods{mthix}); end;
fmg; plot(1:10,sd);
fmg; plot(1:10,sd); legend(methods);
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(5,1:10,5,methods{mthix}); end;
fmg; plot(1:10,sd); legend(methods);
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(5,1:10./3,5,methods{mthix}); end;
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(5,[1:10]./3,5,methods{mthix}); end;
fmg; plot([1:10]./3,sd); legend(methods);
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(5,1,1:10,methods{mthix}); end;
for mthix=1:numel(methods); for ix=1:10; sd(mthix,ix) = stokes_drift(5,1,ix,methods{mthix}); end; end;
fmg; plot([1:10],sd); legend(methods);
for mthix=1:numel(methods); for ix=1:10; sd(mthix,ix) = stokes_drift(5,1,ix+1,methods{mthix}); end; end;
fmg; plot([1:10]+1,sd); legend(methods);
ws=1:10; hs=0.5:0.5:3.5;  fmg; surf(ws,hs,stokes_drift(ws,hs,2,'ardhuin');
ws=1:10; hs=0.5:0.5:3.5;  fmg; surf(ws,hs,stokes_drift(ws,hs,2,'ardhuin'));
ws=linspace(2,15,10); hs=linspace(0.5,3.0,10);  fmg; surf(ws,hs,stokes_drift(ws,hs,2,'ardhuin'));
ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,'ardhuin'));
view(3)
ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,'ardhuin')); view(3); xlabel('Wind'); ylabel('Sig. wave hgt.); zlabel('Stokes');
ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,'ardhuin')); view(3); xlabel('Wind'); ylabel('Sig. wave hgt.'); zlabel('Stokes');
ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,'ardhuin')); view(3); xlabel('Wind [kts]'); ylabel('Sig. wave hgt. [m]'); zlabel('Stokes [ms^-^1');
method='ardhuin'; ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,method)); view(3); xlabel('Wind [kts]'); ylabel('Sig. wave hgt. [m]'); zlabel('Stokes [ms^-^1]'); titlename(['Surface transport - method of ',upper(method)]);
method='mellor'; ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,method)); view(3); xlabel('Wind [kts]'); ylabel('Sig. wave hgt. [m]'); zlabel('Stokes [ms^-^1]'); titlename(['Surface transport - method of ',upper(method)]);
method='monismith'; ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,method)); view(3); xlabel('Wind [kts]'); ylabel('Sig. wave hgt. [m]'); zlabel('Stokes [ms^-^1]'); titlename(['Surface transport - method of ',upper(method)]);
which capitalize
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
close all
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
mid
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_ww3_station('mlrf1');
stn
median(diff(stn.raw_ww3_sigwavehgt.date))
median(diff(stn.ww3_sigwavehgt.date))
fmg; hist(stn.ww3_peakwaveper.data,100);
fmg; hist(stn.ww3_peakwaveper.data(get_season(stn.ww3_peakwaveper.date)==3),100);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
view(0,90)
view(90,90)
view(45,45)
close all
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
view(45,45)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
0.1*3600*24
fmg; titlename('a\dot b');
fmg; titlename('a^.b');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
view(45,45)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('lonf1',2014:2016,true)
download_ndbc_files('lonf1',2014:2016,true,false)
x=[1,2,3];
x(4:end) = [];
x
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('lonf1',1987:2016,true,false)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
lonf1 = get_station_from_station_name('lonf1'); lonf1 = load_all_ndbc_data(lonf1);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('lonf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
help nargchk
help narginchk
edit datetick
which datetick
help message
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('lonf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('lonf1',2000)
x = urlread('http://www.ndbc.noaa.gov/data/derived2/LONF1.dmv');
x
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('mlrf1',1987:2016,true,false)
download_ndbc_files('smkf1',1987:2016,true,false)
download_ndbc_files('smkf1',1986:2016,true,false)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('mlrf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('smkf1',2015)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('sanf1',1986:2016,true,false)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('sanf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('plsf1',2000:2016,true,false)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('plsf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
ans
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_ww3_station('mlrf1');
fmg; hist(stn.ww3_sigwavehgt.data(get_season(stn.ww3_sigwavehgt.date)==3),100);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_ww3_station('fwyf1');
fmg; hist(stn.ww3_sigwavehgt.data(get_season(stn.ww3_sigwavehgt.date)==3),100);
stn = get_station_from_station_name('mlrf1'); stn = load_all_ndbc_data(stn);
timenow
fmg; hist(stn.ndbc_wind1_speed.data(get_season(stn.ndbc_wind1_speed.date)==3),100);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('mlrf1'); stn = load_all_ndbc_data(stn);
fmg; hist(stn.ndbc_wind1_speed.data(get_season(stn.ndbc_wind1_speed.date)==3),100);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
mfilename
compare_stokes_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_stokes_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
help asec
%-- 8/15/2016 12:49 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/16/2016 9:27 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fname = fullfile('currents_2015','Shallow and deep and TCM  merge ver 2  for export.csv');
% Read file
x = fileread(fname);
% Column headers appear as follows:
% Date,deep missing data,JD (UT),Deep temp,Index,East 1,East 2,East 3,East 4,East 5,East 6,East 7,East 8,East 9,East 10,East 11,East 12,East 13,East 14,East 15,East 16,East 17,East 18,East 19,East 20,East 21,North 1,North 2,North 3,North 4,North 5,North 6,North 7,North 8,North 9,North 10,North 11,North 12,North 13,North 14,North 15,North 16,North 17,North 18,North 19,North 20,North 21,Vert 1,Vert 2,Vert3,vert 4,vert 5,vert 6,vert 7,vert 8,vert 9,vert 10,vert 11,vert 12,vert 13,vert 14,vert 15,vert 16,vert 17,vert 18,vert 19,vert 20,vert 21,mag 1,mag 2,mag 3,mag 4,mag 5,mag 6,mag 7,mag 8,mag 9,mag 10,mag 11,mag 12,mag 13,mag 14,mag 15,mag 16,mag 17,mag 18,mag 19,mag 20,mag 21,dir 1,dir 2,dir 3,dir 4,dir 5,dir 6,dir 7,dir 8,dir 9,dir 10,dir 11,dir 12,dir 13,dir 14,dir 15,dir 16,dir 17,dir 18,dir 19,dir 20,dir 21,grid time,Shallow temp,Z,E1,E2,E3,E4,E5,E6,E7,E8,E9,E10,E11,E12,E13,E14,E15,N1,N2,N3,N4,N5,N6,N7,N8,N9,N10,N11,N12,N13,N14,N15,VV1,VV2,VV3,VV4,VV5,VV6,VV7,VV8,VV9,VV10,VV11,VV12,VV13,VV14,VV15,M1,M2,M3,M4,M5,M6,M7,M8,M9,M10,M11,M12,M13,M14,M15,D1,D2,D3,D4,D5,D6,D7,D8,D9,D10,D11,D12,D13,D14,D15,NewVar1,Deep East WCA,Deep North WCA,Shallow East WCA,Shallow North WCA,S has data,D has data,S and D have data,TCM has data,Shallow ADCP WCA is north,TCM 1 is north,TCM2 is north,Deep ADCP WCA  is north,NewVar15,Date,Time,T2 Speed (cm/s),T2 Bearing (degrees),T2 Velocity-N (cm/s),T2 Velocity-E (cm/s),T2   Temperature (C),T1  Speed (cm/s),T1 Bearing (degrees),T1 Vel N,T1  Velocity-E (cm/s),T1   Temperature (C)
% Process file
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'});
C = textscan(x,fmt,'HeaderLines',1);
dirs
pd ../coral/FACE
fname = fullfile('currents_2015','Shallow and deep and TCM  merge ver 2  for export.csv');
% Read file
x = fileread(fname);
% Column headers appear as follows:
% Date,deep missing data,JD (UT),Deep temp,Index,East 1,East 2,East 3,East 4,East 5,East 6,East 7,East 8,East 9,East 10,East 11,East 12,East 13,East 14,East 15,East 16,East 17,East 18,East 19,East 20,East 21,North 1,North 2,North 3,North 4,North 5,North 6,North 7,North 8,North 9,North 10,North 11,North 12,North 13,North 14,North 15,North 16,North 17,North 18,North 19,North 20,North 21,Vert 1,Vert 2,Vert3,vert 4,vert 5,vert 6,vert 7,vert 8,vert 9,vert 10,vert 11,vert 12,vert 13,vert 14,vert 15,vert 16,vert 17,vert 18,vert 19,vert 20,vert 21,mag 1,mag 2,mag 3,mag 4,mag 5,mag 6,mag 7,mag 8,mag 9,mag 10,mag 11,mag 12,mag 13,mag 14,mag 15,mag 16,mag 17,mag 18,mag 19,mag 20,mag 21,dir 1,dir 2,dir 3,dir 4,dir 5,dir 6,dir 7,dir 8,dir 9,dir 10,dir 11,dir 12,dir 13,dir 14,dir 15,dir 16,dir 17,dir 18,dir 19,dir 20,dir 21,grid time,Shallow temp,Z,E1,E2,E3,E4,E5,E6,E7,E8,E9,E10,E11,E12,E13,E14,E15,N1,N2,N3,N4,N5,N6,N7,N8,N9,N10,N11,N12,N13,N14,N15,VV1,VV2,VV3,VV4,VV5,VV6,VV7,VV8,VV9,VV10,VV11,VV12,VV13,VV14,VV15,M1,M2,M3,M4,M5,M6,M7,M8,M9,M10,M11,M12,M13,M14,M15,D1,D2,D3,D4,D5,D6,D7,D8,D9,D10,D11,D12,D13,D14,D15,NewVar1,Deep East WCA,Deep North WCA,Shallow East WCA,Shallow North WCA,S has data,D has data,S and D have data,TCM has data,Shallow ADCP WCA is north,TCM 1 is north,TCM2 is north,Deep ADCP WCA  is north,NewVar15,Date,Time,T2 Speed (cm/s),T2 Bearing (degrees),T2 Velocity-N (cm/s),T2 Velocity-E (cm/s),T2   Temperature (C),T1  Speed (cm/s),T1 Bearing (degrees),T1 Vel N,T1  Velocity-E (cm/s),T1   Temperature (C)
% Process file
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'});
C = textscan(x,fmt,'HeaderLines',1);
C
C{1}
x
x(1:1000)
x(1:2000)
C = textscan(x,fmt,'HeaderLines',1);
C = textscan(x,fmt,'HeaderLines',1); C{1}
C = textscan(x,fmt,'HeaderLines',2); C{1}
fmt
fmt = 'C = textscan(x,fmt,'HeaderLines',1);
';
fmt = '%*[^,],%*[^,],%[^,],%f,%*[^,],%f,%f,%f,%f,%f,%f';
C = textscan(x,fmt,'HeaderLines',2); C{1}
C = textscan(x,fmt,'HeaderLines',30); C{1}
help textscan
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\n','Delimiter',','); C{1}
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\r\n','Delimiter',','); C{1}
C = textscan(x,fmt,'HeaderLines',1,'EndOfLine','\r\n','Delimiter',','); C{1}
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\r\n','Delimiter',','); C{1}
\
fmt = '%*[^,],%*[^,],%[^,]';
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\r\n','Delimiter',','); C{1}
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\r\n'); C{1}
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\\n'); C{1}
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\n'); C{1}
C = textscan('%s','HeaderLines',30,'EndOfLine','\n'); C{1}
C = textscan('%[^,],%s','HeaderLines',30,'EndOfLine','\n'); C{1}
C = textscan('%[^,],%s','HeaderLines',1,'EndOfLine','\n'); C{1}
C = textscan('%[^,],%s'); C{1}
C = textscan(x,'%s','HeaderLines',30,'EndOfLine','\n'); C{1}
C = textscan('%[^,],%s','HeaderLines',30); C{1}
C = textscan(x,'%[^,],%s','HeaderLines',30); C{1}
x(1:2000)
x(1:20000)
x(19000:20000)
strfind(x,sprintf('\r\n'))
C = textscan(x,'%[^,],%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}
C = textscan(x,'%*[^,],%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}
C{2}
C{1}
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\r\n'); C{1}
fmt
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'});
fmt
fmt(1:10)
fmt(1:40)
fmt(1:39)
C = textscan(x,fmt(1:39),'HeaderLines',30,'EndOfLine','\r\n'); C{1}
C = textscan(x,fmt(1:19),'HeaderLines',30,'EndOfLine','\r\n'); C{1}
fmt(1:19)
C = textscan(x,fmt(1:20),'HeaderLines',30,'EndOfLine','\r\n'); C{1}
C = textscan(x,'%*[^,],%*[^,],%[^,],%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}
C = textscan(x,'%[^,],%[^,],%[^,],%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}
C{4}
C{3}
C{2}
C{1}
C = textscan(x,'%[^,]%[^,],%[^,],%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}
C = textscan(x,'%[^,]%[^,],%[^,],%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}, C{2}
C = textscan(x,'%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}, C{2}
C{2}
C = textscan(x,'%s','HeaderLines',45,'EndOfLine','\r\n'); C{1}, C{2}
C = textscan(x,'%[^,]%[^,],%[^,],%s','HeaderLines',45,'EndOfLine','\r\n'); C{1}, C{2}
C = textscan(x,'%[^,],%[^,],%[^,],%s','HeaderLines',45,'EndOfLine','\r\n'); C{1}, C{2}
C = textscan(x,'%[^,],%s','HeaderLines',45,'EndOfLine','\r\n'); C{1}, C{2}
C{2}
C{1}
C{1}{1}
C{1}{2}
C{1}{3}
C{1}{4}
iscellstr(C{1})
iscellstr(C{1}{1})
ischar(C{1}{1}
ischar(C{1}{1})
C{1}{10}
C{1}
C = textscan(x,'%[^,],%[^,],%s','HeaderLines',45,'EndOfLine','\r\n'); C{1}, C{2}
C{1}{1}
C{1}{2}
C = textscan(x,'%[^,]%[^,],%s','HeaderLines',45,'EndOfLine','\r\n'); C{1}, C{2}
C = textscan(x,'%[^,]%[^,],%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C = textscan(x,'%[^,],%[^,],%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C = textscan(x,'%*s,%*s,%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C = textscan(x,'%[^,],%[^,],%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C{3}
C = textscan(x,'%*60c,%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C = textscan(x,fmt,'HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C
fmt
C = textscan(x,'%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C = textscan(x,'%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}{1}
C = textscan(x,'%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}{2}
C{1}
C = textscan(x,'%s%s%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}{2}
C{1}
C{2}
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fname = fullfile('currents_2015','Shallow and deep and TCM  merge ver 2  for export.csv');
% Read file
x = fileread(fname);
% Column headers appear as follows:
% Date,deep missing data,JD (UT),Deep temp,Index,East 1,East 2,East 3,East 4,East 5,East 6,East 7,East 8,East 9,East 10,East 11,East 12,East 13,East 14,East 15,East 16,East 17,East 18,East 19,East 20,East 21,North 1,North 2,North 3,North 4,North 5,North 6,North 7,North 8,North 9,North 10,North 11,North 12,North 13,North 14,North 15,North 16,North 17,North 18,North 19,North 20,North 21,Vert 1,Vert 2,Vert3,vert 4,vert 5,vert 6,vert 7,vert 8,vert 9,vert 10,vert 11,vert 12,vert 13,vert 14,vert 15,vert 16,vert 17,vert 18,vert 19,vert 20,vert 21,mag 1,mag 2,mag 3,mag 4,mag 5,mag 6,mag 7,mag 8,mag 9,mag 10,mag 11,mag 12,mag 13,mag 14,mag 15,mag 16,mag 17,mag 18,mag 19,mag 20,mag 21,dir 1,dir 2,dir 3,dir 4,dir 5,dir 6,dir 7,dir 8,dir 9,dir 10,dir 11,dir 12,dir 13,dir 14,dir 15,dir 16,dir 17,dir 18,dir 19,dir 20,dir 21,grid time,Shallow temp,Z,E1,E2,E3,E4,E5,E6,E7,E8,E9,E10,E11,E12,E13,E14,E15,N1,N2,N3,N4,N5,N6,N7,N8,N9,N10,N11,N12,N13,N14,N15,VV1,VV2,VV3,VV4,VV5,VV6,VV7,VV8,VV9,VV10,VV11,VV12,VV13,VV14,VV15,M1,M2,M3,M4,M5,M6,M7,M8,M9,M10,M11,M12,M13,M14,M15,D1,D2,D3,D4,D5,D6,D7,D8,D9,D10,D11,D12,D13,D14,D15,NewVar1,Deep East WCA,Deep North WCA,Shallow East WCA,Shallow North WCA,S has data,D has data,S and D have data,TCM has data,Shallow ADCP WCA is north,TCM 1 is north,TCM2 is north,Deep ADCP WCA  is north,NewVar15,Date,Time,T2 Speed (cm/s),T2 Bearing (degrees),T2 Velocity-N (cm/s),T2 Velocity-E (cm/s),T2   Temperature (C),T1  Speed (cm/s),T1 Bearing (degrees),T1 Vel N,T1  Velocity-E (cm/s),T1   Temperature (C)
% Process file
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'});
C = textscan(x,fmt,'HeaderLines',1);
C = textscan(x,'%s%s%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}{2}
size
size(C{1})
size(C{2})
C{2}
C{3}
C = textscan(x,'%s%s%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{3}{1}
help textscan
help strtok
repmat('%s',[1,213])
C = textscan(x,repmat('%s',[1,213]),'HeaderLines',43,'EndOfLine','\r\n','Delimiter',','); C{3}{1}
C{1}
C{3}
C{4}
C = textscan(x,repmat('%s',[1,213]),'HeaderLines',44,'EndOfLine','\r\n','Delimiter',','); C{3}{1}
C{4}{1:10}
dts = datenum(C{1});
dts = datenum(C{1}{1:10});
dts = datenum(C{1}(1:10));
dts = datenum(C{1}(1:10)); datestr(dts(end))
dts = datenum(C{1}(1:100)); datestr(dts(end))
size(C{1})
dts = datenum(C{1}(1:28000)); datestr(dts(end))
dts = datenum(C{1}(1:42000)); datestr(dts(end))
dts = datenum(C{1}(1:49000)); datestr(dts(end))
dts = datenum(C{1}(1:45000)); datestr(dts(end))
dts = datenum(C{1}(1:46000)); datestr(dts(end))
dts = datenum(C{1}(1:47000)); datestr(dts(end))
dts = datenum(C{1}(1:47001)); datestr(dts(end))
dts = datenum(C{1}(1:47500)); datestr(dts(end))
dts = datenum(C{1}(1:4800)); datestr(dts(end))
dts = datenum(C{1}(1:48000)); datestr(dts(end))
dts = datenum(C{1}(1:48500)); datestr(dts(end))
dts = datenum(C{1}(1:48800)); datestr(dts(end))
dts = datenum(C{1}(1:48700)); datestr(dts(end))
dts = datenum(C{1}(1:48600)); datestr(dts(end))
dts = datenum(C{1}(1:48650)); datestr(dts(end))
dts = datenum(C{1}(1:48625)); datestr(dts(end))
dts = datenum(C{1}(1:48612)); datestr(dts(end))
dts = datenum(C{1}(1:486057)); datestr(dts(end))
dts = datenum(C{1}(1:48607)); datestr(dts(end))
dts = datenum(C{1}(1:48603)); datestr(dts(end))
dts = datenum(C{1}(1:48600)); datestr(dts(end))
C{1}{48600:48603}
dts = datenum(C{1}(1:48601)); datestr(dts(end))
C{213}{48600}
dts = datenum(C{1}(1:48600)); datestr(dts([1:10,end]))
C{1}{1:10}
C{3}{1:10}
dts = datenum(C{3}(1:48600)); datestr(dts([1:10,end]))
dts = datenum(C{3}(1:40600)); datestr(dts([1:10,end]))
dts = datenum(C{3}(1:20000)); datestr(dts([1:10,end]))
dts = datenum(C{3}(1:10000)); datestr(dts([1:10,end]))
dts = datenum(C{3}(1:15000)); datestr(dts([1,end]))
dts = datenum(C{3}(1:12500)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11500)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11800)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11700)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11750)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11730)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11740)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11735)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11738)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11737)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11736)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11735)); datestr(dts([1,end]))
C{3}{11735:11737}
help datestr
help datenum
numel(find(isempty(C{3})))
numel(find(C{3}=={}))
find(cellstr(@isempty,C{3}))
iscell(C{3})
find(cellfun(@isempty,C{3}))
badrow = find(cellfun(@isempty,C{3}));
for ix = 1:numel(C)
C{ix}(badrow) = [];
end;
dts = datenum(C{3});
size(C{1})
size(C{211})
C{4}
str2num(C{4})
str2num(C{4}{:})
fmt
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fname = fullfile('currents_2015','Shallow and deep and TCM  merge ver 2  for export.csv');
% Read file
x = fileread(fname);
sum([2 1 1 1 21*5 21*5 1 (2+(5*15)) 16 10])
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'},'','');
C = textscan(x,fmt,'HeaderLines',1,'EndOfLine','\r\n','Delimiter',',');
C{1}
C{2}
C
fmt = repmat('%s',[1,213]);
C = textscan(x,fmt,'HeaderLines',1,'EndOfLine','\r\n','Delimiter',',');
fmt
fmt(end-1:end)='';
fmg
fmt
fmt = ['%*s',fmt]
C = textscan(x,fmt,'HeaderLines',1,'EndOfLine','\r\n','Delimiter',',');
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'},'','');
fmt
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'},'','');
ischar([])
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'},'','');
fmt
numel(find(fmt=='%'))
sum([2 1 1 1 5*21 1 (2+(5*15)) 16 2*5])
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',5*21,'%f',1,'',(2+(5*15)),'%f',16,'',2*5,'%f'},'','');
C = textscan(x,fmt,'HeaderLines',1,'EndOfLine','\r\n','Delimiter',',');
C{1}
C{3}
badrow = find(cellfun(@isempty,C{1}));
for ix = 1:numel(C)
C{ix}(badrow) = [];
end;
dts = datenum(C{1});
jack.deep_seatemp.data = C{2};
jack.deep_seatemp.date = dts;
fmg; plot_ts(jack.deep_seatemp);
jack.deep_adcp.u.date = dts;
jack.deep_adcp.u.prof = C{3:23};
jack.deep_adcp
jack.deep_adcp.u
C{3:4}
C{3}
C{3:4}
for ix = 1:21
jack.deep_adcp.u.prof(1:n,ix) = C{3+ix-1};
end;
n = numel(dts);
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{2};
jack.deep_adcp.u.date = dts;
for ix = 1:21
jack.deep_adcp.u.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.u
jack.deep_adcp.u.data = nanmean(jack.deep_adcp.u.prof,2);
jack.deep_adcp.u
n = numel(dts);
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{2};
% Deep ADCP - current East velocity
jack.deep_adcp.u.date = dts;
jack.deep_adcp.u.data = [];
for ix = 1:21
jack.deep_adcp.u.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.u.data = nanmean(jack.deep_adcp.u.prof,2);
% Deep ADCP - current North velocity
jack.deep_adcp.v.date = dts;
jack.deep_adcp.v.data = [];
for ix = 1:21
jack.deep_adcp.v.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.v.data = nanmean(jack.deep_adcp.v.prof,2);
% Deep ADCP - current vertical velocity
jack.deep_adcp.w.date = dts;
jack.deep_adcp.w.data = [];
for ix = 1:21
jack.deep_adcp.w.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.w.data = nanmean(jack.deep_adcp.w.prof,2);
% Deep ADCP - current speed
jack.deep_adcp.spd.date = dts;
jack.deep_adcp.spd.data = [];
for ix = 1:21
jack.deep_adcp.spd.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.spd.data = nanmean(jack.deep_adcp.spd.prof,2);
% Deep ADCP - current direction
jack.deep_adcp.dir.date = dts;
jack.deep_adcp.dir.data = [];
for ix = 1:21
jack.deep_adcp.dir.prof(1:n,ix) = C{3+ix-1};
end;
NOPE!
jack.deep_adcp.dir.data = uv_to_dir_curr(jack.deep_adcp.u.data,jack.deep_adcp.v.data);
n = numel(dts);
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{2};
% Deep ADCP - current East velocity
jack.deep_adcp.u.date = dts;
jack.deep_adcp.u.data = [];
for ix = 1:21
jack.deep_adcp.u.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.u.data = nanmean(jack.deep_adcp.u.prof,2);
% Deep ADCP - current North velocity
jack.deep_adcp.v.date = dts;
jack.deep_adcp.v.data = [];
for ix = 1:21
jack.deep_adcp.v.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.v.data = nanmean(jack.deep_adcp.v.prof,2);
% Deep ADCP - current vertical velocity
jack.deep_adcp.w.date = dts;
jack.deep_adcp.w.data = [];
for ix = 1:21
jack.deep_adcp.w.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.w.data = nanmean(jack.deep_adcp.w.prof,2);
% Deep ADCP - current speed
jack.deep_adcp.spd.date = dts;
jack.deep_adcp.spd.data = [];
for ix = 1:21
jack.deep_adcp.spd.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.spd.data = nanmean(jack.deep_adcp.spd.prof,2);
% Deep ADCP - current direction
jack.deep_adcp.dir.date = dts;
jack.deep_adcp.dir.data = [];
for ix = 1:21
jack.deep_adcp.dir.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.dir.data = uv_to_dir_curr(jack.deep_adcp.u.data,jack.deep_adcp.v.data);
jack
jack.deep_adcp
fmg; plot_ts(jack.deep_seatemp,jack.adcp.u);
fmg; plot_ts(jack.deep_seatemp,jack.deep_adcp.u);
n = numel(dts);
deep_tix = 2;
deep_aix = deep_tix + 1;
shallow_tix = deep_aix + (5*21);
shallow_zix = shallow_tix + 1;
shallow_aix = shallow_zix + 1;
tcm2_aix = shallow_aix + (5*15);
tcm1_aix = tcm2_aix + 5;
jack.shallow_seatemp.date = dts;
jack.shallow_seatemp.data = C{shallow_tix};
jack.tcm1.seatemp.date = dts;
jack.tcm1.seatemp.data = C{tcm1_aix+4};
jack.tcm2.seatemp.date = dts;
jack.tcm2.seatemp.data = C{tcm2_aix+4};
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{deep_tix};
jack.tcm1_u.date = dts;
jack.tcm1_u.data = C{tcm1_aix+3};
jack.tcm1_v.date = dts;
jack.tcm1_v.data = C{tcm1_aix+2};
jack.tcm1_spd.date = dts;
jack.tcm1_spd.data = C{tcm1_aix};
jack.tcm1_dir.date = dts;
jack.tcm1_dir.data = C{tcm1_aix+1};
jack.tcm2_u.date = dts;
jack.tcm2_u.data = C{tcm2_aix+3};
jack.tcm2_v.date = dts;
jack.tcm2_v.data = C{tcm2_aix+2};
jack.tcm2_spd.date = dts;
jack.tcm2_spd.data = C{tcm2_aix};
jack.tcm2_dir.date = dts;
jack.tcm2_dir.data = C{tcm2_aix+1};
% Shallow ADCP - current East velocity
jack.shallow_adcp_u.date = dts;
jack.shallow_adcp_u.data = [];
for ix = 1:21
jack.shallow_adcp_u.prof(1:n,ix) = C{shallow_aix+ix-1};
end;
jack.shallow_adcp_u.data = nanmean(jack.shallow_adcp_u.prof,2);
% Shallow ADCP - current North velocity
jack.shallow_adcp_v.date = dts;
jack.shallow_adcp_v.data = [];
for ix = 1:21
jack.shallow_adcp_v.prof(1:n,ix) = C{shallow_aix+21+ix-1};
end;
jack.shallow_adcp_v.data = nanmean(jack.shallow_adcp_v.prof,2);
% Shallow ADCP - current vertical velocity
jack.shallow_adcp.w.date = dts;
jack.shallow_adcp.w.data = [];
for ix = 1:21
jack.shallow_adcp.w.prof(1:n,ix) = C{shallow_aix+42+ix-1};
end;
jack.shallow_adcp.w.data = nanmean(jack.shallow_adcp.w.prof,2);
% Shallow ADCP - current speed
jack.shallow_adcp_spd.date = dts;
jack.shallow_adcp_spd.data = [];
for ix = 1:21
jack.shallow_adcp_spd.prof(1:n,ix) = C{shallow_aix+63+ix-1};
end;
jack.shallow_adcp_spd.data = nanmean(jack.shallow_adcp_spd.prof,2);
% Shallow ADCP - current direction
jack.shallow_adcp_dir.date = dts;
jack.shallow_adcp_dir.data = [];
for ix = 1:21
jack.shallow_adcp_dir.prof(1:n,ix) = C{shallow_aix+84+ix-1};
end;
jack.shallow_adcp_dir.data = uv_to_dir_curr(jack.shallow_adcp_u.data,jack.shallow_adcp_v.data);
% Deep ADCP - current East velocity
jack.deep_adcp_u.date = dts;
jack.deep_adcp_u.data = [];
for ix = 1:21
jack.deep_adcp_u.prof(1:n,ix) = C{deep_aix+ix-1};
end;
jack.deep_adcp_u.data = nanmean(jack.deep_adcp_u.prof,2);
% Deep ADCP - current North velocity
jack.deep_adcp_v.date = dts;
jack.deep_adcp_v.data = [];
for ix = 1:21
jack.deep_adcp_v.prof(1:n,ix) = C{deep_aix+21+ix-1};
end;
jack.deep_adcp_v.data = nanmean(jack.deep_adcp_v.prof,2);
% Deep ADCP - current vertical velocity
jack.deep_adcp.w.date = dts;
jack.deep_adcp.w.data = [];
for ix = 1:21
jack.deep_adcp.w.prof(1:n,ix) = C{deep_aix+42+ix-1};
end;
jack.deep_adcp.w.data = nanmean(jack.deep_adcp.w.prof,2);
% Deep ADCP - current speed
jack.deep_adcp_spd.date = dts;
jack.deep_adcp_spd.data = [];
for ix = 1:21
jack.deep_adcp_spd.prof(1:n,ix) = C{deep_aix+63+ix-1};
end;
jack.deep_adcp_spd.data = nanmean(jack.deep_adcp_spd.prof,2);
% Deep ADCP - current direction
jack.deep_adcp_dir.date = dts;
jack.deep_adcp_dir.data = [];
for ix = 1:21
jack.deep_adcp_dir.prof(1:n,ix) = C{deep_aix+84+ix-1};
end;
jack.deep_adcp_dir.data = uv_to_dir_curr(jack.deep_adcp_u.data,jack.deep_adcp_v.data);
deep_aix+84+ix-1
n = numel(dts);
deep_tix = 2;
deep_aix = deep_tix + 1;
shallow_tix = deep_aix + (5*21);
shallow_zix = shallow_tix + 1;
shallow_aix = shallow_zix + 1;
tcm2_aix = shallow_aix + (5*15);
tcm1_aix = tcm2_aix + 5;
jack.shallow_seatemp.date = dts;
jack.shallow_seatemp.data = C{shallow_tix};
jack.tcm1.seatemp.date = dts;
jack.tcm1.seatemp.data = C{tcm1_aix+4};
jack.tcm2.seatemp.date = dts;
jack.tcm2.seatemp.data = C{tcm2_aix+4};
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{deep_tix};
jack.tcm1_u.date = dts;
jack.tcm1_u.data = C{tcm1_aix+3};
jack.tcm1_v.date = dts;
jack.tcm1_v.data = C{tcm1_aix+2};
jack.tcm1_spd.date = dts;
jack.tcm1_spd.data = C{tcm1_aix};
jack.tcm1_dir.date = dts;
jack.tcm1_dir.data = C{tcm1_aix+1};
jack.tcm2_u.date = dts;
jack.tcm2_u.data = C{tcm2_aix+3};
jack.tcm2_v.date = dts;
jack.tcm2_v.data = C{tcm2_aix+2};
jack.tcm2_spd.date = dts;
jack.tcm2_spd.data = C{tcm2_aix};
jack.tcm2_dir.date = dts;
jack.tcm2_dir.data = C{tcm2_aix+1};
% Shallow ADCP - current East velocity
jack.shallow_adcp_u.date = dts;
jack.shallow_adcp_u.data = [];
for ix = 1:15
jack.shallow_adcp_u.prof(1:n,ix) = C{shallow_aix+ix-1};
end;
jack.shallow_adcp_u.data = nanmean(jack.shallow_adcp_u.prof,2);
% Shallow ADCP - current North velocity
jack.shallow_adcp_v.date = dts;
jack.shallow_adcp_v.data = [];
for ix = 1:15
jack.shallow_adcp_v.prof(1:n,ix) = C{shallow_aix+21+ix-1};
end;
jack.shallow_adcp_v.data = nanmean(jack.shallow_adcp_v.prof,2);
% Shallow ADCP - current vertical velocity
jack.shallow_adcp.w.date = dts;
jack.shallow_adcp.w.data = [];
for ix = 1:15
jack.shallow_adcp.w.prof(1:n,ix) = C{shallow_aix+42+ix-1};
end;
jack.shallow_adcp.w.data = nanmean(jack.shallow_adcp.w.prof,2);
% Shallow ADCP - current speed
jack.shallow_adcp_spd.date = dts;
jack.shallow_adcp_spd.data = [];
for ix = 1:15
jack.shallow_adcp_spd.prof(1:n,ix) = C{shallow_aix+63+ix-1};
end;
jack.shallow_adcp_spd.data = nanmean(jack.shallow_adcp_spd.prof,2);
% Shallow ADCP - current direction
jack.shallow_adcp_dir.date = dts;
jack.shallow_adcp_dir.data = [];
for ix = 1:15
jack.shallow_adcp_dir.prof(1:n,ix) = C{shallow_aix+84+ix-1};
end;
jack.shallow_adcp_dir.data = uv_to_dir_curr(jack.shallow_adcp_u.data,jack.shallow_adcp_v.data);
% Deep ADCP - current East velocity
jack.deep_adcp_u.date = dts;
jack.deep_adcp_u.data = [];
for ix = 1:21
jack.deep_adcp_u.prof(1:n,ix) = C{deep_aix+ix-1};
end;
jack.deep_adcp_u.data = nanmean(jack.deep_adcp_u.prof,2);
% Deep ADCP - current North velocity
jack.deep_adcp_v.date = dts;
jack.deep_adcp_v.data = [];
for ix = 1:21
jack.deep_adcp_v.prof(1:n,ix) = C{deep_aix+21+ix-1};
end;
jack.deep_adcp_v.data = nanmean(jack.deep_adcp_v.prof,2);
% Deep ADCP - current vertical velocity
jack.deep_adcp.w.date = dts;
jack.deep_adcp.w.data = [];
for ix = 1:21
jack.deep_adcp.w.prof(1:n,ix) = C{deep_aix+42+ix-1};
end;
jack.deep_adcp.w.data = nanmean(jack.deep_adcp.w.prof,2);
% Deep ADCP - current speed
jack.deep_adcp_spd.date = dts;
jack.deep_adcp_spd.data = [];
for ix = 1:21
jack.deep_adcp_spd.prof(1:n,ix) = C{deep_aix+63+ix-1};
end;
jack.deep_adcp_spd.data = nanmean(jack.deep_adcp_spd.prof,2);
% Deep ADCP - current direction
jack.deep_adcp_dir.date = dts;
jack.deep_adcp_dir.data = [];
for ix = 1:21
jack.deep_adcp_dir.prof(1:n,ix) = C{deep_aix+84+ix-1};
end;
jack.deep_adcp_dir.data = uv_to_dir_curr(jack.deep_adcp_u.data,jack.deep_adcp_v.data);
n = numel(dts);
deep_tix = 2;
deep_aix = deep_tix + 1;
shallow_tix = deep_aix + (5*21);
shallow_zix = shallow_tix + 1;
shallow_aix = shallow_zix + 1;
tcm2_aix = shallow_aix + (5*15);
tcm1_aix = tcm2_aix + 5;
jack.shallow_seatemp.date = dts;
jack.shallow_seatemp.data = C{shallow_tix};
jack.tcm1.seatemp.date = dts;
jack.tcm1.seatemp.data = C{tcm1_aix+4};
jack.tcm2.seatemp.date = dts;
jack.tcm2.seatemp.data = C{tcm2_aix+4};
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{deep_tix};
jack.tcm1_u.date = dts;
jack.tcm1_u.data = C{tcm1_aix+3};
jack.tcm1_v.date = dts;
jack.tcm1_v.data = C{tcm1_aix+2};
jack.tcm1_spd.date = dts;
jack.tcm1_spd.data = C{tcm1_aix};
jack.tcm1_dir.date = dts;
jack.tcm1_dir.data = C{tcm1_aix+1};
jack.tcm2_u.date = dts;
jack.tcm2_u.data = C{tcm2_aix+3};
jack.tcm2_v.date = dts;
jack.tcm2_v.data = C{tcm2_aix+2};
jack.tcm2_spd.date = dts;
jack.tcm2_spd.data = C{tcm2_aix};
jack.tcm2_dir.date = dts;
jack.tcm2_dir.data = C{tcm2_aix+1};
fmg; plot_ts(jack.deep_seatemp,jack.tcm2_u);
datetick3;
fmg; plot_ts(jack.deep_seatemp,jack.shallow_seatemp,jack.tcm2_u);
datetick3;
jack=[]; clear jack
C=[]; clear C
x=[]; clear x
n = numel(dts);
deep_tix = 2;
deep_aix = deep_tix + 1;
shallow_tix = deep_aix + (5*21);
shallow_zix = shallow_tix + 1;
shallow_aix = shallow_zix + 1;
tcm2_aix = shallow_aix + (5*15);
tcm1_aix = tcm2_aix + 5;
jack=[]; clear jack
jack.shallow_seatemp.date = dts;
jack.shallow_seatemp.data = C{shallow_tix};
jack.tcm1.seatemp.date = dts;
jack.tcm1.seatemp.data = C{tcm1_aix+4};
jack.tcm2.seatemp.date = dts;
jack.tcm2.seatemp.data = C{tcm2_aix+4};
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{deep_tix};
jack.tcm1_u.date = dts;
jack.tcm1_u.data = C{tcm1_aix+3};
jack.tcm1_v.date = dts;
jack.tcm1_v.data = C{tcm1_aix+2};
jack.tcm1_spd.date = dts;
jack.tcm1_spd.data = C{tcm1_aix};
jack.tcm1_dir.date = dts;
jack.tcm1_dir.data = C{tcm1_aix+1};
jack.tcm2_u.date = dts;
jack.tcm2_u.data = C{tcm2_aix+3};
jack.tcm2_v.date = dts;
jack.tcm2_v.data = C{tcm2_aix+2};
jack.tcm2_spd.date = dts;
jack.tcm2_spd.data = C{tcm2_aix};
jack.tcm2_dir.date = dts;
jack.tcm2_dir.data = C{tcm2_aix+1};
C = textscan(x,fmt,'HeaderLines',1,'EndOfLine','\r\n','Delimiter',',');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
dbstop if error
read_currents_2015
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
read_currents_2015
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
read_currents_2015
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
read_currents_2015
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
read_currents_2015
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
read_currents_2015
help datestr
C{1}{1}
help datestr
dts = datenum(C{1},'mm/dd/yy HH:MM');
olddts = datenum(C{1});
any(dts ~= olddts)
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
read_currents_2015
jack
fmg; plotyy_ts(jack.deep_seatemp,jack.tcm2_u);
fmg; plotyy_ts(jack.deep_seatemp,jack.deep_adcp_u);
annotline([],0)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/17/2016 1:59 PM --%
dirs
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
doirs
dirs
read_currents_2015
find_date_ranges(jack.deep_adcp_u.date)
find_date_ranges(jack.shallow_adcp_u.date)
find_date_ranges(jack.tcm2_u.date)
find_date_ranges(jack.tcm1_u.date)
numel(find(isnan(jack.tcm1_u.data)))
find(isnan(jack.tcm1_u.data),1)
find(~isnan(jack.tcm1_u.data),1)
find(~isnan(jack.deep_adcp_u.data),1)
find(~isnan(jack.shallow_adcp_u.data),1)
find(~isnan(jack.shallow_adcp_v.data),1)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
help find
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
find_date_ranges(jack.tcm1_u.date)
find_date_ranges(jack.tcm2_u.date)
find_date_ranges(jack.deep_adcp_u.date)
find_date_ranges(jack.shallow_adcp_u.date)
find_date_ranges(jack.shallow_adcp_spd.date)
find_date_ranges(jack.shallow_seatemp.date)
find_date_ranges(jack.deep_seatemp.date)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
jack.shallow
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
jack.deep
fmg; plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
datetick3;
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/17/2016 5:56 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
ekman_flux
fdepk
help exist
station_dist(jack.deep,lkwf1)
if ( exist('jack','var') && isfield(jack,'shallow') && ~isfield(jack.shallow,'slope') )
[jack.shallow.slope,jack.shallow.slope_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,jack.shallow.lon,jack.shallow.lat,7);
jack.shallow.isobath_orientation = jack.shallow.slope_orientation - 90;
if ( jack.shallow.isobath_orientation < 0 )
jack.shallow.isobath_orientation = 360 + jack.shallow.isobath_orientation;
end;
[jack.tcm1.slope,jack.tcm1.slope_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,jack.tcm1.lon,jack.tcm1.lat,7);
jack.tcm1.isobath_orientation = jack.tcm1.slope_orientation - 90;
if ( jack.tcm1.isobath_orientation < 0 )
jack.tcm1.isobath_orientation = 360 + jack.tcm1.isobath_orientation;
end;
[jack.tcm2.slope,jack.tcm2.slope_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,jack.tcm2.lon,jack.tcm2.lat,7);
jack.tcm2.isobath_orientation = jack.tcm2.slope_orientation - 90;
if ( jack.tcm2.isobath_orientation < 0 )
jack.tcm2.isobath_orientation = 360 + jack.tcm2.isobath_orientation;
end;
[jack.deep.slope,jack.deep.slope_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,jack.deep.lon,jack.deep.lat,7);
jack.deep.isobath_orientation = jack.deep.slope_orientation - 90;
if ( jack.deep.isobath_orientation < 0 )
jack.deep.isobath_orientation = 360 + jack.deep.isobath_orientation;
end;
end;
jack.shallow.isobath_orientation
jack.deep.isobath_orientation
jack.tcm1.isobath_orientation
jack.tcm2.isobath_orientation
fmg; plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
fmg; plotyy_ts(jack.shallow.seatemp,jack.shallow.adcp_u);
fmg; spt(2,1,1); plotyy_ts(jack.shallow.seatemp,jack.shallow.adcp_u); spt(2,1,2); plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
fwyf1.ndbc_ekman_flux
%-- 8/2/2016 3:41 PM --%
dirs
lkj
cd ecoforecasts
stn = get_station_from_station_name('mlrf1');
stn
%-- 8/2/2016 5:40 PM --%
stn = get_station_from_station_name('mlrf1'); stn = load_all_ndbc_data(stn);
which pushd
cd ecoforecasts
stn = get_station_from_station_name('mlrf1'); stn = load_all_ndbc_data(stn);
dir data/*mlrf*mat
dir data
%-- 8/6/2016 6:10 PM --%
stn = get_station_from_station_name('mlrf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
rehash
stn = station_ekman_flux(stn)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/7/2016 12:41 PM --%
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
which air_dens
rehash
%-- 8/7/2016 12:50 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
dbstop station_ekman_flux 54
stn = station_ekman_flux(stn)
orifld
stn
dbq
dbquit
dbclear all
pd c:/thesis/src
pd d:/thesis/src
dir station_optim*
which station_optimal_isobath_orientation
pd
which station_optimal_isobath_orientation
path
MYDATA = 'D:\';
path(path,[MYDATA 'thesis\src\']);
which station_optimal_isobath_orientation
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
stn
dbstop station_ekman_flux 54
stn = station_ekman_flux(stn)
orifld
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = read_fdep_stevens_data('k');
dir *fdep*
stn = extract_fdep_stevens_data('k');
delete data/fdepk-201607.mat
delete data/fdepk-201608.mat
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = extract_fdep_stevens_data('k');
timenow
stn = station_ekman_flux(stn)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = extract_fdep_stevens_data('k');
help fopen
help delete
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = extract_fdep_stevens_data('k');
extract_fdep_stevens_data('k');
stn = read_fdep_stevens_data('k');
[w,id] = lastwarn
clear ans id w
pd data/foo
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/7/2016 5:57 PM --%
dirs
d
dirs
dir
%-- 8/7/2016 5:59 PM --%
pd d:\ecoforecasts
dirsave
savedirs
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/7/2016 6:00 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fdepk = read_fdep_stevens_data('k');
lkwf1 = get_station_from_station_name('lkwf1'); lkwf1 = load_all_ndbc_data(lkwf1);
fdepk
fdepk = read_fdep_stevens_data('k');
dbstop read_fdep_stevens_data
fdepk = read_fdep_stevens_data('k');
datestr([mindt,maxdt])
res
res.relhumid
find_date_ranges(res.relhumid.date)
find_date_ranges(res.relhumid.date.1)
find_date_ranges(res.relhumid.dat,1)
find_date_ranges(res.relhumid.date,1)
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fdepk = read_fdep_stevens_data('k');
whos
lkwf1 = get_station_from_station_name('lkwf1'); lkwf1 = load_all_ndbc_data(lkwf1);
fwyf1 = get_station_from_station_name('fwyf1'); fwyf1 = load_all_ndbc_data(fwyf1);
find_date_ranges(fwyf1.ndbc_wind1_speed.date)
find_date_ranges(lkwf1.ndbc_wind1_speed.date)
find_date_ranges(fdepk.wind_speed.date)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
timenow
help download_ndbc_files
download_ndbc_files('fwyf1',2015:2016,true)
download_ndbc_files('lkwf1',2015:2016,true)
help download_ndbc_files
dbstop download_ndbc_files 113
download_ndbc_files('lkwf1',2016,false)
need_mo
need_moix
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/8/2016 7:53 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('lkwf1'); stn = load_all_ndbc_data(stn);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('fwyf1'); stn = load_all_ndbc_data(stn);
download_ndbc_files('vakf1',1999:2015,false)
stn = get_station_from_station_name('vakf1'); stn = load_all_ndbc_data(stn);
download_ndbc_files('vakf1',2015,false)
stn = get_station_from_station_name('vakf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('sipf1',1999:2015,false)
stn = get_station_from_station_name('sipf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('41114',1999:2015,false)
stn = get_station_from_station_name('41114'); stn = load_all_ndbc_data(stn);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('41114'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fmg; plotyy_ts(stn.ndbc_sigwavehgt,stn.ndbc_sea_t)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = extract_fdep_stevens_data('k');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fdepk
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
dbstop if error
ekman_flux
dfld
stn
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
scatter_fit_ts(fwyf1.ndbc_ekman_flux,fdepk.fdep_ekman_flux)
scatter_fit_ts(fwyf1.ndbc_ekman_flux,lkwf1.fdep_ekman_flux)
scatter_fit_ts(fwyf1.ndbc_ekman_flux,lkwf1.ndbc_ekman_flux)
timenow
fdepk = plot_hires_bathymetry(fdepk,-[0:2:20,30:10:100],[40e3,10e3]);
fdepk
fdepk = rmfield(fdepk,'ngdc_hires_bathy');
fdepk = plot_hires_bathymetry(fdepk,-[0:2:20,30:10:100],[10e3,50e3]);
fdepk = rmfield(fdepk,'ngdc_hires_bathy');
fdepk = plot_hires_bathymetry(fdepk,-[0:2:20,30:10:100],[20e3,60e3]);
plot(fwyf1.lon,fwyf1.lat,'rp',lkwf1.lon,lkwf1.lat,'rp',fdepk.lon,fdepk.lat,'rp');
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:2:20,30:10:100],[20e3,60e3]);
plot(fwyf1.lon,fwyf1.lat,'rp',lkwf1.lon,lkwf1.lat,'rp',fdepk.lon,fdepk.lat,'rp');
lkwf1.lat,fdepk.lat
fdepk = rmfield(fdepk,'ngdc_hires_bathy');
lkwf1 = rmfield(lkwf1,'ngdc_hires_bathy');
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:2:20,30:10:100],[15e3,80e3]);
plot(fwyf1.lon,fwyf1.lat,'rp',lkwf1.lon,lkwf1.lat,'rp',fdepk.lon,fdepk.lat,'rp');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/11/2016 9:33 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
lookfor ardhuin
path
type phd_hour_seminar_fkeys
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
lookfor lagrang
help augLagFun
lookfor euler
which station_calc_quasi_eulerian
which stokes_drift
stokes_drift(5,1,2,'ardhuin')
stokes_drift(10,1,2,'ardhuin')
stokes_drift(20,1,2,'ardhuin')
stokes_drift(20,0.5,2,'ardhuin')
stokes_drift(10,0.5,2,'ardhuin')
stokes_drift(5,0.5,2,'ardhuin')
stokes_drift(5,0.5,2,'mellor')
stokes_drift(5,0.5,2,'shay')
stokes_drift(5,0.5,2,'monismith')
stokes_drift(5,5,2,'monismith')
stokes_drift(20,5,2,'monismith')
stokes_drift(20,1,2,'monismith')
stokes_drift(10,1,2,'monismith')
stokes_drift(10,1,5,'monismith')
stokes_drift(10,1,5,'mellor')
stokes_drift(20,1,5,'mellor')
stokes_drift(20,2,5,'mellor')
stokes_drift(5,2,5,'mellor')
stokes_drift(5,2,1,'mellor')
stokes_drift(5,2,10,'mellor')
methods={'mellor','monismith','shay','ardhuin'};
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(1:10,1,5); end;
fmg; plot(1:10,sd);
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(5,1:10,5); end;
fmg; plot(1:10,sd);
sd
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(1:10,1,5,methods{mthix}); end;
fmg; plot(1:10,sd);
fmg; plot(1:10,sd); legend(methods);
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(5,1:10,5,methods{mthix}); end;
fmg; plot(1:10,sd); legend(methods);
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(5,1:10./3,5,methods{mthix}); end;
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(5,[1:10]./3,5,methods{mthix}); end;
fmg; plot([1:10]./3,sd); legend(methods);
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(5,1,1:10,methods{mthix}); end;
for mthix=1:numel(methods); for ix=1:10; sd(mthix,ix) = stokes_drift(5,1,ix,methods{mthix}); end; end;
fmg; plot([1:10],sd); legend(methods);
for mthix=1:numel(methods); for ix=1:10; sd(mthix,ix) = stokes_drift(5,1,ix+1,methods{mthix}); end; end;
fmg; plot([1:10]+1,sd); legend(methods);
ws=1:10; hs=0.5:0.5:3.5;  fmg; surf(ws,hs,stokes_drift(ws,hs,2,'ardhuin');
ws=1:10; hs=0.5:0.5:3.5;  fmg; surf(ws,hs,stokes_drift(ws,hs,2,'ardhuin'));
ws=linspace(2,15,10); hs=linspace(0.5,3.0,10);  fmg; surf(ws,hs,stokes_drift(ws,hs,2,'ardhuin'));
ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,'ardhuin'));
view(3)
ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,'ardhuin')); view(3); xlabel('Wind'); ylabel('Sig. wave hgt.); zlabel('Stokes');
ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,'ardhuin')); view(3); xlabel('Wind'); ylabel('Sig. wave hgt.'); zlabel('Stokes');
ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,'ardhuin')); view(3); xlabel('Wind [kts]'); ylabel('Sig. wave hgt. [m]'); zlabel('Stokes [ms^-^1');
method='ardhuin'; ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,method)); view(3); xlabel('Wind [kts]'); ylabel('Sig. wave hgt. [m]'); zlabel('Stokes [ms^-^1]'); titlename(['Surface transport - method of ',upper(method)]);
method='mellor'; ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,method)); view(3); xlabel('Wind [kts]'); ylabel('Sig. wave hgt. [m]'); zlabel('Stokes [ms^-^1]'); titlename(['Surface transport - method of ',upper(method)]);
method='monismith'; ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,method)); view(3); xlabel('Wind [kts]'); ylabel('Sig. wave hgt. [m]'); zlabel('Stokes [ms^-^1]'); titlename(['Surface transport - method of ',upper(method)]);
which capitalize
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
close all
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
mid
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_ww3_station('mlrf1');
stn
median(diff(stn.raw_ww3_sigwavehgt.date))
median(diff(stn.ww3_sigwavehgt.date))
fmg; hist(stn.ww3_peakwaveper.data,100);
fmg; hist(stn.ww3_peakwaveper.data(get_season(stn.ww3_peakwaveper.date)==3),100);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
view(0,90)
view(90,90)
view(45,45)
close all
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
view(45,45)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
0.1*3600*24
fmg; titlename('a\dot b');
fmg; titlename('a^.b');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
view(45,45)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('lonf1',2014:2016,true)
download_ndbc_files('lonf1',2014:2016,true,false)
x=[1,2,3];
x(4:end) = [];
x
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('lonf1',1987:2016,true,false)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
lonf1 = get_station_from_station_name('lonf1'); lonf1 = load_all_ndbc_data(lonf1);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('lonf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
help nargchk
help narginchk
edit datetick
which datetick
help message
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('lonf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('lonf1',2000)
x = urlread('http://www.ndbc.noaa.gov/data/derived2/LONF1.dmv');
x
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('mlrf1',1987:2016,true,false)
download_ndbc_files('smkf1',1987:2016,true,false)
download_ndbc_files('smkf1',1986:2016,true,false)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('mlrf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('smkf1',2015)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('sanf1',1986:2016,true,false)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('sanf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('plsf1',2000:2016,true,false)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('plsf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
ans
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_ww3_station('mlrf1');
fmg; hist(stn.ww3_sigwavehgt.data(get_season(stn.ww3_sigwavehgt.date)==3),100);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_ww3_station('fwyf1');
fmg; hist(stn.ww3_sigwavehgt.data(get_season(stn.ww3_sigwavehgt.date)==3),100);
stn = get_station_from_station_name('mlrf1'); stn = load_all_ndbc_data(stn);
timenow
fmg; hist(stn.ndbc_wind1_speed.data(get_season(stn.ndbc_wind1_speed.date)==3),100);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('mlrf1'); stn = load_all_ndbc_data(stn);
fmg; hist(stn.ndbc_wind1_speed.data(get_season(stn.ndbc_wind1_speed.date)==3),100);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
mfilename
compare_stokes_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_stokes_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
help asec
%-- 8/15/2016 12:49 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/16/2016 9:27 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fname = fullfile('currents_2015','Shallow and deep and TCM  merge ver 2  for export.csv');
% Read file
x = fileread(fname);
% Column headers appear as follows:
% Date,deep missing data,JD (UT),Deep temp,Index,East 1,East 2,East 3,East 4,East 5,East 6,East 7,East 8,East 9,East 10,East 11,East 12,East 13,East 14,East 15,East 16,East 17,East 18,East 19,East 20,East 21,North 1,North 2,North 3,North 4,North 5,North 6,North 7,North 8,North 9,North 10,North 11,North 12,North 13,North 14,North 15,North 16,North 17,North 18,North 19,North 20,North 21,Vert 1,Vert 2,Vert3,vert 4,vert 5,vert 6,vert 7,vert 8,vert 9,vert 10,vert 11,vert 12,vert 13,vert 14,vert 15,vert 16,vert 17,vert 18,vert 19,vert 20,vert 21,mag 1,mag 2,mag 3,mag 4,mag 5,mag 6,mag 7,mag 8,mag 9,mag 10,mag 11,mag 12,mag 13,mag 14,mag 15,mag 16,mag 17,mag 18,mag 19,mag 20,mag 21,dir 1,dir 2,dir 3,dir 4,dir 5,dir 6,dir 7,dir 8,dir 9,dir 10,dir 11,dir 12,dir 13,dir 14,dir 15,dir 16,dir 17,dir 18,dir 19,dir 20,dir 21,grid time,Shallow temp,Z,E1,E2,E3,E4,E5,E6,E7,E8,E9,E10,E11,E12,E13,E14,E15,N1,N2,N3,N4,N5,N6,N7,N8,N9,N10,N11,N12,N13,N14,N15,VV1,VV2,VV3,VV4,VV5,VV6,VV7,VV8,VV9,VV10,VV11,VV12,VV13,VV14,VV15,M1,M2,M3,M4,M5,M6,M7,M8,M9,M10,M11,M12,M13,M14,M15,D1,D2,D3,D4,D5,D6,D7,D8,D9,D10,D11,D12,D13,D14,D15,NewVar1,Deep East WCA,Deep North WCA,Shallow East WCA,Shallow North WCA,S has data,D has data,S and D have data,TCM has data,Shallow ADCP WCA is north,TCM 1 is north,TCM2 is north,Deep ADCP WCA  is north,NewVar15,Date,Time,T2 Speed (cm/s),T2 Bearing (degrees),T2 Velocity-N (cm/s),T2 Velocity-E (cm/s),T2   Temperature (C),T1  Speed (cm/s),T1 Bearing (degrees),T1 Vel N,T1  Velocity-E (cm/s),T1   Temperature (C)
% Process file
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'});
C = textscan(x,fmt,'HeaderLines',1);
dirs
pd ../coral/FACE
fname = fullfile('currents_2015','Shallow and deep and TCM  merge ver 2  for export.csv');
% Read file
x = fileread(fname);
% Column headers appear as follows:
% Date,deep missing data,JD (UT),Deep temp,Index,East 1,East 2,East 3,East 4,East 5,East 6,East 7,East 8,East 9,East 10,East 11,East 12,East 13,East 14,East 15,East 16,East 17,East 18,East 19,East 20,East 21,North 1,North 2,North 3,North 4,North 5,North 6,North 7,North 8,North 9,North 10,North 11,North 12,North 13,North 14,North 15,North 16,North 17,North 18,North 19,North 20,North 21,Vert 1,Vert 2,Vert3,vert 4,vert 5,vert 6,vert 7,vert 8,vert 9,vert 10,vert 11,vert 12,vert 13,vert 14,vert 15,vert 16,vert 17,vert 18,vert 19,vert 20,vert 21,mag 1,mag 2,mag 3,mag 4,mag 5,mag 6,mag 7,mag 8,mag 9,mag 10,mag 11,mag 12,mag 13,mag 14,mag 15,mag 16,mag 17,mag 18,mag 19,mag 20,mag 21,dir 1,dir 2,dir 3,dir 4,dir 5,dir 6,dir 7,dir 8,dir 9,dir 10,dir 11,dir 12,dir 13,dir 14,dir 15,dir 16,dir 17,dir 18,dir 19,dir 20,dir 21,grid time,Shallow temp,Z,E1,E2,E3,E4,E5,E6,E7,E8,E9,E10,E11,E12,E13,E14,E15,N1,N2,N3,N4,N5,N6,N7,N8,N9,N10,N11,N12,N13,N14,N15,VV1,VV2,VV3,VV4,VV5,VV6,VV7,VV8,VV9,VV10,VV11,VV12,VV13,VV14,VV15,M1,M2,M3,M4,M5,M6,M7,M8,M9,M10,M11,M12,M13,M14,M15,D1,D2,D3,D4,D5,D6,D7,D8,D9,D10,D11,D12,D13,D14,D15,NewVar1,Deep East WCA,Deep North WCA,Shallow East WCA,Shallow North WCA,S has data,D has data,S and D have data,TCM has data,Shallow ADCP WCA is north,TCM 1 is north,TCM2 is north,Deep ADCP WCA  is north,NewVar15,Date,Time,T2 Speed (cm/s),T2 Bearing (degrees),T2 Velocity-N (cm/s),T2 Velocity-E (cm/s),T2   Temperature (C),T1  Speed (cm/s),T1 Bearing (degrees),T1 Vel N,T1  Velocity-E (cm/s),T1   Temperature (C)
% Process file
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'});
C = textscan(x,fmt,'HeaderLines',1);
C
C{1}
x
x(1:1000)
x(1:2000)
C = textscan(x,fmt,'HeaderLines',1);
C = textscan(x,fmt,'HeaderLines',1); C{1}
C = textscan(x,fmt,'HeaderLines',2); C{1}
fmt
fmt = 'C = textscan(x,fmt,'HeaderLines',1);
';
fmt = '%*[^,],%*[^,],%[^,],%f,%*[^,],%f,%f,%f,%f,%f,%f';
C = textscan(x,fmt,'HeaderLines',2); C{1}
C = textscan(x,fmt,'HeaderLines',30); C{1}
help textscan
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\n','Delimiter',','); C{1}
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\r\n','Delimiter',','); C{1}
C = textscan(x,fmt,'HeaderLines',1,'EndOfLine','\r\n','Delimiter',','); C{1}
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\r\n','Delimiter',','); C{1}
\
fmt = '%*[^,],%*[^,],%[^,]';
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\r\n','Delimiter',','); C{1}
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\r\n'); C{1}
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\\n'); C{1}
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\n'); C{1}
C = textscan('%s','HeaderLines',30,'EndOfLine','\n'); C{1}
C = textscan('%[^,],%s','HeaderLines',30,'EndOfLine','\n'); C{1}
C = textscan('%[^,],%s','HeaderLines',1,'EndOfLine','\n'); C{1}
C = textscan('%[^,],%s'); C{1}
C = textscan(x,'%s','HeaderLines',30,'EndOfLine','\n'); C{1}
C = textscan('%[^,],%s','HeaderLines',30); C{1}
C = textscan(x,'%[^,],%s','HeaderLines',30); C{1}
x(1:2000)
x(1:20000)
x(19000:20000)
strfind(x,sprintf('\r\n'))
C = textscan(x,'%[^,],%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}
C = textscan(x,'%*[^,],%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}
C{2}
C{1}
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\r\n'); C{1}
fmt
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'});
fmt
fmt(1:10)
fmt(1:40)
fmt(1:39)
C = textscan(x,fmt(1:39),'HeaderLines',30,'EndOfLine','\r\n'); C{1}
C = textscan(x,fmt(1:19),'HeaderLines',30,'EndOfLine','\r\n'); C{1}
fmt(1:19)
C = textscan(x,fmt(1:20),'HeaderLines',30,'EndOfLine','\r\n'); C{1}
C = textscan(x,'%*[^,],%*[^,],%[^,],%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}
C = textscan(x,'%[^,],%[^,],%[^,],%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}
C{4}
C{3}
C{2}
C{1}
C = textscan(x,'%[^,]%[^,],%[^,],%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}
C = textscan(x,'%[^,]%[^,],%[^,],%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}, C{2}
C = textscan(x,'%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}, C{2}
C{2}
C = textscan(x,'%s','HeaderLines',45,'EndOfLine','\r\n'); C{1}, C{2}
C = textscan(x,'%[^,]%[^,],%[^,],%s','HeaderLines',45,'EndOfLine','\r\n'); C{1}, C{2}
C = textscan(x,'%[^,],%[^,],%[^,],%s','HeaderLines',45,'EndOfLine','\r\n'); C{1}, C{2}
C = textscan(x,'%[^,],%s','HeaderLines',45,'EndOfLine','\r\n'); C{1}, C{2}
C{2}
C{1}
C{1}{1}
C{1}{2}
C{1}{3}
C{1}{4}
iscellstr(C{1})
iscellstr(C{1}{1})
ischar(C{1}{1}
ischar(C{1}{1})
C{1}{10}
C{1}
C = textscan(x,'%[^,],%[^,],%s','HeaderLines',45,'EndOfLine','\r\n'); C{1}, C{2}
C{1}{1}
C{1}{2}
C = textscan(x,'%[^,]%[^,],%s','HeaderLines',45,'EndOfLine','\r\n'); C{1}, C{2}
C = textscan(x,'%[^,]%[^,],%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C = textscan(x,'%[^,],%[^,],%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C = textscan(x,'%*s,%*s,%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C = textscan(x,'%[^,],%[^,],%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C{3}
C = textscan(x,'%*60c,%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C = textscan(x,fmt,'HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C
fmt
C = textscan(x,'%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C = textscan(x,'%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}{1}
C = textscan(x,'%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}{2}
C{1}
C = textscan(x,'%s%s%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}{2}
C{1}
C{2}
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fname = fullfile('currents_2015','Shallow and deep and TCM  merge ver 2  for export.csv');
% Read file
x = fileread(fname);
% Column headers appear as follows:
% Date,deep missing data,JD (UT),Deep temp,Index,East 1,East 2,East 3,East 4,East 5,East 6,East 7,East 8,East 9,East 10,East 11,East 12,East 13,East 14,East 15,East 16,East 17,East 18,East 19,East 20,East 21,North 1,North 2,North 3,North 4,North 5,North 6,North 7,North 8,North 9,North 10,North 11,North 12,North 13,North 14,North 15,North 16,North 17,North 18,North 19,North 20,North 21,Vert 1,Vert 2,Vert3,vert 4,vert 5,vert 6,vert 7,vert 8,vert 9,vert 10,vert 11,vert 12,vert 13,vert 14,vert 15,vert 16,vert 17,vert 18,vert 19,vert 20,vert 21,mag 1,mag 2,mag 3,mag 4,mag 5,mag 6,mag 7,mag 8,mag 9,mag 10,mag 11,mag 12,mag 13,mag 14,mag 15,mag 16,mag 17,mag 18,mag 19,mag 20,mag 21,dir 1,dir 2,dir 3,dir 4,dir 5,dir 6,dir 7,dir 8,dir 9,dir 10,dir 11,dir 12,dir 13,dir 14,dir 15,dir 16,dir 17,dir 18,dir 19,dir 20,dir 21,grid time,Shallow temp,Z,E1,E2,E3,E4,E5,E6,E7,E8,E9,E10,E11,E12,E13,E14,E15,N1,N2,N3,N4,N5,N6,N7,N8,N9,N10,N11,N12,N13,N14,N15,VV1,VV2,VV3,VV4,VV5,VV6,VV7,VV8,VV9,VV10,VV11,VV12,VV13,VV14,VV15,M1,M2,M3,M4,M5,M6,M7,M8,M9,M10,M11,M12,M13,M14,M15,D1,D2,D3,D4,D5,D6,D7,D8,D9,D10,D11,D12,D13,D14,D15,NewVar1,Deep East WCA,Deep North WCA,Shallow East WCA,Shallow North WCA,S has data,D has data,S and D have data,TCM has data,Shallow ADCP WCA is north,TCM 1 is north,TCM2 is north,Deep ADCP WCA  is north,NewVar15,Date,Time,T2 Speed (cm/s),T2 Bearing (degrees),T2 Velocity-N (cm/s),T2 Velocity-E (cm/s),T2   Temperature (C),T1  Speed (cm/s),T1 Bearing (degrees),T1 Vel N,T1  Velocity-E (cm/s),T1   Temperature (C)
% Process file
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'});
C = textscan(x,fmt,'HeaderLines',1);
C = textscan(x,'%s%s%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}{2}
size
size(C{1})
size(C{2})
C{2}
C{3}
C = textscan(x,'%s%s%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{3}{1}
help textscan
help strtok
repmat('%s',[1,213])
C = textscan(x,repmat('%s',[1,213]),'HeaderLines',43,'EndOfLine','\r\n','Delimiter',','); C{3}{1}
C{1}
C{3}
C{4}
C = textscan(x,repmat('%s',[1,213]),'HeaderLines',44,'EndOfLine','\r\n','Delimiter',','); C{3}{1}
C{4}{1:10}
dts = datenum(C{1});
dts = datenum(C{1}{1:10});
dts = datenum(C{1}(1:10));
dts = datenum(C{1}(1:10)); datestr(dts(end))
dts = datenum(C{1}(1:100)); datestr(dts(end))
size(C{1})
dts = datenum(C{1}(1:28000)); datestr(dts(end))
dts = datenum(C{1}(1:42000)); datestr(dts(end))
dts = datenum(C{1}(1:49000)); datestr(dts(end))
dts = datenum(C{1}(1:45000)); datestr(dts(end))
dts = datenum(C{1}(1:46000)); datestr(dts(end))
dts = datenum(C{1}(1:47000)); datestr(dts(end))
dts = datenum(C{1}(1:47001)); datestr(dts(end))
dts = datenum(C{1}(1:47500)); datestr(dts(end))
dts = datenum(C{1}(1:4800)); datestr(dts(end))
dts = datenum(C{1}(1:48000)); datestr(dts(end))
dts = datenum(C{1}(1:48500)); datestr(dts(end))
dts = datenum(C{1}(1:48800)); datestr(dts(end))
dts = datenum(C{1}(1:48700)); datestr(dts(end))
dts = datenum(C{1}(1:48600)); datestr(dts(end))
dts = datenum(C{1}(1:48650)); datestr(dts(end))
dts = datenum(C{1}(1:48625)); datestr(dts(end))
dts = datenum(C{1}(1:48612)); datestr(dts(end))
dts = datenum(C{1}(1:486057)); datestr(dts(end))
dts = datenum(C{1}(1:48607)); datestr(dts(end))
dts = datenum(C{1}(1:48603)); datestr(dts(end))
dts = datenum(C{1}(1:48600)); datestr(dts(end))
C{1}{48600:48603}
dts = datenum(C{1}(1:48601)); datestr(dts(end))
C{213}{48600}
dts = datenum(C{1}(1:48600)); datestr(dts([1:10,end]))
C{1}{1:10}
C{3}{1:10}
dts = datenum(C{3}(1:48600)); datestr(dts([1:10,end]))
dts = datenum(C{3}(1:40600)); datestr(dts([1:10,end]))
dts = datenum(C{3}(1:20000)); datestr(dts([1:10,end]))
dts = datenum(C{3}(1:10000)); datestr(dts([1:10,end]))
dts = datenum(C{3}(1:15000)); datestr(dts([1,end]))
dts = datenum(C{3}(1:12500)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11500)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11800)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11700)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11750)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11730)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11740)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11735)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11738)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11737)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11736)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11735)); datestr(dts([1,end]))
C{3}{11735:11737}
help datestr
help datenum
numel(find(isempty(C{3})))
numel(find(C{3}=={}))
find(cellstr(@isempty,C{3}))
iscell(C{3})
find(cellfun(@isempty,C{3}))
badrow = find(cellfun(@isempty,C{3}));
for ix = 1:numel(C)
C{ix}(badrow) = [];
end;
dts = datenum(C{3});
size(C{1})
size(C{211})
C{4}
str2num(C{4})
str2num(C{4}{:})
fmt
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fname = fullfile('currents_2015','Shallow and deep and TCM  merge ver 2  for export.csv');
% Read file
x = fileread(fname);
sum([2 1 1 1 21*5 21*5 1 (2+(5*15)) 16 10])
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'},'','');
C = textscan(x,fmt,'HeaderLines',1,'EndOfLine','\r\n','Delimiter',',');
C{1}
C{2}
C
fmt = repmat('%s',[1,213]);
C = textscan(x,fmt,'HeaderLines',1,'EndOfLine','\r\n','Delimiter',',');
fmt
fmt(end-1:end)='';
fmg
fmt
fmt = ['%*s',fmt]
C = textscan(x,fmt,'HeaderLines',1,'EndOfLine','\r\n','Delimiter',',');
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'},'','');
fmt
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'},'','');
ischar([])
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'},'','');
fmt
numel(find(fmt=='%'))
sum([2 1 1 1 5*21 1 (2+(5*15)) 16 2*5])
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',5*21,'%f',1,'',(2+(5*15)),'%f',16,'',2*5,'%f'},'','');
C = textscan(x,fmt,'HeaderLines',1,'EndOfLine','\r\n','Delimiter',',');
C{1}
C{3}
badrow = find(cellfun(@isempty,C{1}));
for ix = 1:numel(C)
C{ix}(badrow) = [];
end;
dts = datenum(C{1});
jack.deep_seatemp.data = C{2};
jack.deep_seatemp.date = dts;
fmg; plot_ts(jack.deep_seatemp);
jack.deep_adcp.u.date = dts;
jack.deep_adcp.u.prof = C{3:23};
jack.deep_adcp
jack.deep_adcp.u
C{3:4}
C{3}
C{3:4}
for ix = 1:21
jack.deep_adcp.u.prof(1:n,ix) = C{3+ix-1};
end;
n = numel(dts);
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{2};
jack.deep_adcp.u.date = dts;
for ix = 1:21
jack.deep_adcp.u.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.u
jack.deep_adcp.u.data = nanmean(jack.deep_adcp.u.prof,2);
jack.deep_adcp.u
n = numel(dts);
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{2};
% Deep ADCP - current East velocity
jack.deep_adcp.u.date = dts;
jack.deep_adcp.u.data = [];
for ix = 1:21
jack.deep_adcp.u.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.u.data = nanmean(jack.deep_adcp.u.prof,2);
% Deep ADCP - current North velocity
jack.deep_adcp.v.date = dts;
jack.deep_adcp.v.data = [];
for ix = 1:21
jack.deep_adcp.v.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.v.data = nanmean(jack.deep_adcp.v.prof,2);
% Deep ADCP - current vertical velocity
jack.deep_adcp.w.date = dts;
jack.deep_adcp.w.data = [];
for ix = 1:21
jack.deep_adcp.w.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.w.data = nanmean(jack.deep_adcp.w.prof,2);
% Deep ADCP - current speed
jack.deep_adcp.spd.date = dts;
jack.deep_adcp.spd.data = [];
for ix = 1:21
jack.deep_adcp.spd.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.spd.data = nanmean(jack.deep_adcp.spd.prof,2);
% Deep ADCP - current direction
jack.deep_adcp.dir.date = dts;
jack.deep_adcp.dir.data = [];
for ix = 1:21
jack.deep_adcp.dir.prof(1:n,ix) = C{3+ix-1};
end;
NOPE!
jack.deep_adcp.dir.data = uv_to_dir_curr(jack.deep_adcp.u.data,jack.deep_adcp.v.data);
n = numel(dts);
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{2};
% Deep ADCP - current East velocity
jack.deep_adcp.u.date = dts;
jack.deep_adcp.u.data = [];
for ix = 1:21
jack.deep_adcp.u.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.u.data = nanmean(jack.deep_adcp.u.prof,2);
% Deep ADCP - current North velocity
jack.deep_adcp.v.date = dts;
jack.deep_adcp.v.data = [];
for ix = 1:21
jack.deep_adcp.v.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.v.data = nanmean(jack.deep_adcp.v.prof,2);
% Deep ADCP - current vertical velocity
jack.deep_adcp.w.date = dts;
jack.deep_adcp.w.data = [];
for ix = 1:21
jack.deep_adcp.w.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.w.data = nanmean(jack.deep_adcp.w.prof,2);
% Deep ADCP - current speed
jack.deep_adcp.spd.date = dts;
jack.deep_adcp.spd.data = [];
for ix = 1:21
jack.deep_adcp.spd.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.spd.data = nanmean(jack.deep_adcp.spd.prof,2);
% Deep ADCP - current direction
jack.deep_adcp.dir.date = dts;
jack.deep_adcp.dir.data = [];
for ix = 1:21
jack.deep_adcp.dir.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.dir.data = uv_to_dir_curr(jack.deep_adcp.u.data,jack.deep_adcp.v.data);
jack
jack.deep_adcp
fmg; plot_ts(jack.deep_seatemp,jack.adcp.u);
fmg; plot_ts(jack.deep_seatemp,jack.deep_adcp.u);
n = numel(dts);
deep_tix = 2;
deep_aix = deep_tix + 1;
shallow_tix = deep_aix + (5*21);
shallow_zix = shallow_tix + 1;
shallow_aix = shallow_zix + 1;
tcm2_aix = shallow_aix + (5*15);
tcm1_aix = tcm2_aix + 5;
jack.shallow_seatemp.date = dts;
jack.shallow_seatemp.data = C{shallow_tix};
jack.tcm1.seatemp.date = dts;
jack.tcm1.seatemp.data = C{tcm1_aix+4};
jack.tcm2.seatemp.date = dts;
jack.tcm2.seatemp.data = C{tcm2_aix+4};
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{deep_tix};
jack.tcm1_u.date = dts;
jack.tcm1_u.data = C{tcm1_aix+3};
jack.tcm1_v.date = dts;
jack.tcm1_v.data = C{tcm1_aix+2};
jack.tcm1_spd.date = dts;
jack.tcm1_spd.data = C{tcm1_aix};
jack.tcm1_dir.date = dts;
jack.tcm1_dir.data = C{tcm1_aix+1};
jack.tcm2_u.date = dts;
jack.tcm2_u.data = C{tcm2_aix+3};
jack.tcm2_v.date = dts;
jack.tcm2_v.data = C{tcm2_aix+2};
jack.tcm2_spd.date = dts;
jack.tcm2_spd.data = C{tcm2_aix};
jack.tcm2_dir.date = dts;
jack.tcm2_dir.data = C{tcm2_aix+1};
% Shallow ADCP - current East velocity
jack.shallow_adcp_u.date = dts;
jack.shallow_adcp_u.data = [];
for ix = 1:21
jack.shallow_adcp_u.prof(1:n,ix) = C{shallow_aix+ix-1};
end;
jack.shallow_adcp_u.data = nanmean(jack.shallow_adcp_u.prof,2);
% Shallow ADCP - current North velocity
jack.shallow_adcp_v.date = dts;
jack.shallow_adcp_v.data = [];
for ix = 1:21
jack.shallow_adcp_v.prof(1:n,ix) = C{shallow_aix+21+ix-1};
end;
jack.shallow_adcp_v.data = nanmean(jack.shallow_adcp_v.prof,2);
% Shallow ADCP - current vertical velocity
jack.shallow_adcp.w.date = dts;
jack.shallow_adcp.w.data = [];
for ix = 1:21
jack.shallow_adcp.w.prof(1:n,ix) = C{shallow_aix+42+ix-1};
end;
jack.shallow_adcp.w.data = nanmean(jack.shallow_adcp.w.prof,2);
% Shallow ADCP - current speed
jack.shallow_adcp_spd.date = dts;
jack.shallow_adcp_spd.data = [];
for ix = 1:21
jack.shallow_adcp_spd.prof(1:n,ix) = C{shallow_aix+63+ix-1};
end;
jack.shallow_adcp_spd.data = nanmean(jack.shallow_adcp_spd.prof,2);
% Shallow ADCP - current direction
jack.shallow_adcp_dir.date = dts;
jack.shallow_adcp_dir.data = [];
for ix = 1:21
jack.shallow_adcp_dir.prof(1:n,ix) = C{shallow_aix+84+ix-1};
end;
jack.shallow_adcp_dir.data = uv_to_dir_curr(jack.shallow_adcp_u.data,jack.shallow_adcp_v.data);
% Deep ADCP - current East velocity
jack.deep_adcp_u.date = dts;
jack.deep_adcp_u.data = [];
for ix = 1:21
jack.deep_adcp_u.prof(1:n,ix) = C{deep_aix+ix-1};
end;
jack.deep_adcp_u.data = nanmean(jack.deep_adcp_u.prof,2);
% Deep ADCP - current North velocity
jack.deep_adcp_v.date = dts;
jack.deep_adcp_v.data = [];
for ix = 1:21
jack.deep_adcp_v.prof(1:n,ix) = C{deep_aix+21+ix-1};
end;
jack.deep_adcp_v.data = nanmean(jack.deep_adcp_v.prof,2);
% Deep ADCP - current vertical velocity
jack.deep_adcp.w.date = dts;
jack.deep_adcp.w.data = [];
for ix = 1:21
jack.deep_adcp.w.prof(1:n,ix) = C{deep_aix+42+ix-1};
end;
jack.deep_adcp.w.data = nanmean(jack.deep_adcp.w.prof,2);
% Deep ADCP - current speed
jack.deep_adcp_spd.date = dts;
jack.deep_adcp_spd.data = [];
for ix = 1:21
jack.deep_adcp_spd.prof(1:n,ix) = C{deep_aix+63+ix-1};
end;
jack.deep_adcp_spd.data = nanmean(jack.deep_adcp_spd.prof,2);
% Deep ADCP - current direction
jack.deep_adcp_dir.date = dts;
jack.deep_adcp_dir.data = [];
for ix = 1:21
jack.deep_adcp_dir.prof(1:n,ix) = C{deep_aix+84+ix-1};
end;
jack.deep_adcp_dir.data = uv_to_dir_curr(jack.deep_adcp_u.data,jack.deep_adcp_v.data);
deep_aix+84+ix-1
n = numel(dts);
deep_tix = 2;
deep_aix = deep_tix + 1;
shallow_tix = deep_aix + (5*21);
shallow_zix = shallow_tix + 1;
shallow_aix = shallow_zix + 1;
tcm2_aix = shallow_aix + (5*15);
tcm1_aix = tcm2_aix + 5;
jack.shallow_seatemp.date = dts;
jack.shallow_seatemp.data = C{shallow_tix};
jack.tcm1.seatemp.date = dts;
jack.tcm1.seatemp.data = C{tcm1_aix+4};
jack.tcm2.seatemp.date = dts;
jack.tcm2.seatemp.data = C{tcm2_aix+4};
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{deep_tix};
jack.tcm1_u.date = dts;
jack.tcm1_u.data = C{tcm1_aix+3};
jack.tcm1_v.date = dts;
jack.tcm1_v.data = C{tcm1_aix+2};
jack.tcm1_spd.date = dts;
jack.tcm1_spd.data = C{tcm1_aix};
jack.tcm1_dir.date = dts;
jack.tcm1_dir.data = C{tcm1_aix+1};
jack.tcm2_u.date = dts;
jack.tcm2_u.data = C{tcm2_aix+3};
jack.tcm2_v.date = dts;
jack.tcm2_v.data = C{tcm2_aix+2};
jack.tcm2_spd.date = dts;
jack.tcm2_spd.data = C{tcm2_aix};
jack.tcm2_dir.date = dts;
jack.tcm2_dir.data = C{tcm2_aix+1};
% Shallow ADCP - current East velocity
jack.shallow_adcp_u.date = dts;
jack.shallow_adcp_u.data = [];
for ix = 1:15
jack.shallow_adcp_u.prof(1:n,ix) = C{shallow_aix+ix-1};
end;
jack.shallow_adcp_u.data = nanmean(jack.shallow_adcp_u.prof,2);
% Shallow ADCP - current North velocity
jack.shallow_adcp_v.date = dts;
jack.shallow_adcp_v.data = [];
for ix = 1:15
jack.shallow_adcp_v.prof(1:n,ix) = C{shallow_aix+21+ix-1};
end;
jack.shallow_adcp_v.data = nanmean(jack.shallow_adcp_v.prof,2);
% Shallow ADCP - current vertical velocity
jack.shallow_adcp.w.date = dts;
jack.shallow_adcp.w.data = [];
for ix = 1:15
jack.shallow_adcp.w.prof(1:n,ix) = C{shallow_aix+42+ix-1};
end;
jack.shallow_adcp.w.data = nanmean(jack.shallow_adcp.w.prof,2);
% Shallow ADCP - current speed
jack.shallow_adcp_spd.date = dts;
jack.shallow_adcp_spd.data = [];
for ix = 1:15
jack.shallow_adcp_spd.prof(1:n,ix) = C{shallow_aix+63+ix-1};
end;
jack.shallow_adcp_spd.data = nanmean(jack.shallow_adcp_spd.prof,2);
% Shallow ADCP - current direction
jack.shallow_adcp_dir.date = dts;
jack.shallow_adcp_dir.data = [];
for ix = 1:15
jack.shallow_adcp_dir.prof(1:n,ix) = C{shallow_aix+84+ix-1};
end;
jack.shallow_adcp_dir.data = uv_to_dir_curr(jack.shallow_adcp_u.data,jack.shallow_adcp_v.data);
% Deep ADCP - current East velocity
jack.deep_adcp_u.date = dts;
jack.deep_adcp_u.data = [];
for ix = 1:21
jack.deep_adcp_u.prof(1:n,ix) = C{deep_aix+ix-1};
end;
jack.deep_adcp_u.data = nanmean(jack.deep_adcp_u.prof,2);
% Deep ADCP - current North velocity
jack.deep_adcp_v.date = dts;
jack.deep_adcp_v.data = [];
for ix = 1:21
jack.deep_adcp_v.prof(1:n,ix) = C{deep_aix+21+ix-1};
end;
jack.deep_adcp_v.data = nanmean(jack.deep_adcp_v.prof,2);
% Deep ADCP - current vertical velocity
jack.deep_adcp.w.date = dts;
jack.deep_adcp.w.data = [];
for ix = 1:21
jack.deep_adcp.w.prof(1:n,ix) = C{deep_aix+42+ix-1};
end;
jack.deep_adcp.w.data = nanmean(jack.deep_adcp.w.prof,2);
% Deep ADCP - current speed
jack.deep_adcp_spd.date = dts;
jack.deep_adcp_spd.data = [];
for ix = 1:21
jack.deep_adcp_spd.prof(1:n,ix) = C{deep_aix+63+ix-1};
end;
jack.deep_adcp_spd.data = nanmean(jack.deep_adcp_spd.prof,2);
% Deep ADCP - current direction
jack.deep_adcp_dir.date = dts;
jack.deep_adcp_dir.data = [];
for ix = 1:21
jack.deep_adcp_dir.prof(1:n,ix) = C{deep_aix+84+ix-1};
end;
jack.deep_adcp_dir.data = uv_to_dir_curr(jack.deep_adcp_u.data,jack.deep_adcp_v.data);
n = numel(dts);
deep_tix = 2;
deep_aix = deep_tix + 1;
shallow_tix = deep_aix + (5*21);
shallow_zix = shallow_tix + 1;
shallow_aix = shallow_zix + 1;
tcm2_aix = shallow_aix + (5*15);
tcm1_aix = tcm2_aix + 5;
jack.shallow_seatemp.date = dts;
jack.shallow_seatemp.data = C{shallow_tix};
jack.tcm1.seatemp.date = dts;
jack.tcm1.seatemp.data = C{tcm1_aix+4};
jack.tcm2.seatemp.date = dts;
jack.tcm2.seatemp.data = C{tcm2_aix+4};
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{deep_tix};
jack.tcm1_u.date = dts;
jack.tcm1_u.data = C{tcm1_aix+3};
jack.tcm1_v.date = dts;
jack.tcm1_v.data = C{tcm1_aix+2};
jack.tcm1_spd.date = dts;
jack.tcm1_spd.data = C{tcm1_aix};
jack.tcm1_dir.date = dts;
jack.tcm1_dir.data = C{tcm1_aix+1};
jack.tcm2_u.date = dts;
jack.tcm2_u.data = C{tcm2_aix+3};
jack.tcm2_v.date = dts;
jack.tcm2_v.data = C{tcm2_aix+2};
jack.tcm2_spd.date = dts;
jack.tcm2_spd.data = C{tcm2_aix};
jack.tcm2_dir.date = dts;
jack.tcm2_dir.data = C{tcm2_aix+1};
fmg; plot_ts(jack.deep_seatemp,jack.tcm2_u);
datetick3;
fmg; plot_ts(jack.deep_seatemp,jack.shallow_seatemp,jack.tcm2_u);
datetick3;
jack=[]; clear jack
C=[]; clear C
x=[]; clear x
n = numel(dts);
deep_tix = 2;
deep_aix = deep_tix + 1;
shallow_tix = deep_aix + (5*21);
shallow_zix = shallow_tix + 1;
shallow_aix = shallow_zix + 1;
tcm2_aix = shallow_aix + (5*15);
tcm1_aix = tcm2_aix + 5;
jack=[]; clear jack
jack.shallow_seatemp.date = dts;
jack.shallow_seatemp.data = C{shallow_tix};
jack.tcm1.seatemp.date = dts;
jack.tcm1.seatemp.data = C{tcm1_aix+4};
jack.tcm2.seatemp.date = dts;
jack.tcm2.seatemp.data = C{tcm2_aix+4};
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{deep_tix};
jack.tcm1_u.date = dts;
jack.tcm1_u.data = C{tcm1_aix+3};
jack.tcm1_v.date = dts;
jack.tcm1_v.data = C{tcm1_aix+2};
jack.tcm1_spd.date = dts;
jack.tcm1_spd.data = C{tcm1_aix};
jack.tcm1_dir.date = dts;
jack.tcm1_dir.data = C{tcm1_aix+1};
jack.tcm2_u.date = dts;
jack.tcm2_u.data = C{tcm2_aix+3};
jack.tcm2_v.date = dts;
jack.tcm2_v.data = C{tcm2_aix+2};
jack.tcm2_spd.date = dts;
jack.tcm2_spd.data = C{tcm2_aix};
jack.tcm2_dir.date = dts;
jack.tcm2_dir.data = C{tcm2_aix+1};
C = textscan(x,fmt,'HeaderLines',1,'EndOfLine','\r\n','Delimiter',',');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
dbstop if error
read_currents_2015
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
read_currents_2015
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
read_currents_2015
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
read_currents_2015
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
read_currents_2015
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
read_currents_2015
help datestr
C{1}{1}
help datestr
dts = datenum(C{1},'mm/dd/yy HH:MM');
olddts = datenum(C{1});
any(dts ~= olddts)
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
read_currents_2015
jack
fmg; plotyy_ts(jack.deep_seatemp,jack.tcm2_u);
fmg; plotyy_ts(jack.deep_seatemp,jack.deep_adcp_u);
annotline([],0)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/17/2016 1:59 PM --%
dirs
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
doirs
dirs
read_currents_2015
find_date_ranges(jack.deep_adcp_u.date)
find_date_ranges(jack.shallow_adcp_u.date)
find_date_ranges(jack.tcm2_u.date)
find_date_ranges(jack.tcm1_u.date)
numel(find(isnan(jack.tcm1_u.data)))
find(isnan(jack.tcm1_u.data),1)
find(~isnan(jack.tcm1_u.data),1)
find(~isnan(jack.deep_adcp_u.data),1)
find(~isnan(jack.shallow_adcp_u.data),1)
find(~isnan(jack.shallow_adcp_v.data),1)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
help find
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
find_date_ranges(jack.tcm1_u.date)
find_date_ranges(jack.tcm2_u.date)
find_date_ranges(jack.deep_adcp_u.date)
find_date_ranges(jack.shallow_adcp_u.date)
find_date_ranges(jack.shallow_adcp_spd.date)
find_date_ranges(jack.shallow_seatemp.date)
find_date_ranges(jack.deep_seatemp.date)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
jack.shallow
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
jack.deep
fmg; plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
datetick3;
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/17/2016 5:56 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
ekman_flux
fdepk
help exist
station_dist(jack.deep,lkwf1)
if ( exist('jack','var') && isfield(jack,'shallow') && ~isfield(jack.shallow,'slope') )
[jack.shallow.slope,jack.shallow.slope_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,jack.shallow.lon,jack.shallow.lat,7);
jack.shallow.isobath_orientation = jack.shallow.slope_orientation - 90;
if ( jack.shallow.isobath_orientation < 0 )
jack.shallow.isobath_orientation = 360 + jack.shallow.isobath_orientation;
end;
[jack.tcm1.slope,jack.tcm1.slope_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,jack.tcm1.lon,jack.tcm1.lat,7);
jack.tcm1.isobath_orientation = jack.tcm1.slope_orientation - 90;
if ( jack.tcm1.isobath_orientation < 0 )
jack.tcm1.isobath_orientation = 360 + jack.tcm1.isobath_orientation;
end;
[jack.tcm2.slope,jack.tcm2.slope_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,jack.tcm2.lon,jack.tcm2.lat,7);
jack.tcm2.isobath_orientation = jack.tcm2.slope_orientation - 90;
if ( jack.tcm2.isobath_orientation < 0 )
jack.tcm2.isobath_orientation = 360 + jack.tcm2.isobath_orientation;
end;
[jack.deep.slope,jack.deep.slope_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,jack.deep.lon,jack.deep.lat,7);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack\
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
help plotyy_ts
ekman_flux
station_dist(jack.deep,jack.shallow)
station_dist(jack.deep,lkwf1)
station_dist(jack.deep,fwyf1)
station_dist(jack.deep,fdepk)
jack
pvgf1 = get_station_from_station_name('pvgf1'); pvgf1 = load_station_data(pvgf1);
find_date_ranges(pvgf1.ctd_shallow_seatemp.date)
pvgf1 = load_all_ndbc_data(pvgf1);
find_date_ranges(pvgf1.ndbc_ct_shallow_seatemp.date)
station_dist(pvgf1,jack.deep)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
pvgf1 = get_station_from_station_name('pvgf1'); pvgf1 = load_station_data(pvgf1); pvgf1 = load_all_ndbc_data(pvgf1);
find_date_ranges(pvgf1.ndbc_ct_shallow_seatemp.date)
find_date_ranges(pvgf1.ndbc_wind1_speed.date)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('pvgf1',2008:2016,true,false)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
pvgf1 = get_station_from_station_name('pvgf1'); pvgf1 = load_all_ndbc_data(pvgf1);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
pvgf1 = get_station_from_station_name('pvgf1'); pvgf1 = load_all_ndbc_data(pvgf1);
pvgf1 = load_station_data(pvgf1)
scatter_fit_ts(pvgf1.ndbc_wind1_speed,pvgf1.wind_speed)
scatter_fit_ts(pvgf1.ndbc_sea_t,pvgf1.ctd_shallow_seatemp)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
pvgf1
pvgf1 = station_ekman_flux(pvgf1,[],'ndbc');
if ( ~isfield(pvgf1,'slope') )
[pvgf1.slope,pvgf1.slope_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,pvgf1.lon,pvgf1.lat,7);
pvgf1.isobath_orientation = pvgf1.slope_orientation - 90;
if ( pvgf1.isobath_orientation < 0 )
pvgf1.isobath_orientation = 360 + pvgf1.isobath_orientation;
end;
end;
pvgf1=[]; clear pvgf1
pvgf1 = get_station_from_station_name('pvgf1'); pvgf1 = load_all_ndbc_data(pvgf1);
if ( ~isfield(pvgf1,'slope') )
[pvgf1.slope,pvgf1.slope_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,pvgf1.lon,pvgf1.lat,7);
pvgf1.isobath_orientation = pvgf1.slope_orientation - 90;
if ( pvgf1.isobath_orientation < 0 )
pvgf1.isobath_orientation = 360 + pvgf1.isobath_orientation;
end;
end;
pvgf1 = station_ekman_flux(pvgf1,[],'ndbc');
plot(fwyf1.lon,fwyf1.lat,'wp','MarkerFaceColor','k');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:100],[15e3,110e3]);
plot(fwyf1.lon,fwyf1.lat,'wp','MarkerFaceColor','k');
lkwf1 = get_station_from_station_name('lkwf1'); lkwf1 = load_all_ndbc_data(lkwf1);
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:100],[15e3,110e3]);
plot(fwyf1.lon,fwyf1.lat,'wp','MarkerFaceColor','k');
fwyf1 = get_station_from_station_name('fwyf1'); fwyf1 = load_all_ndbc_data(fwyf1);
plot(fwyf1.lon,fwyf1.lat,'wp','MarkerFaceColor','k');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
lkwf1 = get_station_from_station_name('lkwf1'); lkwf1 = load_all_ndbc_data(lkwf1);
fwyf1 = get_station_from_station_name('fwyf1'); fwyf1 = load_all_ndbc_data(fwyf1);
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:100],[20e3,120e3]);
plot(fwyf1.lon,fwyf1.lat,'wp','MarkerFaceColor','k');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
lkwf1 = get_station_from_station_name('lkwf1'); lkwf1 = load_all_ndbc_data(lkwf1);
fwyf1 = get_station_from_station_name('fwyf1'); fwyf1 = load_all_ndbc_data(fwyf1);
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:100],[20e3,120e3]);
plot(fwyf1.lon,fwyf1.lat,'wp','MarkerFaceColor','k');
text(-81,fwyf1.lat,'fwyf1');
text(-81,fwyf1.lat,'FWYF1 \rightarrow');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
lkwf1 = get_station_from_station_name('lkwf1'); lkwf1 = load_all_ndbc_data(lkwf1);
fwyf1 = get_station_from_station_name('fwyf1'); fwyf1 = load_all_ndbc_data(fwyf1);
if ( ~isfield(lkwf1,'ngdc_hires_bathy') )
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:100],[20e3,120e3]);
plot(fwyf1.lon,fwyf1.lat,'wp','MarkerFaceColor','k'); text(-81,fwyf1.lat,'FWYF1 \rightarrow');
plot(lkwf1.lon,lkwf1.lat,'wp','MarkerFaceColor','k'); text(-81,lkwf1.lat,'LKWF1 \rightarrow');
plot(pvgf1.lon,pvgf1.lat,'wp','MarkerFaceColor','k'); text(-81,pvgf1.lat,'PVGF1 \rightarrow');
plot(fdepk.lon,fdepk.lat,'wp','MarkerFaceColor','k'); text(-81,fdepk.lat,'FDEPK \rightarrow');
end;
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
jack
jack.deep
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fdepk = read_fdep_stevens_data('k');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
jack.deep
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
help dbstack
fullfile('foo','bar')
fullfile('foo','bar','')
get_coral_path('FACE')
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
pd
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
load(get_coral_path('CRCP/Upwelling/SEFCRI.mat'))
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
sefcri = load(get_coral_path('CRCP/Upwelling/SEFCRI.mat'));
sefcri
sefcri.updb
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
sefcri = load(get_coral_path('CRCP/Upwelling/SEFCRI.mat'));
fmg;
spt(3,1,1); xlabel('Far North');
plot_ts(sefcri.updb.hourly_t,sefcri.mc2.hourly_t); legend('Offshore','Near-shore');
spt(3,1,2); xlabel('Northern');
plot_ts(sefcri.pb2.hourly_t,sefcri.pb1.hourly_t);
spt(3,1,3); xlabel('Central');
plot_ts(sefcri.bc3.hourly_t,sefcri.bc1.hourly_t);
if doPrint; print('-dpng',fullfile(figspath,'upwelling-sefcri.png')); end;
ylim([13,32])
grid on
fmg;
spt(3,1,1); xlabel('Far North');
plot_ts(sefcri.updb.hourly_t,sefcri.mc2.hourly_t);
ylim([13,32]); grid on; legend('Offshore','Near-shore');
spt(3,1,2); xlabel('Northern');
plot_ts(sefcri.pb2.hourly_t,sefcri.pb1.hourly_t);
ylim([13,32]); grid on; legend('Offshore','Near-shore');
spt(3,1,3); xlabel('Central');
plot_ts(sefcri.bc3.hourly_t,sefcri.bc1.hourly_t);
ylim([13,32]); grid on; legend('Offshore','Near-shore');
if doPrint; print('-dpng',fullfile(figspath,'upwelling-sefcri.png')); end;
fmg;
spt(3,1,1); xlabel('Far North (Martin County)');
plot_ts(sefcri.updb.hourly_t,sefcri.mc2.hourly_t);
ylim([12,32]); grid on; legend('Offshore','Near-shore');
spt(3,1,2); xlabel('Northern (Palm Beach)');
plot_ts(sefcri.pb2.hourly_t,sefcri.pb1.hourly_t);
ylim([12,32]); grid on; legend('Offshore','Near-shore');
spt(3,1,3); xlabel('Central (Ft. Lauderdale)');
plot_ts(sefcri.bc3.hourly_t,sefcri.bc1.hourly_t);
ylim([12,32]); grid on; legend('Offshore','Near-shore');
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
jack = read_jack_currents
jack = read_face_jack_currents
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
plot_ts(ax(1),jack.shallow.seatemp,'-','Color',[0,0.5,0]);
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
plot_ts(ax(1),jack.shallow.seatemp,'-','Color',[0,0.5,0]);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
help hold
jack = read_face_jack_currents
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
hold(ax(1),'on');
plot(ax(1),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
nansummary(jack.shallow.seatemp.data)
nansummary(jack.shallow.adcp_u.data)
nansummary(jack.deep.adcp_u.data)
nansummary(jack.deep.adcp_u.data(jack.deep.adcp_u.date>datenum(2015,1,1)))
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
hold(ax,'on')
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
plot(ax(1),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
ylim(ax(1),[-0.35,+0.35]);
ylim(ax(2),[20,32]);
xlim(datenum(2015,[1,10],1));
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
plot(ax(1),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
ylim(ax(2),[20,32]);
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
plot(ax(1),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
ax
get(ax(1),'ylim')
get(ax(2),'ylim')
ylim(ax(1),[20,32]);
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
plot(ax(2),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
plot(ax(1),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
plot_ts(ax(1),jack.shallow.seatemp,'-','Color',[0,0.5,0]);
%plot(ax(1),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
xlim(datenum(2015,[1,10],1));
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
plot_ts(ax(1),jack.shallow.seatemp,'-','Color',[0,0.5,0]);
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
plot(ax(1),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
plot_ts(ax(1),jack.shallow.seatemp,'-','Color',[0,0.5,0]);
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
plot(ax(1),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
xlim(datenum(2015,[1,10],1));
ylim(ax(1),[20,32]);
ylim(ax(2),[-0.35,+0.35]);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack.shallow = verify_variable(jack.shallow,'adcp_u_36_h_lp');
jack.deep = verify_variable(jack.deep,'adcp_u_36_h_lp');
jack = read_face_jack_currents;
jack.shallow = verify_variable(jack.shallow,'adcp_u_36_h_lp');
jack.deep = verify_variable(jack.deep,'adcp_u_36_h_lp');
jack.shallow
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u_36_h_lp);
plot(ax(1),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
xlim(datenum(2015,[1,10],1));
ylim(ax(1),[20,32]);
ylim(ax(2),[-0.35,+0.35]);
nansummary(jack.deep.adcp_u_36_h_lp.data(jack.deep.adcp_u.date>datenum(2015,1,1)))
nansummary(jack.deep.adcp_u_36_h_lp.data(jack.deep.adcp_u_36_h_lp.date>datenum(2015,1,1)))
nansummary(jack.deep.adcp_u_36_h_lp.data(jack.deep.adcp_u_36_h_lp.date>datenum(2015,6,1)))
ylim(ax(2),[-0.10,+0.10]);
jack.deep = verify_variable(jack.deep,'adcp_u_36_h_avg');
jack.deep = verify_variable(jack.deep,'adcp_u_36_h_sum');
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u_36_h_sum);
plot(ax(1),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
xlim(datenum(2015,[1,10],1));
ylim(ax(1),[20,32]);
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
plot(ax(1),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
xlim(datenum(2015,[1,10],1));
ylim(ax(1),[20,32]);
ylim(ax(2),[-0.35,+0.35]);
if doPrint; print('-dpng',fullfile(figspath,'upwelling-jack.png')); end;
fmg;
spt(6,1,1:5);
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
xlim(datenum(2015,[1,10],1));
ylim([20,32]);
spt(6,1,6);
plot_ts(jack.deep.adcp_u,jack.deep.adcp_u);
xlim(datenum(2015,[1,10],1));
ylim([-0.35,+0.35]);
fmg;
spt(6,1,0:5);
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
fmg;
spt(6,1,-1:5);
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
fmg;
spt(6,1,-2:5);
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
xlim(datenum(2015,[1,10],1));
ylim([20,32]);
spt(6,1,6);
plot_ts(jack.deep.adcp_u,jack.deep.adcp_u);
xlim(datenum(2015,[1,10],1));
ylim([-0.35,+0.35]);
find_date_ranges(jack.tcm2.seatemp.date)
fmg;
spt(6,1,-2:5);
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
xlim(datenum(2015,[1,10],1));
ylim([20,32]);
spt(6,1,6);
plot_ts(jack.deep.adcp_u,jack.deep.adcp_u);
xlim(datenum(2015,[8,10],1));
ylim([-0.35,+0.35]);
fmg;
spt(6,1,-2:5);
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
xlim(datenum(2015,[8,10],1));
ylim([20,32]);
spt(6,1,6);
plot_ts(jack.deep.adcp_u,jack.deep.adcp_u);
xlim(datenum(2015,[8,10],1));
ylim([-0.35,+0.35]);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
help extract_sfomc_etc
help exist
help chdir
help cd
help bif
which bif
bif
cd ..
sfo = get_sfomc_data;
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
sfo = get_sfomc_data;
help call
help feval
feval(ans)
fcnm = ans;
feval(fcnm)
exist(fcnm)
exist(f[cnm,'.m])
exist([fcnm,'.m])
exist([fcnm,'.m'])
feval([fcnm,'.m'])
dbquit
help eval
help evalc
help evalin
help cd
cwd = pwd
fcnm = ans;
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
sfo = get_sfomc_data;
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
sfo = get_sfomc_data;
res
upwix
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
sfo = get_sfomc_data;
whos
whos(sfo)
whos('sfo')
help whos
help struct
help orderfields
help cell2struct
help struct2cell
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
sfo = get_sfomc_data;
save('foobie.mat','-struct','sfo')
whos('foobie.mat')
whos('foobie.mat')
whos('-file','foobie.mat')
sfo.nw_w_btm
ans=[]; clear ans
save('foobie.mat','-struct','sfo.nw_w_btm')
x = sfo.nw_w_btm;
save('foobie.mat','-struct','x')
x=[]; clear x
whos('-file','foobie.mat')
whos('-file','foobie.mat')
sfo
sfo.sw_buoy
clear ans
sfo
sfo.pier_cc
sfo.pier_cc.relhumid
find_date_ranges(sfo.pier_cc.relhumid.date)
find_date_ranges(sfo.pier_cc.relhumid.date,5)
find_date_ranges(sfo.pier_cc.air_t.date,5)
lkwf1 = get_station_from_station_name('lkwf1'); lkwf1 = load_all_ndbc_data(lkwf1);
station_dist(lkwf1,sfo.pier_cc)
station_dist(pvgf1,sfo.pier_cc)
pvgf1 = get_station_from_station_name('pvgf1'); pvgf1 = load_all_ndbc_data(pvgf1);
station_dist(pvgf1,sfo.pier_cc)
station_dist(fdepk,sfo.pier_cc)
fdepk = read_fdep_stevens_data('k');
station_dist(fdepk,sfo.pier_cc)
dir *rsmas*
which read_rsmas_weatherpack_data
help read_rsmas_weatherpack_data
type read_rsmas_weatherpack_data
rsm = read_rsmas_weatherpack_data
find_date_ranges(rsm.rsmas_relhumid.date)
station_dist(rsm,sfo.pier_cc)
rsm
find_date_ranges(rsm.rsmas_relhumid.date)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
datetick3
ylim([20,40])
ylim([-0.4,+0.4])
ylim([-0.6,+0.4])
ylim([-0.5,+0.25])
fmg; plot_spec(jack.deep.adcp_u)
fmg; plot_spec(jack.deep,'adcp_u')
fmg; plot_spec(jack.deep,'adcp_u');
help plot_spec
plot_spec(jack.deep,'adcp_u',[],[],[],[],[],true);
xlim([1/4,30])
ylim([1e-6,1e0])
help plot_spec
plot_spec(jack.deep,'adcp_u',[],[],[1/4,24],[1e-4,1e-1],[],true);
help plot_spec_confint
type plot_spec_confint
help plot_spec
plot_spec(jack.deep,'adcp_u',[],[],[1/4,24],[1e-4,1e-1],[],true,true,[],false);
plot_spec(jack.deep,'adcp_u',[],[],[1/4,24],[1e-4,1e-1],[],true,true,[],true);
type plot_spec
xlim([0.4,1.9])
axis([0.4,1.9,0.0,0.5])
axis([0.4,1.9,0.0,0.05])
help plot_spec
plot_spec(jack.deep,'adcp_u',[],[],[1/4,24],[1e-4,1e-1],[],true,true,[],0.68,3);
plot_spec(jack.deep,'adcp_u',[],[],[0.4,1.9],[0.0,0.05],[],true,true,[],0.68,3);
plot_spec(jack.deep,'adcp_u',[],[],[0.4,1.9],[0.0,0.05],[],true,true,[],0.68,5);
plot_spec(jack.deep,'adcp_u',[],[],[0.4,1.9],[0.0,0.05],[],true,true,[],0.68,0);
plot_spec(jack.deep,'adcp_u',[],[],[0.4,1.9],[0.0,0.05],[],true,true,[],0.68,[]);
plot_spec(jack.deep,'adcp_u',[],[],[0.4,1.9],[0.0,0.05],[],true,true,[],0.68,10);
plot_spec(jack.deep,'adcp_u',[],[],[0.4,1.9],[0.0,0.05],[],true,true,[],0.93,9);
plot_spec(jack.deep,'adcp_u',[],[],[0.4,1.9],[0.0,0.05],[],true,true,[],0.93,10);
plot_spec(jack.deep,'adcp_u',[],[],[0.4,1.9],[0.0,0.05],[],true,true,[],0.50,10);
plot_spec(jack.deep,'adcp_u',[],[],[0.4,1.9],[0.0,0.05],[],true,true,[],0.50,9);
plot_spec(jack.deep,'adcp_u',[],[],[0.4,1.9],[0.0,0.05],[],true,true,[],0.68,9);
plot_spec(jack.deep,'adcp_u',[],[],[0.44,1.24],[0.0,0.04],[],true,true,[],0.68,9);
plot_spec(jack.shallow,'adcp_u',[],[],[0.44,1.24],[0.0,0.04],[],true,true,[],0.68,9);
xlim([0.25,1.24])
xlim([0.40,1.24])
help plot_spec
plot_spec(jack.shallow,'adcp_u',[],[],[0.35,1.24],[0.0,0.04],[],true,true,[],0.68,9);
help plot_spec
plot_spec(jack.shallow,'adcp_u',[],[],[0.35,1.24],[0.0,0.04],[],true,true,[],0.68,9);
plot_spec(jack.shallow,'adcp_u',[],[],[0.35,1.24],[0.0,0.04],[],true,true,[],0.68,9); ylabel('HWD shallow'); print('-png','figs/jack-hwd-shallow-adcp_u-spec.png');
plot_spec(jack.shallow,'adcp_u',[],[],[0.35,1.24],[0.0,0.04],[],true,true,[],0.68,9); ylabel('HWD shallow'); print('-dpng','figs/jack-hwd-shallow-adcp_u-spec.png');
plot_spec(jack.shallow,'adcp_u',[],[],[0.35,1.24],[0.0,0.04],[],true,true,[],0.68,9); ylabel('HWD shallow'); print('-dpng','figs/jack-hwd-shallow-adcp_u-spec-blowup.png');
plot_spec(jack.shallow,'adcp_u',[],[],[0.35,24],[0.0,0.09],[],true,true,[],0.68,9); ylabel('HWD shallow'); print('-dpng','figs/jack-hwd-shallow-adcp_u-spec.png');
plot_spec(jack.deep,'adcp_u',[],[],[0.35,1.24],[0.0,0.04],[],true,true,[],0.68,9); ylabel('HWD deep'); print('-dpng','figs/jack-hwd-deep-adcp_u-spec-blowup.png');
plot_spec(jack.deep,'adcp_u',[],[],[0.35,24],[0.0,0.09],[],true,true,[],0.68,9); ylabel('HWD deep'); print('-dpng','figs/jack-hwd-deep-adcp_u-spec.png');
print('-dpng','figs/jack-hwd-upwelling-2015.png');
print('-dpng','figs/sefcri-upwelling-2010-2013.png');
fmg;
spt(3,1,1); title('Far North (Martin County)');
plot_ts(sefcri.updb.hourly_t,sefcri.mc2.hourly_t);
ylim([12,32]); grid on; legend('Offshore','Near-shore');
spt(3,1,2); title('Northern (Palm Beach)');
plot_ts(sefcri.pb2.hourly_t,sefcri.pb1.hourly_t);
ylim([12,32]); grid on; legend('Offshore','Near-shore');
spt(3,1,3); title('Central (Ft. Lauderdale)');
plot_ts(sefcri.bc3.hourly_t,sefcri.bc1.hourly_t);
ylim([12,32]); grid on; legend('Offshore','Near-shore');
if doPrint; print('-dpng',fullfile(figspath,'upwelling-sefcri-2010-2013.png')); end;
%-- 8/18/2016 11:06 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
sfomc = get_sfomc_data;
fmg; plot_ts(sfomc.nw_w_btm.adcp_seatemp);
fmg; plot_ts(subset_ts(sfomc.nw_w_btm.adcp_seatemp,@ts_jas));
ts = subset_ts(sfomc.nw_w_btm.adcp_seatemp,@ts_jas)
fmg; plot(get_monthdayhour(ts),ts.data);
fmg; plot(get_monthdayhour(ts.date),ts.data);
fmg; plot(get_monthdayhour(ts.date),ts.data,'.');
clear ans
dir *year*
help year_overlap_plot_ts.m
fmg; year_overlap_plot_ts(ts);
ts = subset_ts(subset_ts(sfomc.nw_w_btm.adcp_seatemp,@ts_jas),@(x)(get_year(x.date)~=2008));
fmg; year_overlap_plot_ts(ts);
lkwf1 = get_station_from_station_name('lkwf1'); lkwf1 = load_all_ndbc_data(lkwf1);
fmg; plot_ts(subset_ts(sfomc.nw_w_btm.adcp_seatemp,@ts_jas));
datetick3;
plot_ts(lkwf1.ndbc_sea_t,'r')
fmg; plotyy_ts(subset_ts(sfomc.nw_w_btm.adcp_seatemp,@ts_jas),lkwf1.ndbc_wind1_speed);
datetick3;
ylim(datetick(2004,[6,9],1)); datetick3;
ylim(datenum(2004,[6,9],1)); datetick3;
fmg; ax=plotyy_ts(subset_ts(sfomc.nw_w_btm.adcp_seatemp,@ts_jas),lkwf1.ndbc_wind1_speed);
ylim(ax(1),datenum(2004,[6,9],1));
fmg; plotyy_ts(subset_ts(sfomc.nw_w_btm.adcp_seatemp,@ts_jas),lkwf1.ndbc_wind1_speed);
xlim(datenum(2004,[6,9],1)); datetick3;
xlim(datenum(2005,[6,9],1)); datetick3;
xlim(datenum(2005,[6,10],1)); datetick3;
25000/12/2
sipf1 = get_station_from_station_name('sipf1')
sipf1 = get_station_from_station_name('sipf1'); sipf1 = load_all_ndbc_data(sipf1);
fmg; plotyy_ts(sipf1.ndbc_sea_t,sipf1.ndbc_wind1_speed);
station_dist(sipf1,jack.deep)_
station_dist(sipf1,jack.deep)
jack = read_face_jack_currents;
station_dist(sipf1,jack.deep)
station_dist(lkwf1,jack.deep)
station_dist(pvgf1,jack.deep)
pvgf1 = get_station_from_station_name('pvgf1'); pvgf1 = load_all_ndbc_data(pvgf1);
station_dist(pvgf1,jack.deep)
pvgf1
pvgf1 = station_ekman_flux(pvgf1)
fmg; plotyy_ts(pvgf1.ndbc_ekman_flux,jack.deep.seatemp)
datetick3;
fmg; plot_ts(pvgf1.ndbc_wind1_dir)
xlim(datenum(2014,8,[10,35])); datetick3;
plot(jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
find_date_ranges(jack.tcm1.seatemp.date)
find_date_ranges(pvgf1.ndbc_sea_t.date)
find_date_ranges(pvgf1.ndbc_ct_shallow_seatemp.date)
find_date_ranges(sfomc.nw_w_btm.date)
find_date_ranges(sfomc.nw_w_btm.adcp_seatemp.date)
find_date_ranges(sfomc.nw_w_btm.sbe_seatemp.date)
ftpf1 = get_station_from_station_name('41114'); ftpf1 = load_all_ndbc_data(ftpf1);
find_date_ranges(ftpf1.ndbc_sea_t.date)
find_date_ranges(ftpf1.ndbc_sea_t.date,10)
plot(ftpf1.ndbc_sea_t.date,ftpf1.ndbc_sea_t.data,'-','Color',[0,0.5,0]);
download_ndbc_files('41009',2012:2016,true,false)
stn = get_station_from_station_name('41009')
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
canf1 = get_station_from_station_name('41009'); canf1 = load_all_ndbc_data(canf1);
stn = get_station_from_station_name('4113')
stn = get_station_from_station_name('41113')
canf1
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('41113',2012:2016,true,false)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
cnnf1 = get_station_from_station_name('41113'); cnnf1 = load_all_ndbc_data(cnnf1);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fmg; plotyy_ts(pvgf1.ndbc_ekman_flux,jack.deep.seatemp)
xlim(datenum(2014,8,[10,35])); datetick3;
datetick3;
plot(jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
plot(ftpf1.ndbc_sea_t.date,ftpf1.ndbc_sea_t.data,'-','Color',[0,0.5,0]);
plot(canf1.ndbc_sea_t.date,canf1.ndbc_sea_t.data,'-','Color',[0,0.5,0]);
plot(cnnf1.ndbc_sea_t.date,cnnf1.ndbc_sea_t.data,'-','Color',[0,0.5,0]);
plot(fdepk.ndbc_sea_t.date,fdepk.ndbc_sea_t.data,'-','Color',[0,0.5,0]);
find_date_ranges(fdepk.fdep_seatemp_deep.date)
find_date_ranges(fdepk.fdep_seatemp_deep.date,10)
plot(fdepk.fdep_seatemp_deep.date,fdepk.fdep_seatemp_deep.data,'-','Color',[0,0.5,0]);
whos
textlat = -81.0;
plot(fwyf1.lon,fwyf1.lat,'wp','MarkerFaceColor','r');
text(textlat,fwyf1.lat,'FWYF1 \rightarrow');
plot(lkwf1.lon,lkwf1.lat,'wp','MarkerFaceColor','r');
text(textlat,lkwf1.lat,'LKWF1 \rightarrow');
plot(pvgf1.lon,pvgf1.lat,'wp','MarkerFaceColor','r');
text(textlat,pvgf1.lat,'PVGF1 \rightarrow');
plot(fdepk.lon,fdepk.lat,'wp','MarkerFaceColor','r');
text(textlat,fdepk.lat,'FDEP "K" \rightarrow');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'wp','MarkerFaceColor','r');
text(textlat,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'wp','MarkerFaceColor','r');
text(textlat,sefcri.bc3.lat,'SEFCRI PB2 \rightarrow');
plot(jack.deep.lon,jack.deep.lat,'wp','MarkerFaceColor','r');
text(textlat,jack.deep.lat,'HWD outfall \rightarrow');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'wp','MarkerFaceColor','r');
text(textlat,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow');
plot(sefcri.updb.lon,sefcri.updb.lat,'wp','MarkerFaceColor','r');
text(textlat,sefcri.updb.lat,'SEFCRI UPDB \rightarrow');
plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'wp','MarkerFaceColor','r');
text(textlat,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow');
if doPrint; print('-dpng',fullfile(figspath,'upwelling-bathymetry.png')); end;
textlat = -81.0;
plot(fwyf1.lon,fwyf1.lat,'rp','MarkerFaceColor','w');
text(textlat,fwyf1.lat,'FWYF1 \rightarrow');
plot(lkwf1.lon,lkwf1.lat,'rp','MarkerFaceColor','w');
text(textlat,lkwf1.lat,'LKWF1 \rightarrow');
plot(pvgf1.lon,pvgf1.lat,'rp','MarkerFaceColor','w');
text(textlat,pvgf1.lat,'PVGF1 \rightarrow');
plot(fdepk.lon,fdepk.lat,'rp','MarkerFaceColor','w');
text(textlat,fdepk.lat,'FDEP "K" \rightarrow');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.bc3.lat,'SEFCRI BC3 \rightarrow');
plot(jack.deep.lon,jack.deep.lat,'rp','MarkerFaceColor','w');
text(textlat,jack.deep.lat,'HWD outfall \rightarrow');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow');
plot(sefcri.updb.lon,sefcri.updb.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.updb.lat,'SEFCRI UPDB \rightarrow');
plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'rp','MarkerFaceColor','w');
text(textlat,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow');
if doPrint; print('-dpng',fullfile(figspath,'upwelling-bathymetry.png')); end;
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:100],[20e3,120e3]);
textlat = -81.0;
plot(fwyf1.lon,fwyf1.lat,'rp','MarkerFaceColor','w');
text(textlat,fwyf1.lat,'FWYF1 \rightarrow');
plot(lkwf1.lon,lkwf1.lat,'rp','MarkerFaceColor','w');
text(textlat,lkwf1.lat,'LKWF1 \rightarrow');
% plot(pvgf1.lon,pvgf1.lat,'rp','MarkerFaceColor','w');
% text(textlat,pvgf1.lat,'PVGF1 \rightarrow');
plot(fdepk.lon,fdepk.lat,'rp','MarkerFaceColor','w');
text(textlat,fdepk.lat,'FDEP "K" \rightarrow');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.bc3.lat,'SEFCRI BC3 \rightarrow');
plot(jack.deep.lon,jack.deep.lat,'rp','MarkerFaceColor','w');
text(textlat,jack.deep.lat,'HWD outfall \rightarrow');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow');
plot(sefcri.updb.lon,sefcri.updb.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.updb.lat,'SEFCRI UPDB \rightarrow');
% plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'rp','MarkerFaceColor','w');
% text(textlat,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow');
plot(sfomc.nw_w_btm.lon,sfomc.nw_w_btm.lat,'rp','MarkerFaceColor','w');
text(textlat,sfomc.nw_w_btm.lat,'NSU NW/W mooring \rightarrow');
if doPrint; print('-dpng',fullfile(figspath,'upwelling-bathymetry.png')); end;
station_dist(sefcri.updb,sefcri.slib)
station_dist(sefcri.updb,sefcri.pela)
station_dist(sefcri.updb,sefcri.slib)
station_dist(sefcri.updb,sefcri.mc2)
sefcri.updb,sefcri.pela
plot(sefcri.pela.lon,sefcri.pela.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.pela.lat,'SEFCRI PeLa \rightarrow');
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:100],[20e3,120e3]);
textlat = -81.0;
plot(fwyf1.lon,fwyf1.lat,'rp','MarkerFaceColor','w');
text(textlat,fwyf1.lat,'FWYF1 \rightarrow');
plot(lkwf1.lon,lkwf1.lat,'rp','MarkerFaceColor','w');
text(textlat,lkwf1.lat,'LKWF1 \rightarrow');
% plot(pvgf1.lon,pvgf1.lat,'rp','MarkerFaceColor','w');
% text(textlat,pvgf1.lat,'PVGF1 \rightarrow');
plot(fdepk.lon,fdepk.lat,'rp','MarkerFaceColor','w');
text(textlat,fdepk.lat,'FDEP "K" \rightarrow');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.bc3.lat,'SEFCRI BC3 \rightarrow');
plot(jack.deep.lon,jack.deep.lat,'rp','MarkerFaceColor','w');
text(textlat,jack.deep.lat,'HWD outfall \rightarrow');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow');
plot(sefcri.updb.lon,sefcri.updb.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.updb.lat,'SEFCRI UpDB \rightarrow');
plot(sefcri.pela.lon,sefcri.pela.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.pela.lat,'SEFCRI PeLa \rightarrow');
% plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'rp','MarkerFaceColor','w');
% text(textlat,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow');
plot(sfomc.nw_w_btm.lon,sfomc.nw_w_btm.lat,'rp','MarkerFaceColor','w');
text(textlat,sfomc.nw_w_btm.lat,'NSU NW/W mooring \rightarrow');
if doPrint; print('-dpng',fullfile(figspath,'upwelling-bathymetry.png')); end;
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:100],[20e3,120e3]);
textlat = -81.0;
plot(fwyf1.lon,fwyf1.lat,'rp','MarkerFaceColor','w');
text(textlat,fwyf1.lat,'FWYF1 \rightarrow');
plot(lkwf1.lon,lkwf1.lat,'rp','MarkerFaceColor','w');
text(textlat,lkwf1.lat,'LKWF1 \rightarrow');
% plot(pvgf1.lon,pvgf1.lat,'rp','MarkerFaceColor','w');
% text(textlat,pvgf1.lat,'PVGF1 \rightarrow');
plot(fdepk.lon,fdepk.lat,'rp','MarkerFaceColor','w');
text(textlat,fdepk.lat,'FDEP "K" \rightarrow');
plot(sefcri.dc1.lon,sefcri.dc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow');
plot(sefcri.bc1.lon,sefcri.bc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.bc3.lat,'SEFCRI BC3 \rightarrow');
plot(jack.deep.lon,jack.deep.lat,'rp','MarkerFaceColor','w');
text(textlat,jack.deep.lat,'HWD outfall \rightarrow');
plot(sefcri.pb1.lon,sefcri.pb1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow');
plot(sefcri.updb.lon,sefcri.updb.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.updb.lat,'SEFCRI UpDB \rightarrow');
plot(sefcri.pela.lon,sefcri.pela.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.pela.lat,'SEFCRI PeLa \rightarrow');
plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'rp','MarkerFaceColor','w');
% text(textlat,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow');
plot(sfomc.nw_w_btm.lon,sfomc.nw_w_btm.lat,'rp','MarkerFaceColor','w');
% text(textlat,sfomc.nw_w_btm.lat,'NSU NW/W mooring \rightarrow');
text(textlat,sfomc.nw_w_btm.lat,'NSU moorings \rightarrow');
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:100],[20e3,120e3]);
textlat = -81.0;
plot(fwyf1.lon,fwyf1.lat,'rp','MarkerFaceColor','w');
text(textlat,fwyf1.lat,'FWYF1 \rightarrow');
plot(lkwf1.lon,lkwf1.lat,'rp','MarkerFaceColor','w');
text(textlat,lkwf1.lat,'LKWF1 \rightarrow');
% plot(pvgf1.lon,pvgf1.lat,'rp','MarkerFaceColor','w');
% text(textlat,pvgf1.lat,'PVGF1 \rightarrow');
plot(fdepk.lon,fdepk.lat,'rp','MarkerFaceColor','w');
text(textlat,fdepk.lat,'FDEP "K" \rightarrow');
plot(sefcri.dc1.lon,sefcri.dc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'rp','MarkerFaceColor','w');
% text(textlat,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow');
text(textlat,sefcri.dc3.lat,'SEFCRI DC1/3 \rightarrow');
plot(sefcri.bc1.lon,sefcri.bc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'rp','MarkerFaceColor','w');
% text(textlat,sefcri.bc3.lat,'SEFCRI BC3 \rightarrow');
text(textlat,sefcri.bc3.lat,'SEFCRI BC1/3 \rightarrow');
plot(jack.deep.lon,jack.deep.lat,'rp','MarkerFaceColor','w');
text(textlat,jack.deep.lat,'HWD outfall \rightarrow');
plot(sefcri.pb1.lon,sefcri.pb1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow');
text(textlat,sefcri.pb2.lat,'SEFCRI PB1/2 \rightarrow');
plot(sefcri.mc2.lon,sefcri.mc2.lat,'rp','MarkerFaceColor','w');
plot(sefcri.updb.lon,sefcri.updb.lat,'rp','MarkerFaceColor','w');
% text(textlat,sefcri.updb.lat,'SEFCRI UpDB \rightarrow');
text(textlat,sefcri.updb.lat,'SEFCRI MC2/UpDB \rightarrow');
plot(sefcri.pela.lon,sefcri.pela.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.pela.lat,'SEFCRI PeLa \rightarrow');
plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'rp','MarkerFaceColor','w');
% text(textlat,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow');
plot(sfomc.nw_w_btm.lon,sfomc.nw_w_btm.lat,'rp','MarkerFaceColor','w');
% text(textlat,sfomc.nw_w_btm.lat,'NSU NW/W mooring \rightarrow');
text(textlat,sfomc.nw_w_btm.lat,'NSU moorings \rightarrow');
titlename('USGS Bathymetry - SE Florida shelf');
if doPrint; print('-dpng',fullfile(figspath,'upwelling-bathymetry.png')); end;
sefcroi.pela
sefcri.pela
sefcri.mc2
sefcri.updb
fmg; plot_ts(sefcri.mc2.hourly_t,sefcri.pela.hourly_t);
fmg; plot_ts(sefcri.mc2.t,sefcri.pela.t); legend('MC2','PELA');
sefcri
fmg; plot_ts(sefcri.mc2.hourly_t,sefcri.evca.hourly_t);
fmg; plot_ts(sefcri.mc2.hourly_t,sefcri.evca.hourly_t,sefcri.updb.t);
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:100],[20e3,120e3]);
textlat = -81.0;
plot(fwyf1.lon,fwyf1.lat,'rp','MarkerFaceColor','w');
text(textlat,fwyf1.lat,'FWYF1 \rightarrow');
plot(lkwf1.lon,lkwf1.lat,'rp','MarkerFaceColor','w');
text(textlat,lkwf1.lat,'LKWF1 \rightarrow');
% plot(pvgf1.lon,pvgf1.lat,'rp','MarkerFaceColor','w');
% text(textlat,pvgf1.lat,'PVGF1 \rightarrow');
plot(fdepk.lon,fdepk.lat,'rp','MarkerFaceColor','w');
text(textlat,fdepk.lat,'FDEP "K" \rightarrow');
plot(sefcri.dc1.lon,sefcri.dc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'rp','MarkerFaceColor','w');
% text(textlat,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow');
text(textlat,sefcri.dc3.lat,'SEFCRI DC1/3 \rightarrow');
plot(sefcri.bc1.lon,sefcri.bc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'rp','MarkerFaceColor','w');
% text(textlat,sefcri.bc3.lat,'SEFCRI BC3 \rightarrow');
text(textlat,sefcri.bc3.lat,'SEFCRI BC1/3 \rightarrow');
plot(jack.deep.lon,jack.deep.lat,'rp','MarkerFaceColor','w');
text(textlat,jack.deep.lat,'HWD outfall \rightarrow');
plot(sefcri.pb1.lon,sefcri.pb1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow');
text(textlat,sefcri.pb2.lat,'SEFCRI PB1/2 \rightarrow');
plot(sefcri.mc2.lon,sefcri.mc2.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.mc2.lat,'SEFCRI MC2 \rightarrow');
% plot(sefcri.pela.lon,sefcri.pela.lat,'rp','MarkerFaceColor','w');
% text(textlat,sefcri.pela.lat,'SEFCRI PeLa \rightarrow');
% text(textlat,sefcri.pela.lat,'SEFCRI MC2/PeLa \rightarrow');
plot(sefcri.updb.lon,sefcri.updb.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.updb.lat,'SEFCRI UpDB \rightarrow');
plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'rp','MarkerFaceColor','w');
% text(textlat,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow');
plot(sfomc.nw_w_btm.lon,sfomc.nw_w_btm.lat,'rp','MarkerFaceColor','w');
% text(textlat,sfomc.nw_w_btm.lat,'NSU NW/W mooring \rightarrow');
text(textlat,sfomc.nw_w_btm.lat,'NSU moorings \rightarrow');
titlename('USGS Bathymetry - SE Florida shelf');
if doPrint; print('-dpng',fullfile(figspath,'upwelling-bathymetry.png')); end;
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:100],[20e3,120e3]);
textlat = -81.0;
plot(fwyf1.lon,fwyf1.lat,'rp','MarkerFaceColor','w');
text(textlat,fwyf1.lat,'FWYF1 \rightarrow');
plot(lkwf1.lon,lkwf1.lat,'rp','MarkerFaceColor','w');
text(textlat,lkwf1.lat,'LKWF1 \rightarrow');
% plot(pvgf1.lon,pvgf1.lat,'rp','MarkerFaceColor','w');
% text(textlat,pvgf1.lat,'PVGF1 \rightarrow');
plot(fdepk.lon,fdepk.lat,'rp','MarkerFaceColor','w');
text(textlat,fdepk.lat,'FDEP "K" \rightarrow');
plot(sefcri.dc1.lon,sefcri.dc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'rp','MarkerFaceColor','w');
% text(textlat,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow');
text(textlat,sefcri.dc3.lat,'SEFCRI DC1/3 \rightarrow');
plot(sefcri.bc1.lon,sefcri.bc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'rp','MarkerFaceColor','w');
% text(textlat,sefcri.bc3.lat,'SEFCRI BC3 \rightarrow');
text(textlat,sefcri.bc3.lat,'SEFCRI BC1/3 \rightarrow');
plot(jack.shallow.lon,jack.shallow.lat,'rp','MarkerFaceColor','w');
plot(jack.deep.lon,jack.deep.lat,'rp','MarkerFaceColor','w');
text(textlat,jack.deep.lat,'HWD outfall/moorings \rightarrow');
plot(sefcri.pb1.lon,sefcri.pb1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow');
text(textlat,sefcri.pb2.lat,'SEFCRI PB1/2 \rightarrow');
plot(sefcri.mc2.lon,sefcri.mc2.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.mc2.lat,'SEFCRI MC2 \rightarrow');
% plot(sefcri.pela.lon,sefcri.pela.lat,'rp','MarkerFaceColor','w');
% text(textlat,sefcri.pela.lat,'SEFCRI PeLa \rightarrow');
% text(textlat,sefcri.pela.lat,'SEFCRI MC2/PeLa \rightarrow');
plot(sefcri.updb.lon,sefcri.updb.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.updb.lat,'SEFCRI UpDB \rightarrow');
plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'rp','MarkerFaceColor','w');
% text(textlat,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow');
plot(sfomc.nw_w_btm.lon,sfomc.nw_w_btm.lat,'rp','MarkerFaceColor','w');
% text(textlat,sfomc.nw_w_btm.lat,'NSU NW/W mooring \rightarrow');
text(textlat,sfomc.nw_w_btm.lat,'NSU moorings \rightarrow');
titlename('USGS Bathymetry - SE Florida shelf');
if doPrint; print('-dpng',fullfile(figspath,'upwelling-bathymetry.png')); end;
ftpf1
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:100],[20e3,120e3]);
textlat = -81.0;
plot(fwyf1.lon,fwyf1.lat,'rp','MarkerFaceColor','w');
text(textlat,fwyf1.lat,'FWYF1 \rightarrow');
plot(lkwf1.lon,lkwf1.lat,'rp','MarkerFaceColor','w');
text(textlat,lkwf1.lat,'LKWF1 \rightarrow');
% plot(pvgf1.lon,pvgf1.lat,'rp','MarkerFaceColor','w');
% text(textlat,pvgf1.lat,'PVGF1 \rightarrow');
plot(fdepk.lon,fdepk.lat,'rp','MarkerFaceColor','w');
text(textlat,fdepk.lat,'FDEP "K" \rightarrow');
plot(ftpf1.lon,ftpf1.lat,'rp','MarkerFaceColor','w');
text(textlat,ftpf1.lat,'41114 \rightarrow');
plot(sefcri.dc1.lon,sefcri.dc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'rp','MarkerFaceColor','w');
% text(textlat,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow');
text(textlat,sefcri.dc3.lat,'SEFCRI DC1/3 \rightarrow');
plot(sefcri.bc1.lon,sefcri.bc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'rp','MarkerFaceColor','w');
% text(textlat,sefcri.bc3.lat,'SEFCRI BC3 \rightarrow');
text(textlat,sefcri.bc3.lat,'SEFCRI BC1/3 \rightarrow');
plot(jack.shallow.lon,jack.shallow.lat,'rp','MarkerFaceColor','w');
plot(jack.deep.lon,jack.deep.lat,'rp','MarkerFaceColor','w');
text(textlat,jack.deep.lat,'HWD outfall/moorings \rightarrow');
plot(sefcri.pb1.lon,sefcri.pb1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow');
text(textlat,sefcri.pb2.lat,'SEFCRI PB1/2 \rightarrow');
plot(sefcri.mc2.lon,sefcri.mc2.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.mc2.lat,'SEFCRI MC2 \rightarrow');
% plot(sefcri.pela.lon,sefcri.pela.lat,'rp','MarkerFaceColor','w');
% text(textlat,sefcri.pela.lat,'SEFCRI PeLa \rightarrow');
% text(textlat,sefcri.pela.lat,'SEFCRI MC2/PeLa \rightarrow');
plot(sefcri.updb.lon,sefcri.updb.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.updb.lat,'SEFCRI UpDB \rightarrow');
plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'rp','MarkerFaceColor','w');
% text(textlat,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow');
plot(sfomc.nw_w_btm.lon,sfomc.nw_w_btm.lat,'rp','MarkerFaceColor','w');
% text(textlat,sfomc.nw_w_btm.lat,'NSU NW/W mooring \rightarrow');
text(textlat,sfomc.nw_w_btm.lat,'NSU moorings \rightarrow');
titlename('USGS Bathymetry - SE Florida shelf');
if doPrint; print('-dpng',fullfile(figspath,'upwelling-bathymetry.png')); end;
ftpf1
canf1
sipf1 = get_station_from_station_name('sipf1')
sefcri
sefcri.slib
sefcri.evca
ylim([20,35])
ylim([20,35.1])
ylim([20,36])
grid on
ylim([19,36])
ylim([19,35])
ylim([20,35])
datetick3;
ylim automatic
ylim default
get(gca,'ytick')
set(gca,'ytick',[20:5:35])
get(gca,'ytickmode')
set(gca,'ytickmode','auto')
set(gca,'ytickmode','manual')
set(gca,'ytick',[20:5:35])
set(gca,'yticklabel',num2str([20:5:35]))
set(gca,'yticklabel',num2str([20:5:35]'))
set(gca,'yticklabel','default'))
set(gca,'yticklabel','default')
ftpf1
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
plot(ax(1),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
xlim(datenum(2015,[1,10],1)); datetick3;
ylim(ax(1),[20,32]);
ylim(ax(2),[-0.35,+0.35]);
fmg;
ax = plotyy_ts(jack.deep.adcp_u,jack.deep.seatemp);
plot(ax(2),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
xlim(datenum(2015,[1,10],1)); datetick3;
ylim(ax(1),[-0.35,+0.35]);
ylim(ax(2),[20,32]);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fdepk = extract_fdep_stevens_data('k');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fdepk = read_fdep_stevens_data('k');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fdepk = read_fdep_stevens_data('k');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fdepk = read_fdep_stevens_data('k');
fmg; plotyy_ts(fdepk.fdep_seatemp_deep,fdepk.fdep_wind_speed);
fmg; plotyy_ts(fdepk.fdep_seatemp_deep,fdepk.fdep_battv);
help read_fdep_stevens_data
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fdepk = read_fdep_stevens_data('k',[],true,false);
fmg; plotyy_ts(fdepk.fdep_seatemp_deep,fdepk.fdep_battv);
fmg; plotyy_ts(fdepk.fdep_seatemp_deep,fdepk.fdep_battv,[],'semilogy');
fmg; plotyy_ts(fdepk.fdep_seatemp_deep,fdepk.fdep_battv,'plot','semilogy');
fmg; plotyy_ts(fdepk.fdep_seatemp_deep,subset_ts(fdepk.fdep_battv,@(x)(find(x.data<20))));
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fdepk = read_fdep_stevens_data('k',[],true,true);
fmg; plotyy_ts(fdepk.fdep_seatemp_deep,fdepk.fdep_battv);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fdepk = read_fdep_stevens_data('k',[],true,true); fmg; plotyy_ts(fdepk.fdep_seatemp_deep,fdepk.fdep_battv);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
x = importdata('../../coral/SFP/walton_smith_database.xls');
{x.textdata.Sheet1{1,:}}
numel(unique(x.textdata.Sheet1{:,5}))
numel(unique(x.textdata.Sheet1(:,5) ))
numel(unique( x.textdata.Sheet1(:,5) ))
numel(unique( x.textdata.Sheet1(:,1) ))
numel(unique( x.textdata.Sheet1(:,2) ))
numel(unique( x.textdata.Sheet1(:,3) ))
unique( x.textdata.Sheet1(:,3) )
sort( x.textdata.Sheet1(:,3) )
unique( x.textdata.Sheet1(:,3) )
unique( lower(x.textdata.Sheet1(:,3)) )
numel(unique( lower(x.textdata.Sheet1(:,3)) ))
numel(unique( x.textdata.Sheet1(:,3) ))
{x.textdata.Sheet1{1,:}}
numel(unique( x.data.Sheet1(:,1) ))
numel(unique( roundn(x.data.Sheet1(:,1),-3) ))
numel(unique( roundn(x.data.Sheet1(:,1),-2) ))
numel(unique( roundn(x.data.Sheet1(:,1),-1) ))
numel(unique( roundn(x.data.Sheet1(:,1),-3) ))
numel(unique( roundn(x.data.Sheet1(:,1),-4) ))
numel(unique( roundn(x.data.Sheet1(:,1),-5) ))
{x.textdata.Sheet1{1,:}}
unique( x.textdata.Sheet1{:,1} )
unique( x.textdata.Sheet1(:,1) )
unique( x.textdata.Sheet1(:,2) )
x
x.data
x.textdata
ans=[]; clear ans
{x.textdata.Sheet1{1,:}}
x.data
unique(x.textdata.Sheet1{:,18})
unique({x.textdata.Sheet1{:,18}})
x.data
N = x.data.Sheet1(:,15);
N = x.data.Sheet1(:,3);
z = x.data.Sheet1(:,3);
N = x.data.Sheet1(:,15);
scatter_fit(z,N)
T1 = x.data.Sheet1(:,4);
T2 = x.data.Sheet1(:,5);
scatter_fit(T1,N)
scatter_fit(T1(T1<40),N(T1<40))
scatter_fit(T1(T1<23),N(T1<23))
scatter_fit(T1(10<T1&T1<23),N(10<T1&T1<23))
scatter_fit(T1(10<T2&T2<23),N(10<T2&T2<23))
unique(T2)
numel(find(~isnan(T2)))
scatter_fit(T1(5<T1&T1<23),N(5<T1&T1<23))
numel(find(~isnan(T1)))
fmg; plot(T1);
scatter_fit(z,T1)
T1
{x.textdata.Sheet1{1,:}}
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
x.data(:,1)
x = importdata('../../coral/SFP/walton_smith_database.xls');
T1 = x.data.Sheet1(:,5);
z = x.data.Sheet1(:,4);
nansummary(z)
nansummary(T1)
x.data.Sheet1(:,3)
{x.textdata.Sheet1{1,:}}
x.data.Sheet1(:,4)
x.data.Sheet1(:,5)
x.data.Sheet1(:,6)
x.data.Sheet1(:,7)
T1 = x.data.Sheet1(:,7);
{x.textdata.Sheet1{1,:}}
N = x.data.Sheet1(:,18);
scatter_fit(T1,N)
scatter_fit(T1(T1<24),N(T1<24))
scatter_fit(T1(T1<24),z(T1<24))
scatter_fit(T1(T1<24),N(T1<24),'T','NO3+NO2')
scatter_fit(T1(T1<24&N>0.5),N(T1<24&N>0.5),'T','NO3+NO2')
scatter_fit(T1(T1<23&N>1),N(T1<23&N>1),'T','NO3+NO2')
titlename('Walton Smith, all years - AOML South Florida Program');
print('-dtiff','figs/walton-smith-T-vs-N.tif');
print('-dpng','figs/walton-smith-T-vs-N.png');
print('-dtiff','../coral/CRCP/Upwelling/CoRIS/walton-smith-T-vs-N.tif');
print('-dpng','../coral/CRCP/Upwelling/CoRIS/walton-smith-T-vs-N.png');
edit analyze_walton_smith_nutrients.m
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
x = importdata('data/walton_smith_database.xls');
{x.textdata.Sheet1{1,:}}
x.textdata.Sheet1{:,6}
unique( {x.textdata.Sheet1{:,6}} )
unique( {x.textdata.Sheet1{:,5}} )
dts = datenum( {x.textdata.Sheet1{:,5}} );
find(~isnan(x.data.Sheet1(:,5)),1)
find(~isnan(x.data.Sheet1(:,5)))
goodix = find(~cellfun(@isempty,x.textdata.Sheet1(:,5)));
dts = datenum( {x.textdata.Sheet1{goodix,5}} );
dts = datenum( {x.textdata.Sheet1{goodix(1:1000),5}} );
dts = datenum( {x.textdata.Sheet1{goodix(1:100),5}} );
dts = datenum( {x.textdata.Sheet1{goodix(1:4),5}} );
x.textdata.Sheet1{goodix(1:4),5}
dts = datenum( {x.textdata.Sheet1{goodix(2:end),5}} );
goodix = find(~cellfun(@isempty,x.textdata.Sheet1(:,5)));
goodix(1) = [];
dts = datenum( {x.textdata.Sheet1{goodix,5}} );
x.data
x.data.Sheet1(:,7)
min(goodix)
goodix = find(~cellfun(@isempty,x.textdata.Sheet1(:,5)));
goodix(1) = [];
dts = datenum( {x.textdata.Sheet1{goodix,5}} );
z = x.data.Sheet1(goodix-1,4);
T1 = x.data.Sheet1(goodix-1,7);
N = x.data.Sheet1(goodix-1,18);
scatter_fit(T1(T1<23&N>1),N(T1<23&N>1),'T','NO3+NO2');
titlename('Walton Smith, all years - AOML South Florida Program');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
analyze_walton_smith_nutrients
x=[]; clear x
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fix_fdep
datetick3;
which plotyyy
which plotyy
help plotyy
help ploty3
help plotyyy
help plot_tses
fmg; plot_ts(fdepk.fdep_battv,fdepk.fdep_airtemp,fdepk.fdep_seatemp_deep,fdepk.fdep_wind_speed);
fmg; plot_ts(fdepk.fdep_battv,fdepk.fdep_airtemp,fdepk.fdep_seatemp_deep,fdepk.fdep_wind_speed); legend('batt','Ta','Ts','U');
fmg; plot_ts(fdepk.fdep_battv,fdepk.fdep_airtemp,fdepk.fdep_seatemp_deep,fdepk.fdep_wind_speed,'.'); legend('batt','Ta','Ts','U');
fmg; plot_ts(fdepk.fdep_battv,'.',fdepk.fdep_airtemp,'.',fdepk.fdep_seatemp_deep,'.',fdepk.fdep_wind_speed,'.'); legend('batt','Ta','Ts','U');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fwyf1 = get_station_from_station_name('fwyf1'); fwyf1 = load_all_ndbc_data(fwyf1);
a = fwyf1.ndbc_air_t;
scatter_fit(a.data(get_monthday(a.date)==datenum(0,3,5)),a.data(get_monthday(a.date)==datenum(0,1,24)))
fmg; boxplot_ts(a)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fmg; plot_ts(fdepk.fdep_battv,'.',fdepk.fdep_airtemp,'.',fdepk.fdep_seatemp_deep,'.',fdepk.fdep_wind_speed,'.'); legend('batt','Ta','Ts','U');
fdepk = read_fdep_stevens_data('k',[],true,true);
scatter_fit_ts(fdepk.fdep_battv,fdepk.fdep_seatemp_shallow)
nansummary(fdepk.fdep_relhumid.data)
nansummary(fdepk.fdep_wind_speed.data)
nansummary(fdepk.fdep_airpres.data)
scatter_fit_ts(fdepk.fdep_airpres,fdepk.fdep_wind_speed)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fix_fdep
clear ans
nansummary(fdepk.fdep_reltide.data)
scatter_fit_ts(fdepk.fdep_reltide,fdepk.fdep_seatemp_deep)
scatter_fit_ts(fdepk.fdep_reltide,fdepk.fdep_wind_speed)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fix_fdep
datetick3;
nansummary(fdepk.fdep_wind_dir.data)
which plotyy
help evalfun
help fevalfun
help plot
get(gco)
help strfind
help plot
help isplotspec
which plot
help plottools
help plot
fmg; plot(1:10,'ro-');
fmg; plot(1:10,'or-');
fmg; plot(1:10,'r.-');
fmg; plot(1:10,'r.-.');
fmg; plot(1:10,'r-.');
fmg; plot(1:10,'LineStyle','--');
fmg; plot(1:10,'LineStyle','-.');
fmg; plot(1:10,'-.');
fmg; plot(1:10,'-..');
help regexp
help plot
lookfor plotspec
clrix = regexp(arg,'\(-\|:\|-.\|--\)','once')
clrix = regexp('ro-.','\(-\|:\|-.\|--\)','once')
clrix = regexp('ro-.','(-|:|-.|--)','once')
help clrix
help regexp
help regexprep
regexprep('ro-.','.*(-|:|-.|--).*','$1','once')
regexprep('ro-.','.*(-.|--|-|:).*','$1','once')
regexprep('ro--','.*(-.|--|-|:).*','$1','once')
regexprep('ro--','.*(-.|-[-]?|:).*','$1','once')
regexprep('ro--','.*(-.|-[-]*|:).*','$1','once')
regexprep('--','.*(-.|-[-]*|:).*','$1','once')
regexprep('--','.*(-.|[-][-]*|:).*','$1','once')
regexprep('--','.*(-.|--|:).*','$1','once')
regexprep('--','.*(-[.]|--|:).*','$1','once')
regexprep('--','.*(-[.]|-[-]|[-][-]|:).*','$1','once')
regexprep('--','.*(-[.]|-[-]|[-]|:).*','$1','once')
-      clrix = regexp(arg,'\(-\|:\|-.\|--\)','once');
*(-.|--|-|:)[^-]*','$1','once')
regexprep('--','.*(-.|--|-|:).*','$1','once')
regexprep('--','.*(-.|--|-|:)[^-]*','$1','once')
regexprep('--','[^-]*(-.|--|-|:)[^-]*','$1','once')
regexprep('--','(-.|--|-|:)[^-]*','$1','once')
regexprep('ro--','(-.|--|-|:)[^-]*','$1','once')
regexprep('--','[^-]*(-.|--|-|:)[^-]*','$1','once')
regexprep('ro--','[^-]*(-.|--|-|:)[^-]*','$1','once')
regexprep('ro-','[^-]*(-.|--|-|:)[^-]*','$1','once')
regexprep('ro-.','[^-]*(-.|--|-|:)[^-]*','$1','once')
regexprep('-.','[^-]*(-.|--|-|:)[^-]*','$1','once')
regexprep('ro-x','[^-]*(-.|--|-|:)[^-]*','$1','once')
regexprep('ro-x','[^-]*(-[.]|--|-|:)[^-]*','$1','once')
help regexprep
ls = regexprep(arg,'[^-]*(-[.]|--|-|:)[^-]*','$1','once');
arg='ro--';
ls = regexprep(arg,'[^-]*(-[.]|--|-|:)[^-]*','$1','once');
ls = regexprep(arg,'[^-]*(-[.]|--|-|:)[^-]*','$1','once')
regexp(arg,'[^-]*(-[.]|--|-|:)[^-]*','once')
fmg; plot(1:10,'o--');
get(gco)
fmg; plotyy_ts(fdepk.fdep_seatemp_deep,fdepk.fdep_battv);
fmg; plotyy_ts(fdepk.fdep_seatemp_deep,'k.',fdepk.fdep_battv,'.','Color',[0,.5,0]);
dbstop if error
fmg; plotyy_ts(fdepk.fdep_seatemp_deep,'k.',fdepk.fdep_battv,'.','Color',[0,.5,0]);
ts1_args
dbquit
plotspec_check('Color',[0,0,0],'ro-.')
plotspec_check({'Color',[0,0,0],'ro-.'})
newargs(end+1:end+2) = {'LineStyle',ls};
newsargs
newargs
plotspec_check({'Color',[0,0,0],'ro-.'})
newargs
args{argix}
newargs(end+1) = args(argix)
dbquit
plotspec_check({'Color',[0,0,0],'ro-.'})
ans{2}
plotspec_check({'Color',[0,0,0],'ro-.'})
plotspec_check({'Color',[0,0,0],'ro-.r'})
plotspec_check({'Color',[0,0,0],'o-.r'})
plotspec_check({'Color',[0,0,0],'r-.r'})
plotspec_check({'Color',[0,0,0],'-.r'})
plotspec_check({'Color',[0,0,0],'r-.'})
plotspec_check({'Color',[0,0,0],'r-..'})
plotspec_check({'Color',[0,0,0],'-.r'})
plotspec_check;
dbquit
plotspec_check;
dbquit
plotspec_check({'Color',[0,0,0],'-.r'})
plotspec_check({'Color',[0,0,0],'r-..'})
plotspec_check({'Color',[0,0,0],'r-.'})
plotspec_check({'Color',[0,0,0],'r-.r'})
foo
foo('bar')
fmg; plot(1:10,'r-.o')
fmg; plot(1:10,'r-.ob')
fmg; plot(1:10,'r-.o:')
fmg; plotyy_ts(fdepk.fdep_seatemp_deep,'k.',fdepk.fdep_battv,'.','Color',[0,.5,0]);
ts1_args
dbquit
plotspec_check({'Color',[0,0,0],'r-.'})
plotspec_check({'Color',[0,0,0],'k-.'})
plotspec_check({'Color',[0,0,0],'k.'})
dbstop plotspec_check 42
plotspec_check({'Color',[0,0,0],'k.'})
ls
arg
regexprep(arg,'[^-]*(-[.]|--|-|:)[^-]*','$1','once')
dbquit
plotspec_check({'Color',[0,0,0],'k.'})
lsix
dbquit
dbclear all
plotspec_check({'Color',[0,0,0],'k.'})
plotspec_check('Color',[0,0,0],'ro-.')
plotspec_check({'Color',[0,0,0],'ro-.'})
plotspec_check({'Color',[0,0,0],'ro-.'})
plotspec_check({'Color',[0,0,0],'ro-.'})
plotspec_check({'Color',[0,0,0],'ro-.'})
plotspec_check({'Color',[0,0,0],'ro-.r'})
plotspec_check({'Color',[0,0,0],'o-.r'})
plotspec_check({'Color',[0,0,0],'r-.r'})
plotspec_check({'Color',[0,0,0],'-.r'})
plotspec_check({'Color',[0,0,0],'r-.'})
plotspec_check({'Color',[0,0,0],'r-..'})
plotspec_check({'Color',[0,0,0],'-.r'})
plotspec_check({'Color',[0,0,0],'-.r'})
plotspec_check({'Color',[0,0,0],'r-..'})
plotspec_check({'Color',[0,0,0],'r-.'})
plotspec_check({'Color',[0,0,0],'r-.r'})
plotspec_check({'Color',[0,0,0],'r-.'})
plotspec_check({'Color',[0,0,0],'k-.'})
plotspec_check({'Color',[0,0,0],'k.'})
plotspec_check({'Color',[0,0,0],'k.'})
plotspec_check({'Color',[0,0,0],'k.'})
plotspec_check({'Color',[0,0,0],'k.'})
plotspec_check('Color',[0,0,0],'ro-.');
plotspec_check({'Color',[0,0,0],'ro-.'});
plotspec_check({'Color',[0,0,0],'ro-.'});
plotspec_check({'Color',[0,0,0],'ro-.'});
plotspec_check({'Color',[0,0,0],'ro-.'});
plotspec_check({'Color',[0,0,0],'ro-.r'});
plotspec_check({'Color',[0,0,0],'o-.r'});
plotspec_check({'Color',[0,0,0],'r-.r'});
plotspec_check({'Color',[0,0,0],'-.r'});
plotspec_check({'Color',[0,0,0],'r-.'});
plotspec_check({'Color',[0,0,0],'r-..'});
plotspec_check({'Color',[0,0,0],'-.r'});
plotspec_check({'Color',[0,0,0],'-.r'});
plotspec_check({'Color',[0,0,0],'r-..'});
plotspec_check({'Color',[0,0,0],'r-.'});
plotspec_check({'Color',[0,0,0],'r-.r'});
plotspec_check({'Color',[0,0,0],'r-.'});
plotspec_check({'Color',[0,0,0],'k-.'});
plotspec_check({'Color',[0,0,0],'k.'});
plotspec_check({'Color',[0,0,0],'k.'});
plotspec_check({'Color',[0,0,0],'k.'});
plotspec_check({'Color',[0,0,0],'k.'});
plotspec_check({'Color',[0,0,0],'ro-.'});
plotspec_check('Color',[0,0,0],'ro-.');
plotspec_check('Color',[0,0,0],'ro-.');
plotspec_check('Color',[0,0,0],'ro-.r');
plotspec_check('Color',[0,0,0],'o-.r');
plotspec_check('Color',[0,0,0],'r-.r');
plotspec_check('Color',[0,0,0],'-.r');
plotspec_check('Color',[0,0,0],'r-.');
plotspec_check('Color',[0,0,0],'r-..');
plotspec_check('Color',[0,0,0],'r-.r');
plotspec_check('Color',[0,0,0],'k-.');
plotspec_check('Color',[0,0,0],'k.');
more on
plotspec_check({'Color',[0,0,0],'ro-.'});
plotspec_check('Color',[0,0,0],'ro-.');
plotspec_check('Color',[0,0,0],'ro-.');
plotspec_check('Color',[0,0,0],'ro-.r');
plotspec_check('Color',[0,0,0],'o-.r');
plotspec_check('Color',[0,0,0],'r-.r');
plotspec_check('Color',[0,0,0],'-.r');
plotspec_check('Color',[0,0,0],'r-.');
plotspec_check('Color',[0,0,0],'r-..');
plotspec_check('Color',[0,0,0],'r-.r');
plotspec_check('Color',[0,0,0],'k-.');
plotspec_check('Color',[0,0,0],'k.');
fmg; plotyy_ts(fdepk.fdep_seatemp_deep,'k.',fdepk.fdep_battv,'.','Color',[0,.5,0]);
clear ans arg clrix ls
fmg; plotyy_ts(fdepk.fdep_seatemp_deep,'k.',fdepk.fdep_battv,'.','Color',[0,.5,0]);
find({'foo','Color','r'},'Color')
find(strcmp({'foo','Color','r'},'Color'))
fmg; plotyy_ts(fdepk.fdep_seatemp_deep,'k.',fdepk.fdep_battv,'.','Color',[0,.5,0]);
get(gca)
set(gca,'YColor','m')
fmg; plotyy_ts(fdepk.fdep_seatemp_deep,'k.',fdepk.fdep_battv,'.','Color',[0,.5,0]);
fmg; plotyy_ts(fdepk.fdep_seatemp_deep,'k.',fdepk.fdep_battv,'.','Color',[0,.5,0]); legend('Td','Batt')
fmg; plotyy_ts(fdepk.fdep_seatemp_deep,'k-',fdepk.fdep_battv,'-','Color',[0,.5,0]); legend('Td','Batt')
get(gca)
set(gca,'gridcolor',[0,.5,0])
set(gca,'gridcolor','r')
get(gca)
close all
fmg; plotyy_ts(fdepk.fdep_seatemp_deep,'k-',fdepk.fdep_battv,'-','Color',[0,.5,0]); legend('Td','Batt')
fmg; plotyy_ts(fdepk.fdep_seatemp_deep,'r-',fdepk.fdep_battv,'-','Color',[0,.5,0]); legend('Td','Batt')
fmg; plotyy_ts(fdepk.fdep_seatemp_deep,'-','Color',[0,0.5,0],fdepk.fdep_battv,'r-');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
help station_reorient_vectors
get_coral_path
help read_hires_bathymetry
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
vakf1 = get_station_from_station_name('vakf1'); vakf1 = load_all_ndbc_data(vakf1);
fwyf1 = get_station_from_station_name('fwyf1'); fwyf1 = load_all_ndbc_data(fwyf1);
help station_spddir_to_uv
fwyf1 = station_spddir_to_uv(fwyf1)
fwyf1 = station_spddir_to_uv(fwyf1,'ndbc_wind1_speed','ndbc_wind1_dir')
fwyf1 = station_spddir_to_uv(fwyf1,'ndbc_wind1_speed','ndbc_wind1_dir');
fdepk = read_fdep_stevens_data('k');
fdepk = station_spddir_to_uv(fdepk,'fdep_wind_speed','fdep_wind_dir');
fmg; plotyy_ts(fdepk.fdep_wind_u,fdepk.fdep_wind_v);
fmg; plotyy_ts(fdepk.fdep_wind_u,fdepk.fdep_wind_v); ylim([-40,+40])
fmg; axen=plotyy_ts(fdepk.fdep_wind_u,fdepk.fdep_wind_v); ylim(axen,[-40,+40])
fmg; axen=plotyy_ts(fdepk.fdep_wind_u,fdepk.fdep_wind_v); ylim(axen(1),[-40,+40]); ylim(axen(2),[-40,+40]);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
if ( ~exist('fwyf1','var') )
fwyf1 = get_station_from_station_name('fwyf1'); fwyf1 = load_all_ndbc_data(fwyf1);
fwyf1 = station_spddir_to_uv(fwyf1,'ndbc_wind1_speed','ndbc_wind1_dir');
end;
if ( ~exist('lkwf1','var') )
lkwf1 = get_station_from_station_name('lkwf1'); lkwf1 = load_all_ndbc_data(lkwf1);
lkwf1 = station_spddir_to_uv(lkwf1,'ndbc_wind1_speed','ndbc_wind1_dir');
end;
if ( ~exist('pvgf1','var') )
pvgf1 = get_station_from_station_name('pvgf1'); pvgf1 = load_all_ndbc_data(pvgf1);
pvgf1 = station_spddir_to_uv(pvgf1,'ndbc_wind1_speed','ndbc_wind1_dir');
end;
if ( ~exist('ftpf1','var') )
ftpf1 = get_station_from_station_name('41114'); ftpf1 = load_all_ndbc_data(ftpf1);
ftpf1 = station_spddir_to_uv(ftpf1,'ndbc_wind1_speed','ndbc_wind1_dir');
end;
if ( ~exist('fdepk','var') )
fdepk = read_fdep_stevens_data('k');
fdepk = station_spddir_to_uv(fdepk,'fdep_wind_speed','fdep_wind_dir');
end;
if ( ~exist('cnnf1','var') )
cnnf1 = get_station_from_station_name('41113'); cnnf1 = load_all_ndbc_data(cnnf1);
cnnf1 = station_spddir_to_uv(cnnf1,'ndbc_wind1_speed','ndbc_wind1_dir');
end;
if ( ~exist('canf1','var') )
canf1 = get_station_from_station_name('41009'); canf1 = load_all_ndbc_data(canf1);
canf1 = station_spddir_to_uv(canf1,'ndbc_wind1_speed','ndbc_wind1_dir');
end;
ftpf1
if ( ~exist('cnnf1','var') )
cnnf1 = get_station_from_station_name('41113'); cnnf1 = load_all_ndbc_data(cnnf1);
cnnf1 = station_spddir_to_uv(cnnf1,'ndbc_wind1_speed','ndbc_wind1_dir');
end;
if ( ~exist('canf1','var') )
canf1 = get_station_from_station_name('41009'); canf1 = load_all_ndbc_data(canf1);
canf1 = station_spddir_to_uv(canf1,'ndbc_wind1_speed','ndbc_wind1_dir');
end;
cnnf1
canf1
if ( ~exist('canf1','var') )
canf1 = get_station_from_station_name('41009'); canf1 = load_all_ndbc_data(canf1);
canf1 = station_spddir_to_uv(canf1,'ndbc_wind1_speed','ndbc_wind1_dir');
end;
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
help plot_hires_bathymetry
ishandle([])
ishandle(gcf)
if ( ishandle([]) ); disp('n'); end;
if ( ~ishandle([]) ); disp('n'); end;
help isfi
which isfi
fmg; subplot(1,3,1:2); plot(1:10);
fmg; subplot(1,3,1:2); plot(1:10); subplot(1,3,3); plot(sin(1:10));
fmg;
subplot(1,3,1:2);
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:150],[30e3,120e3]);
subplot(1,3,3);
sefcri.dc3 = plot_hires_bathymetry(sefcri.dc3,-[0:1:20,30:10:150],[30e3,35e3]);
ftpf1
fdepk
help plot_hires_bathymetry
fh = fmg;
subplot(1,3,1:2);
subplot(1,3,3);
sefcri.dc3 = plot_hires_bathymetry(sefcri.dc3,-[0:1:20,30:10:150],[10e3,35e3],[],[],[],[],[],fh);
\
sefcri.dc3
sefcri.dc3 = rmfield(sefcri.dc3,'ngdc_hires_bathy')
fh = fmg;
subplot(1,3,1:2);
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:150],[30e3,120e3],[],[],[],[],[],fh);
subplot(1,3,3);
sefcri.dc3 = plot_hires_bathymetry(sefcri.dc3,-[0:1:20,30:10:150],[10e3,35e3],[],[],[],[],[],fh);
sefcri.dc3 = rmfield(sefcri.dc3,'ngdc_hires_bathy')
sefcri.dc3 = plot_hires_bathymetry(sefcri.dc3,-[0:1:20,30:10:150],[10e3,35e3]);
sefcri.dc3 = rmfield(sefcri.dc3,'ngdc_hires_bathy')
sefcri.dc3 = plot_hires_bathymetry(sefcri.dc3,-[0:1:20,30:10:150],[6e3,35e3]);
sefcri.dc3 = plot_hires_bathymetry(sefcri.dc3,-[0:2:20,30:10:50],[30e3,35e3]);
sefcri.dc3 = rmfield(sefcri.dc3,'ngdc_hires_bathy')
%-- 8/26/2016 1:50 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_face_jack_currents;
jack.adcp_u
jack.shallow.adcp_u
jack.tcm1
jack.shallow
x = station_reorient_vectors(jack.tcm1,3,'u','v')
x = station_reorient_vectors(jack.tcm1,3,'u','v','x','l')
x=[]; clear x
help station_reorient_vectors
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
jack.shallow
close all
help plot_hires_bathymetry
fwyf1 = station_ekman_flux(fwyf1,[],'ndbc','erai');
pvgf1 = station_ekman_flux(pvgf1,[],'ndbc');
lkwf1 = station_ekman_flux(lkwf1,[],'ndbc');
fdepk = station_ekman_flux(fdepk,[],'fdep');
canf1 = station_ekman_flux(canf1,[],'ndbc');
canf1
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
if ( ~exist('doPlots','var') || isempty(doPlots) )
doPlots = true;
end;
if ( ~exist('doPrint','var') || isempty(doPrint) )
%doPrint = false;
doPrint = true;
end;
if ( doPrint && ~exist('figspath','var') )
figspath = get_coral_path('CRCP/Upwelling/CoRIS');
end;
% Coast-line data
if ( ~exist('fwyf1','var') )
fwyf1 = get_station_from_station_name('fwyf1'); fwyf1 = load_all_ndbc_data(fwyf1);
fwyf1 = station_spddir_to_uv(fwyf1,'ndbc_wind1_speed','ndbc_wind1_dir');
end;
if ( ~exist('lkwf1','var') )
lkwf1 = get_station_from_station_name('lkwf1'); lkwf1 = load_all_ndbc_data(lkwf1);
lkwf1 = station_spddir_to_uv(lkwf1,'ndbc_wind1_speed','ndbc_wind1_dir');
end;
if ( ~exist('pvgf1','var') )
pvgf1 = get_station_from_station_name('pvgf1'); pvgf1 = load_all_ndbc_data(pvgf1);
pvgf1 = station_spddir_to_uv(pvgf1,'ndbc_wind1_speed','ndbc_wind1_dir');
end;
if ( ~exist('ftpf1','var') )
ftpf1 = get_station_from_station_name('41114'); ftpf1 = load_all_ndbc_data(ftpf1);
ftpf1 = station_spddir_to_uv(ftpf1,'ndbc_sigwavehgt','ndbc_avgwavedir','ndbc_wave_u','ndbc_wave_v');
end;
if ( ~exist('fdepk','var') )
fdepk = read_fdep_stevens_data('k');
fdepk = station_spddir_to_uv(fdepk,'fdep_wind_speed','fdep_wind_dir');
end;
if ( ~exist('cnnf1','var') )
cnnf1 = get_station_from_station_name('41113'); cnnf1 = load_all_ndbc_data(cnnf1);
cnnf1 = station_spddir_to_uv(cnnf1,'ndbc_sigwavehgt','ndbc_avgwavedir','ndbc_wave_u','ndbc_wave_v');
end;
if ( ~exist('canf1','var') )
canf1 = get_station_from_station_name('41009'); canf1 = load_all_ndbc_data(canf1);
canf1 = station_spddir_to_uv(canf1,'ndbc_wind1_speed','ndbc_wind1_dir');
end;
% Reef-line data
if ( ~exist('sefcri','var') )
sefcri = load(get_coral_path('CRCP/Upwelling/SEFCRI.mat'));
end;
if ( ~exist('jack','var') )
jack = read_face_jack_currents;
end;
if ( ~isfield(lkwf1,'ngdc_hires_bathy') )
lkwf1 = read_hires_bathymetry(lkwf1,[30e3,120e3]);
end;
if ( ~isfield(sefcri.dc3,'ngdc_hires_bathy') )
sefcri.dc3 = read_hires_bathymetry(sefcri.dc3,[30e3,50e3]);
end;
if ( ~isfield(fdepk,'ngdc_hires_bathy') )
fdepk = read_hires_bathymetry(fdepk,[30e3,50e3]);
end;
if ( ~isfield(canf1,'ngdc_hires_bathy') )
canf1 = read_hires_bathymetry(canf1,[30e3,50e3]);
end;
fdepk = rmfield(fdepk,'ngdc_hires_bathy');
lkwf1 = rmfield(lkwf1,'ngdc_hires_bathy');
lkwf1 = read_hires_bathymetry(lkwf1,[30e3,120e3]);
if ( ~isfield(lkwf1,'ngdc_hires_bathy') )
lkwf1 = read_hires_bathymetry(lkwf1,[30e3,120e3]);
end;
if ( ~isfield(sefcri.dc3,'ngdc_hires_bathy') )
sefcri.dc3 = read_hires_bathymetry(sefcri.dc3,[30e3,50e3]);
end;
if ( ~isfield(fdepk,'ngdc_hires_bathy') )
fdepk = read_hires_bathymetry(fdepk,[30e3,50e3]);
end;
if ( ~isfield(canf1,'ngdc_hires_bathy') )
canf1 = read_hires_bathymetry(canf1,[30e3,50e3]);
end;
[lkwf1,ig,ig,ig,fhs(1)] = plot_hires_bathymetry(lkwf1,-[0:2:20,30:20:200]);
[sefcri.dc3,ig,ig,ig,fhs(end+1)] = plot_hires_bathymetry(sefcri.dc3,-[0:2:20,30:10:50]);
[fdepk,ig,ig,ig,fhs(end+1)] = plot_hires_bathymetry(fdepk,-[0:2:20,30:10:50]);
% [canf1,ig,ig,ig,fhs(end+1)] = plot_hires_bathymetry(canf1,-[0:2:20,30:10:50]);
for fhix = 1:numel(fhs)
figure(fhs(fhix));
axis(axis);
textlat = -81.25;
plot(fwyf1.lon,fwyf1.lat,'rp','MarkerFaceColor','w');
text(textlat,fwyf1.lat,'FWYF1: met. \rightarrow');
plot(lkwf1.lon,lkwf1.lat,'rp','MarkerFaceColor','w');
text(textlat,lkwf1.lat,'LKWF1: met. \rightarrow');
% plot(pvgf1.lon,pvgf1.lat,'rp','MarkerFaceColor','w');
% text(textlat,pvgf1.lat,'PVGF1 \rightarrow');
plot(fdepk.lon,fdepk.lat,'rp','MarkerFaceColor','w');
text(textlat,fdepk.lat,'FDEP "K": met \rightarrow');
plot(ftpf1.lon,ftpf1.lat,'rp','MarkerFaceColor','w');
text(textlat,ftpf1.lat,'41114: Hs \rightarrow');
plot(sefcri.dc1.lon,sefcri.dc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow');
text(textlat,sefcri.dc3.lat,'SEFCRI DC1/3 \rightarrow');
plot(sefcri.bc1.lon,sefcri.bc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.bc3.lat,'SEFCRI BC3 \rightarrow');
text(textlat,sefcri.bc3.lat,'SEFCRI BC1/3 \rightarrow');
plot(jack.shallow.lon,jack.shallow.lat,'rp','MarkerFaceColor','w');
plot(jack.deep.lon,jack.deep.lat,'rp','MarkerFaceColor','w');
text(textlat,jack.deep.lat,'FACE HWD moorings: u,v \rightarrow');
plot(sefcri.pb1.lon,sefcri.pb1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow');
text(textlat,sefcri.pb2.lat,'SEFCRI PB1/2 \rightarrow');
plot(sefcri.mc2.lon,sefcri.mc2.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.mc2.lat,'SEFCRI MC2 \rightarrow');
%plot(sefcri.pela.lon,sefcri.pela.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.pela.lat,'SEFCRI PeLa \rightarrow');
%text(textlat,sefcri.pela.lat,'SEFCRI MC2/PeLa \rightarrow');
plot(sefcri.updb.lon,sefcri.updb.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.updb.lat,'SEFCRI UpDB \rightarrow');
plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'rp','MarkerFaceColor','w');
%text(textlat,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow');
plot(sfomc.nw_w_btm.lon,sfomc.nw_w_btm.lat,'rp','MarkerFaceColor','w');
%text(textlat,sfomc.nw_w_btm.lat,'NSU NW/W mooring \rightarrow');
text(textlat,sfomc.nw_w_btm.lat,'NSU moorings: u,v \rightarrow');
titlename('SE Florida shelf - USGS Bathymetry - instrumentation');
if doPrint; print('-dpng',fullfile(figspath,['upwelling-bathymetry-',num2str(fhix)'.png'])); end;
end; %for fhix = 1:numel(fhs)
get(0,'child')
figure(1)
sefcri.dc3 = rmfield(sefcri.dc3,'ngdc_hires_bathy')
help read_hires_bathymetry
sefcri.dc3 = read_hires_bathymetry(sefcri.dc3,[30e3,50e3],[],false);
close all
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
help clear
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
1;
% SCRIPT to analyze in situ sea temperature extremes in summer relative to
% alongshore wind stress and nominal coastal Ekman divergence (i.e., examines
% the feasibility of explaining upwelling in terms of wind) on the SE Florida
% shelf. Relies on data from stations of AOML's CHAMP and FACE Programs, NOAA
% NDBC, Florida DEP, SEFCRI/FWC/FDEP, and NSUOC/SFOMC. Produces figures in the
% FIGSPATH directory (GET_CORAL_PATH('CRCP/Upwelling/CoRIS') by default).
%
% Last Saved Time-stamp: <Fri 2016-08-26 17:55:25 Eastern Daylight Time gramer>
if ( ~exist('doPlots','var') || isempty(doPlots) )
doPlots = true;
end;
if ( ~exist('doPrint','var') || isempty(doPrint) )
%doPrint = false;
doPrint = true;
end;
if ( doPrint && ~exist('figspath','var') )
figspath = get_coral_path('CRCP/Upwelling/CoRIS');
end;
% Coast-line data
if ( ~exist('fwyf1','var') )
fwyf1 = get_station_from_station_name('fwyf1'); fwyf1 = load_all_ndbc_data(fwyf1);
fwyf1 = station_spddir_to_uv(fwyf1,'ndbc_wind1_speed','ndbc_wind1_dir');
end;
if ( ~exist('lkwf1','var') )
lkwf1 = get_station_from_station_name('lkwf1'); lkwf1 = load_all_ndbc_data(lkwf1);
lkwf1 = station_spddir_to_uv(lkwf1,'ndbc_wind1_speed','ndbc_wind1_dir');
end;
if ( ~exist('pvgf1','var') )
pvgf1 = get_station_from_station_name('pvgf1'); pvgf1 = load_all_ndbc_data(pvgf1);
pvgf1 = station_spddir_to_uv(pvgf1,'ndbc_wind1_speed','ndbc_wind1_dir');
end;
if ( ~exist('ftpf1','var') )
ftpf1 = get_station_from_station_name('41114'); ftpf1 = load_all_ndbc_data(ftpf1);
ftpf1 = station_spddir_to_uv(ftpf1,'ndbc_sigwavehgt','ndbc_avgwavedir','ndbc_wave_u','ndbc_wave_v');
end;
if ( ~exist('fdepk','var') )
fdepk = read_fdep_stevens_data('k');
fdepk = station_spddir_to_uv(fdepk,'fdep_wind_speed','fdep_wind_dir');
end;
if ( ~exist('cnnf1','var') )
cnnf1 = get_station_from_station_name('41113'); cnnf1 = load_all_ndbc_data(cnnf1);
cnnf1 = station_spddir_to_uv(cnnf1,'ndbc_sigwavehgt','ndbc_avgwavedir','ndbc_wave_u','ndbc_wave_v');
end;
if ( ~exist('canf1','var') )
canf1 = get_station_from_station_name('41009'); canf1 = load_all_ndbc_data(canf1);
canf1 = station_spddir_to_uv(canf1,'ndbc_wind1_speed','ndbc_wind1_dir');
end;
% Reef-line data
if ( ~exist('sefcri','var') )
sefcri = load(get_coral_path('CRCP/Upwelling/SEFCRI.mat'));
end;
if ( ~exist('jack','var') )
jack = read_face_jack_currents;
end;
if ( ~isfield(lkwf1,'ngdc_hires_bathy') )
lkwf1 = read_hires_bathymetry(lkwf1,[30e3,120e3]);
end;
if ( ~isfield(sefcri.dc3,'ngdc_hires_bathy') )
sefcri.dc3 = read_hires_bathymetry(sefcri.dc3,[30e3,50e3],[],false);
end;
if ( ~isfield(fdepk,'ngdc_hires_bathy') )
fdepk = read_hires_bathymetry(fdepk,[30e3,50e3]);
end;
if ( ~isfield(canf1,'ngdc_hires_bathy') )
canf1 = read_hires_bathymetry(canf1,[30e3,50e3]);
end;
[lkwf1,ig,ig,ig,fhs(1)] = plot_hires_bathymetry(lkwf1,-[0:2:20,30:20:200]);
[sefcri.dc3,ig,ig,ig,fhs(end+1)] = plot_hires_bathymetry(sefcri.dc3,-[0:2:20,30:10:50]);
[fdepk,ig,ig,ig,fhs(end+1)] = plot_hires_bathymetry(fdepk,-[0:2:20,30:10:50]);
timenow
for fhix = 1:numel(fhs)
figure(fhs(fhix));
axis(axis);
textlat = -81.25;
plot(fwyf1.lon,fwyf1.lat,'rp','MarkerFaceColor','w');
text(textlat,fwyf1.lat,'FWYF1: met. \rightarrow');
plot(lkwf1.lon,lkwf1.lat,'rp','MarkerFaceColor','w');
text(textlat,lkwf1.lat,'LKWF1: met. \rightarrow');
% plot(pvgf1.lon,pvgf1.lat,'rp','MarkerFaceColor','w');
% text(textlat,pvgf1.lat,'PVGF1 \rightarrow');
plot(fdepk.lon,fdepk.lat,'rp','MarkerFaceColor','w');
text(textlat,fdepk.lat,'FDEP "K": met \rightarrow');
plot(ftpf1.lon,ftpf1.lat,'rp','MarkerFaceColor','w');
text(textlat,ftpf1.lat,'41114: Hs \rightarrow');
plot(sefcri.dc1.lon,sefcri.dc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow');
text(textlat,sefcri.dc3.lat,'SEFCRI DC1/3 \rightarrow');
plot(sefcri.bc1.lon,sefcri.bc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.bc3.lat,'SEFCRI BC3 \rightarrow');
text(textlat,sefcri.bc3.lat,'SEFCRI BC1/3 \rightarrow');
plot(jack.shallow.lon,jack.shallow.lat,'rp','MarkerFaceColor','w');
plot(jack.deep.lon,jack.deep.lat,'rp','MarkerFaceColor','w');
text(textlat,jack.deep.lat,'FACE HWD moorings: u,v \rightarrow');
plot(sefcri.pb1.lon,sefcri.pb1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow');
text(textlat,sefcri.pb2.lat,'SEFCRI PB1/2 \rightarrow');
plot(sefcri.mc2.lon,sefcri.mc2.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.mc2.lat,'SEFCRI MC2 \rightarrow');
%plot(sefcri.pela.lon,sefcri.pela.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.pela.lat,'SEFCRI PeLa \rightarrow');
%text(textlat,sefcri.pela.lat,'SEFCRI MC2/PeLa \rightarrow');
plot(sefcri.updb.lon,sefcri.updb.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.updb.lat,'SEFCRI UpDB \rightarrow');
plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'rp','MarkerFaceColor','w');
%text(textlat,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow');
plot(sfomc.nw_w_btm.lon,sfomc.nw_w_btm.lat,'rp','MarkerFaceColor','w');
%text(textlat,sfomc.nw_w_btm.lat,'NSU NW/W mooring \rightarrow');
text(textlat,sfomc.nw_w_btm.lat,'NSU moorings: u,v \rightarrow');
titlename('SE Florida shelf - USGS Bathymetry - instrumentation');
if doPrint; print('-dpng',fullfile(figspath,['upwelling-bathymetry-',num2str(fhix),'.png'])); end;
end; %for fhix = 1:numel(fhs)
titlename('SE Florida shelf - USGS Bathymetry - instrumentation');
titlename('SE Florida shelf (southern) - USGS Bathymetry - instrumentation');
titlename('SE Florida shelf (northern) - USGS Bathymetry - instrumentation');
for fhix = 1:numel(fhs)
figure(fhs(fhix));
axis(axis);
textlat = -81.25;
plot(fwyf1.lon,fwyf1.lat,'rp','MarkerFaceColor','w');
text(textlat,fwyf1.lat,'FWYF1: met. \rightarrow');
plot(lkwf1.lon,lkwf1.lat,'rp','MarkerFaceColor','w');
text(textlat,lkwf1.lat,'LKWF1: met. \rightarrow');
% plot(pvgf1.lon,pvgf1.lat,'rp','MarkerFaceColor','w');
% text(textlat,pvgf1.lat,'PVGF1 \rightarrow');
plot(fdepk.lon,fdepk.lat,'rp','MarkerFaceColor','w');
text(textlat,fdepk.lat,'FDEP "K": met \rightarrow');
plot(ftpf1.lon,ftpf1.lat,'rp','MarkerFaceColor','w');
text(textlat,ftpf1.lat,'41114: Hs \rightarrow');
plot(sefcri.dc1.lon,sefcri.dc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow');
text(textlat,sefcri.dc3.lat,'SEFCRI DC1/3 \rightarrow');
plot(sefcri.bc1.lon,sefcri.bc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.bc3.lat,'SEFCRI BC3 \rightarrow');
text(textlat,sefcri.bc3.lat,'SEFCRI BC1/3 \rightarrow');
plot(jack.shallow.lon,jack.shallow.lat,'rp','MarkerFaceColor','w');
plot(jack.deep.lon,jack.deep.lat,'rp','MarkerFaceColor','w');
text(textlat,jack.deep.lat,'FACE HWD moorings: u,v \rightarrow');
plot(sefcri.pb1.lon,sefcri.pb1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow');
text(textlat,sefcri.pb2.lat,'SEFCRI PB1/2 \rightarrow');
plot(sefcri.mc2.lon,sefcri.mc2.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.mc2.lat,'SEFCRI MC2 \rightarrow');
%plot(sefcri.pela.lon,sefcri.pela.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.pela.lat,'SEFCRI PeLa \rightarrow');
%text(textlat,sefcri.pela.lat,'SEFCRI MC2/PeLa \rightarrow');
plot(sefcri.updb.lon,sefcri.updb.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.updb.lat,'SEFCRI UpDB \rightarrow');
if ( exist('sfomc','var') )
plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'rp','MarkerFaceColor','w');
%text(textlat,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow');
plot(sfomc.nw_w_btm.lon,sfomc.nw_w_btm.lat,'rp','MarkerFaceColor','w');
%text(textlat,sfomc.nw_w_btm.lat,'NSU NW/W mooring \rightarrow');
text(textlat,sfomc.nw_w_btm.lat,'NSU moorings: u,v \rightarrow');
end;
if doPrint; print('-dpng',fullfile(figspath,['upwelling-bathymetry-',num2str(fhix),'.png'])); end;
end; %for fhix = 1:numel(fhs)
min(lkwf1.ngdc_hires_bathy.lon)
ans-(-81.25)
min(get(gca,'XData'))
get(gca)
get(gca,'XLim')
get(gca,'XLim') - (-81.25)
get(gca,'XLim') - 0.9
times(get(gca,'XLim'))
prod(get(gca,'XLim'))
minus(get(gca,'XLim'))
help prod
diff(get(gca,'XLim'))
diff(get(gca,'XLim'))*1.5
diff(get(gca,'XLim'))*1.3
get(gca,'XLim') - 0.9
sefcri
dir *fwr*
type getfwrdepths.m
for fhix = 1:numel(fhs)
figure(fhs(fhix));
axis(axis);
% textlat = -81.25;
xl = get(gca,'XLim');
textlat = xl(1) - diff(xl)*1.3;
plot(fwyf1.lon,fwyf1.lat,'rp','MarkerFaceColor','w');
text(textlat,fwyf1.lat,'FWYF1: met. \rightarrow');
plot(lkwf1.lon,lkwf1.lat,'rp','MarkerFaceColor','w');
text(textlat,lkwf1.lat,'LKWF1: met. \rightarrow');
% plot(pvgf1.lon,pvgf1.lat,'rp','MarkerFaceColor','w');
% text(textlat,pvgf1.lat,'PVGF1 \rightarrow');
plot(fdepk.lon,fdepk.lat,'rp','MarkerFaceColor','w');
text(textlat,fdepk.lat,'FDEP "K": met \rightarrow');
plot(ftpf1.lon,ftpf1.lat,'rp','MarkerFaceColor','w');
text(textlat,ftpf1.lat,'41114: Hs \rightarrow');
plot(sefcri.dc1.lon,sefcri.dc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow');
text(textlat,sefcri.dc3.lat,'SEFCRI DC1/3 \rightarrow');
plot(sefcri.bc1.lon,sefcri.bc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.bc3.lat,'SEFCRI BC3 \rightarrow');
text(textlat,sefcri.bc3.lat,'SEFCRI BC1/3 \rightarrow');
plot(jack.shallow.lon,jack.shallow.lat,'rp','MarkerFaceColor','w');
if ( fhix > 1 )
plot(jack.tcm1.lon,jack.tcm1.lat,'rp','MarkerFaceColor','w');
plot(jack.tcm2.lon,jack.tcm2.lat,'rp','MarkerFaceColor','w');
end;
plot(jack.deep.lon,jack.deep.lat,'rp','MarkerFaceColor','w');
text(textlat,jack.deep.lat,'FACE HWD moorings: u,v \rightarrow');
plot(sefcri.pb1.lon,sefcri.pb1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow');
text(textlat,sefcri.pb2.lat,'SEFCRI PB1/2 \rightarrow');
plot(sefcri.mc2.lon,sefcri.mc2.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.mc2.lat,'SEFCRI MC2 \rightarrow');
if ( fhix > 1 )
plot(sefcri.pela.lon,sefcri.pela.lat,'rp','MarkerFaceColor','w');
plot(sefcri.evca.lon,sefcri.evca.lat,'rp','MarkerFaceColor','w');
plot(sefcri.slib.lon,sefcri.slib.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.pela.lat,'SEFCRI PeLa \rightarrow');
%text(textlat,sefcri.pela.lat,'SEFCRI MC2/PeLa \rightarrow');
end;
plot(sefcri.updb.lon,sefcri.updb.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.updb.lat,'SEFCRI UpDB \rightarrow');
if ( exist('sfomc','var') )
plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'rp','MarkerFaceColor','w');
%text(textlat,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow');
if ( fhix > 1 )
plot(sfomc.c_buoy.lon,sfomc.c_buoy.lat,'rp','MarkerFaceColor','w');
plot(sfomc.sw_buoy.lon,sfomc.sw_buoy.lat,'rp','MarkerFaceColor','w');
plot(sfomc.se_buoy.lon,sfomc.se_buoy.lat,'rp','MarkerFaceColor','w');
plot(sfomc.pier_cc.lon,sfomc.pier_cc.lat,'rp','MarkerFaceColor','w');
end;
plot(sfomc.nw_w_btm.lon,sfomc.nw_w_btm.lat,'rp','MarkerFaceColor','w');
%text(textlat,sfomc.nw_w_btm.lat,'NSU NW/W mooring \rightarrow');
text(textlat,sfomc.nw_w_btm.lat,'NSU moorings: u,v \rightarrow');
end;
if doPrint; print('-dpng',fullfile(figspath,['upwelling-bathymetry-',num2str(fhix),'.png'])); end;
end; %for fhix = 1:numel(fhs)
get(gco)
get(gca)
set(gco)
get(gco)
set(gco,'Units')
set(gco,'Units','normalized')
get(gco)
help text
text(-80.6,27.4,'Foo \leftarrow')
delete(gco)
th=text(-80.6,27.4,'Foo \leftarrow')
get(th
get(th)
delete(gco)
th=text(-80.6,27.4,'Foo \leftarrow','Horizontal','right')
th=text(-80.6,26.9,'This is a much longer text box\leftarrow','Horizontal','right')
close all
[lkwf1,ig,ig,ig,fhs(1)] = plot_hires_bathymetry(lkwf1,-[0:2:20,30:20:200]);
titlename('SE Florida shelf - USGS Bathymetry - instrumentation');
[sefcri.dc3,ig,ig,ig,fhs(end+1)] = plot_hires_bathymetry(sefcri.dc3,-[0:2:20,30:10:50]);
titlename('SE Florida shelf (southern) - USGS Bathymetry - instrumentation');
[fdepk,ig,ig,ig,fhs(end+1)] = plot_hires_bathymetry(fdepk,-[0:2:20,30:10:50]);
titlename('SE Florida shelf (northern) - USGS Bathymetry - instrumentation');
% [canf1,ig,ig,ig,fhs(end+1)] = plot_hires_bathymetry(canf1,-[0:2:20,30:10:50]);
% titlename('Central Florida shelf - USGS Bathymetry - instrumentation');
for fhix = 1:numel(fhs)
figure(fhs(fhix));
axis(axis);
% textlat = -81.25;
xl = get(gca,'XLim');
textlat = xl(1) - 0.2;
plot(fwyf1.lon,fwyf1.lat,'rp','MarkerFaceColor','w');
text(textlat,fwyf1.lat,'FWYF1: met. \rightarrow','Horizontal','right');
plot(lkwf1.lon,lkwf1.lat,'rp','MarkerFaceColor','w');
text(textlat,lkwf1.lat,'LKWF1: met. \rightarrow','Horizontal','right');
% plot(pvgf1.lon,pvgf1.lat,'rp','MarkerFaceColor','w');
% text(textlat,pvgf1.lat,'PVGF1 \rightarrow','Horizontal','right');
plot(fdepk.lon,fdepk.lat,'rp','MarkerFaceColor','w');
text(textlat,fdepk.lat,'FDEP "K": met \rightarrow','Horizontal','right');
plot(ftpf1.lon,ftpf1.lat,'rp','MarkerFaceColor','w');
text(textlat,ftpf1.lat,'41114: Hs \rightarrow','Horizontal','right');
plot(sefcri.dc1.lon,sefcri.dc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow','Horizontal','right');
text(textlat,sefcri.dc3.lat,'SEFCRI DC1/3 \rightarrow','Horizontal','right');
plot(sefcri.bc1.lon,sefcri.bc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.bc3.lat,'SEFCRI BC3 \rightarrow','Horizontal','right');
text(textlat,sefcri.bc3.lat,'SEFCRI BC1/3 \rightarrow','Horizontal','right');
plot(jack.shallow.lon,jack.shallow.lat,'rp','MarkerFaceColor','w');
if ( fhix > 1 )
plot(jack.tcm1.lon,jack.tcm1.lat,'rp','MarkerFaceColor','w');
plot(jack.tcm2.lon,jack.tcm2.lat,'rp','MarkerFaceColor','w');
end;
plot(jack.deep.lon,jack.deep.lat,'rp','MarkerFaceColor','w');
text(textlat,jack.deep.lat,'FACE HWD moorings: u,v \rightarrow','Horizontal','right');
plot(sefcri.pb1.lon,sefcri.pb1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow','Horizontal','right');
text(textlat,sefcri.pb2.lat,'SEFCRI PB1/2 \rightarrow','Horizontal','right');
plot(sefcri.mc2.lon,sefcri.mc2.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.mc2.lat,'SEFCRI MC2 \rightarrow','Horizontal','right');
if ( fhix > 1 )
plot(sefcri.pela.lon,sefcri.pela.lat,'rp','MarkerFaceColor','w');
plot(sefcri.evca.lon,sefcri.evca.lat,'rp','MarkerFaceColor','w');
plot(sefcri.slib.lon,sefcri.slib.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.pela.lat,'SEFCRI PeLa \rightarrow','Horizontal','right');
%text(textlat,sefcri.pela.lat,'SEFCRI MC2/PeLa \rightarrow','Horizontal','right');
end;
plot(sefcri.updb.lon,sefcri.updb.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.updb.lat,'SEFCRI UpDB \rightarrow','Horizontal','right');
if ( exist('sfomc','var') )
plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'rp','MarkerFaceColor','w');
%text(textlat,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow','Horizontal','right');
if ( fhix > 1 )
plot(sfomc.c_buoy.lon,sfomc.c_buoy.lat,'rp','MarkerFaceColor','w');
plot(sfomc.sw_buoy.lon,sfomc.sw_buoy.lat,'rp','MarkerFaceColor','w');
plot(sfomc.se_buoy.lon,sfomc.se_buoy.lat,'rp','MarkerFaceColor','w');
plot(sfomc.pier_cc.lon,sfomc.pier_cc.lat,'rp','MarkerFaceColor','w');
end;
plot(sfomc.nw_w_btm.lon,sfomc.nw_w_btm.lat,'rp','MarkerFaceColor','w');
%text(textlat,sfomc.nw_w_btm.lat,'NSU NW/W mooring \rightarrow','Horizontal','right');
text(textlat,sfomc.nw_w_btm.lat,'NSU moorings: u,v \rightarrow','Horizontal','right');
end;
if doPrint; print('-dpng',fullfile(figspath,['upwelling-bathymetry-',num2str(fhix),'.png'])); end;
end; %for fhix = 1:numel(fhs)
fhs
fhs(2)
close all
fhs=[];
[lkwf1,ig,ig,ig,fhs(1)] = plot_hires_bathymetry(lkwf1,-[0:2:20,30:20:200]);
titlename('SE Florida shelf - USGS Bathymetry - instrumentation');
[sefcri.dc3,ig,ig,ig,fhs(end+1)] = plot_hires_bathymetry(sefcri.dc3,-[0:2:20,30:10:50]);
titlename('SE Florida shelf (southern) - USGS Bathymetry - instrumentation');
[fdepk,ig,ig,ig,fhs(end+1)] = plot_hires_bathymetry(fdepk,-[0:2:20,30:10:50]);
titlename('SE Florida shelf (northern) - USGS Bathymetry - instrumentation');
% [canf1,ig,ig,ig,fhs(end+1)] = plot_hires_bathymetry(canf1,-[0:2:20,30:10:50]);
% titlename('Central Florida shelf - USGS Bathymetry - instrumentation');
for fhix = 1:numel(fhs)
figure(fhs(fhix));
axis(axis);
% textlat = -81.25;
xl = get(gca,'XLim');
textlat = xl(1) - 0.2;
plot(fwyf1.lon,fwyf1.lat,'rp','MarkerFaceColor','w');
text(textlat,fwyf1.lat,'FWYF1: met. \rightarrow','Horizontal','right');
plot(lkwf1.lon,lkwf1.lat,'rp','MarkerFaceColor','w');
text(textlat,lkwf1.lat,'LKWF1: met. \rightarrow','Horizontal','right');
% plot(pvgf1.lon,pvgf1.lat,'rp','MarkerFaceColor','w');
% text(textlat,pvgf1.lat,'PVGF1 \rightarrow','Horizontal','right');
plot(fdepk.lon,fdepk.lat,'rp','MarkerFaceColor','w');
text(textlat,fdepk.lat,'FDEP "K": met \rightarrow','Horizontal','right');
plot(ftpf1.lon,ftpf1.lat,'rp','MarkerFaceColor','w');
text(textlat,ftpf1.lat,'41114: Hs \rightarrow','Horizontal','right');
plot(sefcri.dc1.lon,sefcri.dc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow','Horizontal','right');
text(textlat,sefcri.dc3.lat,'SEFCRI DC1/3 \rightarrow','Horizontal','right');
plot(sefcri.bc1.lon,sefcri.bc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.bc3.lat,'SEFCRI BC3 \rightarrow','Horizontal','right');
text(textlat,sefcri.bc3.lat,'SEFCRI BC1/3 \rightarrow','Horizontal','right');
plot(jack.shallow.lon,jack.shallow.lat,'rp','MarkerFaceColor','w');
if ( fhix > 1 )
plot(jack.tcm1.lon,jack.tcm1.lat,'rp','MarkerFaceColor','w');
plot(jack.tcm2.lon,jack.tcm2.lat,'rp','MarkerFaceColor','w');
end;
plot(jack.deep.lon,jack.deep.lat,'rp','MarkerFaceColor','w');
text(textlat,jack.deep.lat,'FACE HWD moorings: u,v \rightarrow','Horizontal','right');
plot(sefcri.pb1.lon,sefcri.pb1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow','Horizontal','right');
text(textlat,sefcri.pb2.lat,'SEFCRI PB1/2 \rightarrow','Horizontal','right');
plot(sefcri.mc2.lon,sefcri.mc2.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.mc2.lat,'SEFCRI MC2 \rightarrow','Horizontal','right');
if ( fhix > 1 )
plot(sefcri.pela.lon,sefcri.pela.lat,'rp','MarkerFaceColor','w');
plot(sefcri.evca.lon,sefcri.evca.lat,'rp','MarkerFaceColor','w');
plot(sefcri.slib.lon,sefcri.slib.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.pela.lat,'SEFCRI PeLa \rightarrow','Horizontal','right');
%text(textlat,sefcri.pela.lat,'SEFCRI MC2/PeLa \rightarrow','Horizontal','right');
end;
plot(sefcri.updb.lon,sefcri.updb.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.updb.lat,'SEFCRI UpDB \rightarrow','Horizontal','right');
if ( exist('sfomc','var') )
plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'rp','MarkerFaceColor','w');
%text(textlat,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow','Horizontal','right');
if ( fhix > 1 )
plot(sfomc.c_buoy.lon,sfomc.c_buoy.lat,'rp','MarkerFaceColor','w');
plot(sfomc.sw_buoy.lon,sfomc.sw_buoy.lat,'rp','MarkerFaceColor','w');
plot(sfomc.se_buoy.lon,sfomc.se_buoy.lat,'rp','MarkerFaceColor','w');
plot(sfomc.pier_cc.lon,sfomc.pier_cc.lat,'rp','MarkerFaceColor','w');
end;
plot(sfomc.nw_w_btm.lon,sfomc.nw_w_btm.lat,'rp','MarkerFaceColor','w');
%text(textlat,sfomc.nw_w_btm.lat,'NSU NW/W mooring \rightarrow','Horizontal','right');
text(textlat,sfomc.nw_w_btm.lat,'NSU moorings: u,v \rightarrow','Horizontal','right');
end;
if doPrint; print('-dpng',fullfile(figspath,['upwelling-bathymetry-',num2str(fhix),'.png'])); end;
end; %for fhix = 1:numel(fhs)
vakf1
vkaf1
vakf1 = get_station_from_station_name('vakf1'); vakf1 = load_all_ndbc_data(vakf1);
vakf1 = station_spddir_to_uv(vakf1,'ndbc_wind1_speed','ndbc_wind1_dir');
ftpf1.lat
fdepk.lat
lkwf1.lat
cnnf1.lat
canf1.lat
fmg;
spt(6,1,-2:5);
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
xlim(datenum(2015,[8,10],1));
ylim([20,32]);
spt(6,1,6);
plot_ts(jack.deep.adcp_x,jack.deep.adcp_l);
xlim(datenum(2015,[8,10],1)); datetick3;
ylim([-0.35,+0.35]);
jack.shallow
lkwf1
[jack.shallow.slope,jack.shallow.slope_orientation,jack.shallow.isobath_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,jack.shallow.lon,jack.shallow.lat,7);
[jack.tcm1.slope,jack.tcm1.slope_orientation,jack.tcm1.isobath_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,jack.tcm1.lon,jack.tcm1.lat,7);
[jack.tcm2.slope,jack.tcm2.slope_orientation,jack.tcm2.isobath_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,jack.tcm2.lon,jack.tcm2.lat,7);
[jack.deep.slope,jack.deep.slope_orientation,jack.deep.isobath_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,jack.deep.lon,jack.deep.lat,7);
jack.shallow = station_reorient_vectors(jack.shallow,'isobath_orientation','adcp_u','adcp_v','adcp_x','adcp_l');
jack.tcm1 = station_reorient_vectors(jack.tcm1,'isobath_orientation','u','v','x','l');
jack.tcm2 = station_reorient_vectors(jack.tcm2,'isobath_orientation','u','v','x','l');
jack.deep = station_reorient_vectors(jack.deep,'isobath_orientation','adcp_u','adcp_v','adcp_x','adcp_l');
fmg;
spt(6,1,-2:5);
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
xlim(datenum(2015,[8,10],1));
ylim([20,32]);
spt(6,1,6);
plot_ts(jack.deep.adcp_x,jack.deep.adcp_l);
xlim(datenum(2015,[8,10],1)); datetick3;
ylim([-0.35,+0.35]);
xlim(datenum(2015,[6,10],1)); datetick3;
fmg;
%spt(6,1,-2:5);
subplot(6,1,1:5);
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
ylim([20,32]);
xlim(datenum(2015,[8,10],1));
% spt(6,1,6);
subplot(6,1,6);
plot_ts(jack.deep.adcp_x,jack.deep.adcp_l);
% ylim([-0.35,+0.35]);
ylim([-0.50,+0.50]);
xlim(datenum(2015,[8,10],1)); datetick3;
xlim(datenum(2015,9,[18,31])); datetick3;
xlim(datenum(2015,[6,10],1)); datetick3;
fmg;
%spt(6,1,-2:5);
subplot(6,1,1:5);
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
legend('Deep','TCM2','TCM1','Shallow','Location','SouthEast');
ylim([20,32]);
xlim(datenum(2015,[8,10],1));
% spt(6,1,6);
subplot(6,1,6);
plot_ts(jack.deep.adcp_x,jack.deep.adcp_l);
% ylim([-0.35,+0.35]);
ylim([-0.50,+0.50]);
xlim(datenum(2015,[8,10],1)); datetick3;
xlim(datenum(2015,9,[18,31])); datetick3;
close all
fmg;
subplot(7,1,1:5);
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
legend('Deep','TCM2','TCM1','Shallow','Location','SouthEast');
ylim([20,32]);
xlim(datenum(2015,[8,10],1));
subplot(7,1,6:7);
plot_ts(jack.deep.adcp_x,jack.tcm2.x,jack.tcm1.x,jack.shallow.adcp_x);
legend('Deep','TCM2','TCM1','Shallow','Location','SouthEast');
% ylim([-0.35,+0.35]);
ylim([-0.50,+0.50]);
xlim(datenum(2015,[8,10],1)); datetick3;
fmg;
subplot(7,1,1:5);
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
legend('Deep','TCM2','TCM1','Shallow','Location','SouthEast');
ylim([20,32]);
xlim(datenum(2015,9,[18,31])); datetick3;
subplot(7,1,6:7);
plot_ts(jack.deep.adcp_x,jack.tcm2.x,jack.tcm1.x,jack.shallow.adcp_x);
legend('Deep','TCM2','TCM1','Shallow','Location','SouthEast');
% ylim([-0.35,+0.35]);
ylim([-0.50,+0.50]);
xlim(datenum(2015,9,[18,31])); datetick3;
fmg;
subplot(7,1,1:5);
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
legend('Deep','TCM2','TCM1','Shallow','Location','SouthEast');
ylim([20,32]);
xlim(datenum(2015,[8,10],1));
subplot(7,1,6:7);
plot_ts(jack.deep.adcp_x,jack.tcm2.x,jack.tcm1.x,jack.shallow.adcp_x,jack.deep.adcp_l);
legend('Deep xs','TCM2 xs','TCM1 xs','Shallow xs','Deep ls','Location','SouthEast');
% ylim([-0.35,+0.35]);
ylim([-0.50,+0.50]);
xlim(datenum(2015,[8,10],1)); datetick3;
fmg;
subplot(7,1,1:5);
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
legend('Deep','TCM2','TCM1','Shallow','Location','SouthEast');
ylim([20,32]);
xlim(datenum(2015,9,[18,31])); datetick3;
subplot(7,1,6:7);
plot_ts(jack.deep.adcp_x,jack.tcm2.x,jack.tcm1.x,jack.shallow.adcp_x);
legend('Deep','TCM2','TCM1','Shallow','Location','SouthEast');
ylim([-0.35,+0.35]);
xlim(datenum(2015,9,[18,31])); datetick3;
fmg;
subplot(7,1,1:5);
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
legend('Deep','TCM2','TCM1','Shallow','Location','SouthEast');
ylim([20,32]);
xlim(datenum(2015,9,[18,31])); datetick3;
subplot(7,1,6:7);
plot_ts(jack.deep.adcp_x,jack.tcm2.x,jack.tcm1.x,jack.shallow.adcp_x);
legend('Deep','TCM2','TCM1','Shallow','Location','SouthEast');
ylim([-0.20,+0.20]);
xlim(datenum(2015,9,[18,31])); datetick3;
ylim([27,31]);
fmg;
subplot(7,1,1:3);
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
legend('Deep','TCM2','TCM1','Shallow','Location','SouthEast');
ylim([27,31]);
xlim(datenum(2015,9,[18,31])); datetick3;
subplot(7,1,4:5);
plot_ts(jack.deep.adcp_l,jack.tcm2.l,jack.tcm1.l,jack.shallow.adcp_l);
legend('Deep','TCM2','TCM1','Shallow','Location','SouthEast');
ylim([-0.50,+0.50]);
xlim(datenum(2015,9,[18,31])); datetick3;
subplot(7,1,6:7);
plot_ts(jack.deep.adcp_x,jack.tcm2.x,jack.tcm1.x,jack.shallow.adcp_x);
legend('Deep','TCM2','TCM1','Shallow','Location','SouthEast');
ylim([-0.20,+0.20]);
xlim(datenum(2015,9,[18,31])); datetick3;
ylim([-0.15,+0.15])
ylim([-0.16,+0.16])
grid on
help xlabel
xlabel('OFF')
get(gca)
get(gca,'XAxis')
get(get(gca,'XAxis'))
set(get(gca,'XAxis'),'Vis','off')
ylim([-0.80,+0.80]);
jack.tcm2 = plot_hires_bathymetry(jack.tcm2,-[0:1:30],[10e3,15e3]);
jack.tcm2 rmfield(jack.tcm2,'ngdc_hires_bathy');
jack.tcm2 = rmfield(jack.tcm2,'ngdc_hires_bathy');
jack.tcm2 = plot_hires_bathymetry(jack.tcm2,-[0:1:30],[10e3,15e3],[],[],[],false);
help plot_hires_bathymetry
jack.tcm2 = plot_hires_bathymetry(jack.tcm2,-[0:1:30],[10e3,15e3],[],[],[],[],false);
jack.tcm2 = rmfield(jack.tcm2,'ngdc_hires_bathy');
jack.tcm2 = plot_hires_bathymetry(jack.tcm2,-[0:1:30],[4e3,10e3]);
axis(axis);
% textlat = -81.25;
xl = get(gca,'XLim');
textlat = xl(1) - 0.2;
plot(fwyf1.lon,fwyf1.lat,'rp','MarkerFaceColor','w');
text(textlat,fwyf1.lat,'FWYF1: met. \rightarrow','Horizontal','right');
plot(lkwf1.lon,lkwf1.lat,'rp','MarkerFaceColor','w');
text(textlat,lkwf1.lat,'LKWF1: met. \rightarrow','Horizontal','right');
% plot(pvgf1.lon,pvgf1.lat,'rp','MarkerFaceColor','w');
% text(textlat,pvgf1.lat,'PVGF1 \rightarrow','Horizontal','right');
plot(fdepk.lon,fdepk.lat,'rp','MarkerFaceColor','w');
text(textlat,fdepk.lat,'FDEP "K": met \rightarrow','Horizontal','right');
plot(ftpf1.lon,ftpf1.lat,'rp','MarkerFaceColor','w');
text(textlat,ftpf1.lat,'41114: Hs \rightarrow','Horizontal','right');
plot(sefcri.dc1.lon,sefcri.dc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow','Horizontal','right');
text(textlat,sefcri.dc3.lat,'SEFCRI DC1/3 \rightarrow','Horizontal','right');
plot(sefcri.bc1.lon,sefcri.bc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.bc3.lat,'SEFCRI BC3 \rightarrow','Horizontal','right');
text(textlat,sefcri.bc3.lat,'SEFCRI BC1/3 \rightarrow','Horizontal','right');
plot(jack.shallow.lon,jack.shallow.lat,'rp','MarkerFaceColor','w');
if ( fhix > 1 )
plot(jack.tcm1.lon,jack.tcm1.lat,'rp','MarkerFaceColor','w');
plot(jack.tcm2.lon,jack.tcm2.lat,'rp','MarkerFaceColor','w');
end;
plot(jack.deep.lon,jack.deep.lat,'rp','MarkerFaceColor','w');
text(textlat,jack.deep.lat,'FACE HWD moorings: u,v \rightarrow','Horizontal','right');
plot(sefcri.pb1.lon,sefcri.pb1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow','Horizontal','right');
text(textlat,sefcri.pb2.lat,'SEFCRI PB1/2 \rightarrow','Horizontal','right');
plot(sefcri.mc2.lon,sefcri.mc2.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.mc2.lat,'SEFCRI MC2 \rightarrow','Horizontal','right');
if ( fhix > 1 )
plot(sefcri.pela.lon,sefcri.pela.lat,'rp','MarkerFaceColor','w');
plot(sefcri.evca.lon,sefcri.evca.lat,'rp','MarkerFaceColor','w');
plot(sefcri.slib.lon,sefcri.slib.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.pela.lat,'SEFCRI PeLa \rightarrow','Horizontal','right');
%text(textlat,sefcri.pela.lat,'SEFCRI MC2/PeLa \rightarrow','Horizontal','right');
end;
plot(sefcri.updb.lon,sefcri.updb.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.updb.lat,'SEFCRI UpDB \rightarrow','Horizontal','right');
if ( exist('sfomc','var') )
plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'rp','MarkerFaceColor','w');
%text(textlat,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow','Horizontal','right');
if ( fhix > 1 )
plot(sfomc.c_buoy.lon,sfomc.c_buoy.lat,'rp','MarkerFaceColor','w');
plot(sfomc.sw_buoy.lon,sfomc.sw_buoy.lat,'rp','MarkerFaceColor','w');
plot(sfomc.se_buoy.lon,sfomc.se_buoy.lat,'rp','MarkerFaceColor','w');
plot(sfomc.pier_cc.lon,sfomc.pier_cc.lat,'rp','MarkerFaceColor','w');
end;
plot(sfomc.nw_w_btm.lon,sfomc.nw_w_btm.lat,'rp','MarkerFaceColor','w');
%text(textlat,sfomc.nw_w_btm.lat,'NSU NW/W mooring \rightarrow','Horizontal','right');
text(textlat,sfomc.nw_w_btm.lat,'NSU moorings: u,v \rightarrow','Horizontal','right');
end;
xl
textlat
get(gca,'YLabel')
get(get(gca,'YLabel'))
get(get(gca,'YLabel'),'Pos')
help axis
which lim
fmg; plot(1:10);
annotaxis(6,'foo \rightarrow')
help text
annotaxis(6,'foo \rightarrow')
fmg; plot(1:10);
annotaxis(6,'foo \rightarrow')
fmg; plot(1:10);
annotaxis(6,'foo \rightarrow')
annotaxis('x',6,'foo \rightarrow')
get(gca,'Zlim')
get(gca)
get(gca,'ZAxis')
get(get(gca,'YAxis'))
get(get(gca,'ZAxis'))
title('\toparrow')
title('\leftarrow')
title('\uparrow')
fmg; plot(1:10);
annotaxis(6,'foo \rightarrow')
fmg; plot(1e6+1:1e6+10);
annotaxis(6,'foo \rightarrow')
annotaxis(1e6+6,'foo \rightarrow')
annotaxis('x',1e6+6,'foo \uparrow')
fmg; plot(1:10);
annotaxis(6,'foo \rightarrow')
annotaxis('x',6,'foo \rightarrow')
annotaxis('x',5,'foo \rightarrow','Rotation',90)
fmg; plot3(1:10,1:10,sin(1:10));
fmg; plot3(1:10,1:10,sin(1:10)); view(3);
annotaxis(6,'foo \rightarrow')
fmg; plot(1:10);
annotaxis(6,'foo \rightarrow')
view(3)
view(2)
fmg; plot(1:10);
annotaxis(6,'foo \rightarrow')
view(3)
fmg; plot(1:10);
annotaxis(6,'foo \rightarrow')
annotaxis(5,3,'foo \rightarrow')
annotaxis(5,'bar \rightarrow')
annotaxis(5,'bar \rightarrow','FontSize',18);
annotaxis('x',6,'foo \rightarrow')
annotaxis('x',6,'foo \rightarrow');
annotaxis(7,'bar \rightarrow','FontSize',18);
annotaxis(8,'bar \rightarrow','FontSize',18);
annotaxis(9,'bar \rightarrow','FontSize',18);
annotaxis(3,'bar \rightarrow','FontSize',18);
annotaxis(9,'bar \rightarrow','FontSize',18);
annotaxis(3,'bar \rightarrow','FontSize',18);
dbstop annotaxis
annotaxis(3,'bar \rightarrow','FontSize',18);
ishandle(3)
help isa
isobject(3)
isobject(gca)
gca
axes(3)
get(3,'Type')
dbquit
help axes
h = axes
get(0,'child')
axes(5)
annotaxis(3,'bar \rightarrow','FontSize',18);
dbcont
dbstop annotaxis
annotaxis(5,'bar \rightarrow','FontSize',18);
fmg; plot(1:10);
annotaxis(5,'bar \rightarrow','FontSize',18);
annotaxis(3,'bar \rightarrow','FontSize',18,'Rotation',15);
dbclear all
annotaxis('x',5,'bar \rightarrow');
annotaxis('z',5,'bar \rightarrow');
view(3)
get(ans)
get(gco)
th = annotaxis('z',5,'bar \rightarrow');
delete(th)
delete(gco)
th = annotaxis('z',5,'bar \rightarrow');
fmg; plot3(1:10,1:10,sin(1:10)); view(3);
annotaxis(3,'bar \rightarrow','FontSize',18,'Rotation',15);
annotaxis(1,'bar \rightarrow','FontSize',18,'Rotation',15);
annotaxis(1,'bar \rightarrow','FontSize',24,'Rotation',15);
doPrint=false;
fhs=[];
[lkwf1,ig,ig,ig,fhs(1)] = plot_hires_bathymetry(lkwf1,-[0:2:20,30:20:200]);
titlename('SE Florida shelf - USGS Bathymetry - instrumentation');
[sefcri.dc3,ig,ig,ig,fhs(end+1)] = plot_hires_bathymetry(sefcri.dc3,-[0:2:20,30:10:50]);
titlename('SE Florida shelf (southern) - USGS Bathymetry - instrumentation');
[fdepk,ig,ig,ig,fhs(end+1)] = plot_hires_bathymetry(fdepk,-[0:2:20,30:10:50]);
titlename('SE Florida shelf (northern) - USGS Bathymetry - instrumentation');
% [canf1,ig,ig,ig,fhs(end+1)] = plot_hires_bathymetry(canf1,-[0:2:20,30:10:50]);
% titlename('Central Florida shelf - USGS Bathymetry - instrumentation');
for fhix = 1:numel(fhs)
figure(fhs(fhix));
axis(axis);
% textlon = -81.25;
xl = get(gca,'XLim');
textlon = xl(1) - 0.2;
plot(fwyf1.lon,fwyf1.lat,'rp','MarkerFaceColor','w');
%text(textlon,fwyf1.lat,'FWYF1: met. \rightarrow','Horizontal','right');
annotaxis(fwyf1.lat,'FWYF1: met. \rightarrow','Horizontal','right');
plot(lkwf1.lon,lkwf1.lat,'rp','MarkerFaceColor','w');
%text(textlon,lkwf1.lat,'LKWF1: met. \rightarrow','Horizontal','right');
annotaxis(lkwf1.lat,'LKWF1: met. \rightarrow','Horizontal','right');
%plot(pvgf1.lon,pvgf1.lat,'rp','MarkerFaceColor','w');
%text(textlon,pvgf1.lat,'PVGF1 \rightarrow','Horizontal','right');
plot(fdepk.lon,fdepk.lat,'rp','MarkerFaceColor','w');
%text(textlon,fdepk.lat,'FDEP "K": met \rightarrow','Horizontal','right');
annotaxis(fdepk.lat,'FDEP "K": met \rightarrow','Horizontal','right');
plot(ftpf1.lon,ftpf1.lat,'rp','MarkerFaceColor','w');
%text(textlon,ftpf1.lat,'41114: Hs \rightarrow','Horizontal','right');
annotaxis(ftpf1.lat,'41114: Hs \rightarrow','Horizontal','right');
plot(sefcri.dc1.lon,sefcri.dc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'rp','MarkerFaceColor','w');
%text(textlon,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow','Horizontal','right');
%text(textlon,sefcri.dc3.lat,'SEFCRI DC1/3 \rightarrow','Horizontal','right');
annotaxis(sefcri.dc3.lat,'SEFCRI DC1/3 \rightarrow','Horizontal','right');
plot(sefcri.bc1.lon,sefcri.bc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'rp','MarkerFaceColor','w');
%text(textlon,sefcri.bc3.lat,'SEFCRI BC3 \rightarrow','Horizontal','right');
%text(textlon,sefcri.bc3.lat,'SEFCRI BC1/3 \rightarrow','Horizontal','right');
annotaxis(sefcri.bc3.lat,'SEFCRI BC1/3 \rightarrow','Horizontal','right');
plot(jack.shallow.lon,jack.shallow.lat,'rp','MarkerFaceColor','w');
if ( fhix > 1 )
plot(jack.tcm1.lon,jack.tcm1.lat,'rp','MarkerFaceColor','w');
plot(jack.tcm2.lon,jack.tcm2.lat,'rp','MarkerFaceColor','w');
end;
plot(jack.deep.lon,jack.deep.lat,'rp','MarkerFaceColor','w');
%text(textlon,jack.deep.lat,'FACE HWD moorings: u,v \rightarrow','Horizontal','right');
annotaxis(jack.deep.lat,'FACE HWD moorings: u,v \rightarrow','Horizontal','right');
plot(sefcri.pb1.lon,sefcri.pb1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'rp','MarkerFaceColor','w');
%text(textlon,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow','Horizontal','right');
%text(textlon,sefcri.pb2.lat,'SEFCRI PB1/2 \rightarrow','Horizontal','right');
annotaxis(sefcri.pb2.lat,'SEFCRI PB1/2 \rightarrow','Horizontal','right');
plot(sefcri.mc2.lon,sefcri.mc2.lat,'rp','MarkerFaceColor','w');
%text(textlon,sefcri.mc2.lat,'SEFCRI MC2 \rightarrow','Horizontal','right');
annotaxis(sefcri.mc2.lat,'SEFCRI MC2 \rightarrow','Horizontal','right');
if ( fhix > 1 )
plot(sefcri.pela.lon,sefcri.pela.lat,'rp','MarkerFaceColor','w');
plot(sefcri.evca.lon,sefcri.evca.lat,'rp','MarkerFaceColor','w');
plot(sefcri.slib.lon,sefcri.slib.lat,'rp','MarkerFaceColor','w');
%text(textlon,sefcri.pela.lat,'SEFCRI PeLa \rightarrow','Horizontal','right');
%text(textlon,sefcri.pela.lat,'SEFCRI MC2/PeLa \rightarrow','Horizontal','right');
end;
plot(sefcri.updb.lon,sefcri.updb.lat,'rp','MarkerFaceColor','w');
%text(textlon,sefcri.updb.lat,'SEFCRI UpDB \rightarrow','Horizontal','right');
annotaxis(sefcri.updb.lat,'SEFCRI UpDB \rightarrow','Horizontal','right');
if ( exist('sfomc','var') )
plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'rp','MarkerFaceColor','w');
%text(textlon,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow','Horizontal','right');
if ( fhix > 1 )
plot(sfomc.c_buoy.lon,sfomc.c_buoy.lat,'rp','MarkerFaceColor','w');
plot(sfomc.sw_buoy.lon,sfomc.sw_buoy.lat,'rp','MarkerFaceColor','w');
plot(sfomc.se_buoy.lon,sfomc.se_buoy.lat,'rp','MarkerFaceColor','w');
plot(sfomc.pier_cc.lon,sfomc.pier_cc.lat,'rp','MarkerFaceColor','w');
end;
plot(sfomc.nw_w_btm.lon,sfomc.nw_w_btm.lat,'rp','MarkerFaceColor','w');
%text(textlon,sfomc.nw_w_btm.lat,'NSU NW/W mooring \rightarrow','Horizontal','right');
%text(textlon,sfomc.nw_w_btm.lat,'NSU moorings: u,v \rightarrow','Horizontal','right');
annotaxis(sfomc.nw_w_btm.lat,'NSU moorings: u,v \rightarrow','Horizontal','right');
end;
if doPrint; print('-dpng',fullfile(figspath,['upwelling-bathymetry-',num2str(fhix),'.png'])); end;
end; %for fhix = 1:numel(fhs)
axis(axis);
% textlon = -81.25;
xl = get(gca,'XLim');
textlon = xl(1) - 0.2;
plot(fwyf1.lon,fwyf1.lat,'rp','MarkerFaceColor','w');
%text(textlon,fwyf1.lat,'FWYF1: met. \rightarrow','Horizontal','right');
annotaxis(fwyf1.lat,'FWYF1: met. \rightarrow','Horizontal','right');
plot(lkwf1.lon,lkwf1.lat,'rp','MarkerFaceColor','w');
%text(textlon,lkwf1.lat,'LKWF1: met. \rightarrow','Horizontal','right');
annotaxis(lkwf1.lat,'LKWF1: met. \rightarrow','Horizontal','right');
%plot(pvgf1.lon,pvgf1.lat,'rp','MarkerFaceColor','w');
%text(textlon,pvgf1.lat,'PVGF1 \rightarrow','Horizontal','right');
plot(fdepk.lon,fdepk.lat,'rp','MarkerFaceColor','w');
%text(textlon,fdepk.lat,'FDEP "K": met \rightarrow','Horizontal','right');
annotaxis(fdepk.lat,'FDEP "K": met \rightarrow','Horizontal','right');
plot(ftpf1.lon,ftpf1.lat,'rp','MarkerFaceColor','w');
%text(textlon,ftpf1.lat,'41114: Hs \rightarrow','Horizontal','right');
annotaxis(ftpf1.lat,'41114: Hs \rightarrow','Horizontal','right');
plot(sefcri.dc1.lon,sefcri.dc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'rp','MarkerFaceColor','w');
%text(textlon,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow','Horizontal','right');
%text(textlon,sefcri.dc3.lat,'SEFCRI DC1/3 \rightarrow','Horizontal','right');
annotaxis(sefcri.dc3.lat,'SEFCRI DC1/3 \rightarrow','Horizontal','right');
plot(sefcri.bc1.lon,sefcri.bc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'rp','MarkerFaceColor','w');
%text(textlon,sefcri.bc3.lat,'SEFCRI BC3 \rightarrow','Horizontal','right');
%text(textlon,sefcri.bc3.lat,'SEFCRI BC1/3 \rightarrow','Horizontal','right');
annotaxis(sefcri.bc3.lat,'SEFCRI BC1/3 \rightarrow','Horizontal','right');
plot(jack.shallow.lon,jack.shallow.lat,'rp','MarkerFaceColor','w');
if ( fhix > 1 )
plot(jack.tcm1.lon,jack.tcm1.lat,'rp','MarkerFaceColor','w');
plot(jack.tcm2.lon,jack.tcm2.lat,'rp','MarkerFaceColor','w');
end;
plot(jack.deep.lon,jack.deep.lat,'rp','MarkerFaceColor','w');
%text(textlon,jack.deep.lat,'FACE HWD moorings: u,v \rightarrow','Horizontal','right');
annotaxis(jack.deep.lat,'FACE HWD moorings: u,v \rightarrow','Horizontal','right');
plot(sefcri.pb1.lon,sefcri.pb1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'rp','MarkerFaceColor','w');
%text(textlon,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow','Horizontal','right');
%text(textlon,sefcri.pb2.lat,'SEFCRI PB1/2 \rightarrow','Horizontal','right');
annotaxis(sefcri.pb2.lat,'SEFCRI PB1/2 \rightarrow','Horizontal','right');
plot(sefcri.mc2.lon,sefcri.mc2.lat,'rp','MarkerFaceColor','w');
%text(textlon,sefcri.mc2.lat,'SEFCRI MC2 \rightarrow','Horizontal','right');
annotaxis(sefcri.mc2.lat,'SEFCRI MC2 \rightarrow','Horizontal','right');
if ( fhix > 1 )
plot(sefcri.pela.lon,sefcri.pela.lat,'rp','MarkerFaceColor','w');
plot(sefcri.evca.lon,sefcri.evca.lat,'rp','MarkerFaceColor','w');
plot(sefcri.slib.lon,sefcri.slib.lat,'rp','MarkerFaceColor','w');
%text(textlon,sefcri.pela.lat,'SEFCRI PeLa \rightarrow','Horizontal','right');
%text(textlon,sefcri.pela.lat,'SEFCRI MC2/PeLa \rightarrow','Horizontal','right');
end;
plot(sefcri.updb.lon,sefcri.updb.lat,'rp','MarkerFaceColor','w');
%text(textlon,sefcri.updb.lat,'SEFCRI UpDB \rightarrow','Horizontal','right');
annotaxis(sefcri.updb.lat,'SEFCRI UpDB \rightarrow','Horizontal','right');
if ( exist('sfomc','var') )
plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'rp','MarkerFaceColor','w');
%text(textlon,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow','Horizontal','right');
if ( fhix > 1 )
plot(sfomc.c_buoy.lon,sfomc.c_buoy.lat,'rp','MarkerFaceColor','w');
plot(sfomc.sw_buoy.lon,sfomc.sw_buoy.lat,'rp','MarkerFaceColor','w');
plot(sfomc.se_buoy.lon,sfomc.se_buoy.lat,'rp','MarkerFaceColor','w');
plot(sfomc.pier_cc.lon,sfomc.pier_cc.lat,'rp','MarkerFaceColor','w');
end;
plot(sfomc.nw_w_btm.lon,sfomc.nw_w_btm.lat,'rp','MarkerFaceColor','w');
%text(textlon,sfomc.nw_w_btm.lat,'NSU NW/W mooring \rightarrow','Horizontal','right');
%text(textlon,sfomc.nw_w_btm.lat,'NSU moorings: u,v \rightarrow','Horizontal','right');
annotaxis(sfomc.nw_w_btm.lat,'NSU moorings: u,v \rightarrow','Horizontal','right');
end;
jack.tcm2 = rmfield(jack.tcm2,'ngdc_hires_bathy');
jack.tcm2 = plot_hires_bathymetry(jack.tcm2,-[0:1:50],[4e3,8e3]);
canf1
cnnf1
canf1
jack.tcm2 = rmfield(jack.tcm2,'ngdc_hires_bathy');
jack.tcm2 = plot_hires_bathymetry(jack.tcm2,-[0:1:30],[3e3,9e3]);
jack.tcm2 = plot_hires_bathymetry(jack.tcm2,-[0:1:50],[3e3,9e3]);
jack.tcm2 = rmfield(jack.tcm2,'ngdc_hires_bathy');
jack.tcm2 = plot_hires_bathymetry(jack.tcm2,-[0:1:50],[3e3,9e3]);
plot_all_se_florida_upwelling_sites
jack.tcm2 = rmfield(jack.tcm2,'ngdc_hires_bathy');
jack.tcm2 = plot_hires_bathymetry(jack.tcm2,-[0:1:80],[3e3,9e3]);
jack.tcm2 = rmfield(jack.tcm2,'ngdc_hires_bathy');
jack.tcm2 = plot_hires_bathymetry(jack.tcm2,-[0:1:120],[3e3,9e3]);
jack.tcm2 = plot_hires_bathymetry(jack.tcm2,-[0:1:80,90:10:120],[3e3,9e3]);
jack.tcm2 = rmfield(jack.tcm2,'ngdc_hires_bathy');
jack.tcm2 = plot_hires_bathymetry(jack.tcm2,-[0:1:50,60:10:120],[3e3,9e3]);
plot_all_se_florida_upwelling_sites
jack.deep
jack.tcm2 = rmfield(jack.tcm2,'ngdc_hires_bathy');
jack.tcm2 = plot_hires_bathymetry(jack.tcm2,-[0:1:30,40:10:120],[3e3,9e3]);
plot_all_se_florida_upwelling_sites
sfomc
sfomc = get_sfomc_data;
[sfomc.nw_w_btm.slope,sfomc.nw_w_btm.slope_orientation,sfomc.nw_w_btm.isobath_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,sfomc.nw_w_btm.lon,sfomc.nw_w_btm.lat,7);
[sfomc.ne_buoy.slope,sfomc.ne_buoy.slope_orientation,sfomc.ne_buoy.isobath_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,7);
[sfomc.e_buoy.slope,sfomc.e_buoy.slope_orientation,sfomc.e_buoy.isobath_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,sfomc.e_buoy.lon,sfomc.e_buoy.lat,7);
[sfomc.c_buoy.slope,sfomc.c_buoy.slope_orientation,sfomc.c_buoy.isobath_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,sfomc.c_buoy.lon,sfomc.c_buoy.lat,7);
[sfomc.sw_buoy.slope,sfomc.sw_buoy.slope_orientation,sfomc.sw_buoy.isobath_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,sfomc.sw_buoy.lon,sfomc.sw_buoy.lat,7);
if ( exist('sfomc','var') )
sfomc.c_buoy = plot_hires_bathymetry(sfomc.c_buoy,-[0:1:30,40:10:120],[3e3,9e3]);
plot_all_se_florida_upwelling_sites;
if doPrint; print('-dpng',fullfile(figspath,['upwelling-bathymetry-sfomc.png'])); end;
end;
clear fhix
sfomc.c_buoy = rmfield(sfomc.c_buoy,'ngdc_hires_bathy');
sfomc.c_buoy = plot_hires_bathymetry(sfomc.c_buoy,-[0:1:30,40:10:120],[3e3,9e3]);
plot_all_se_florida_upwelling_sites;
clear fhix
plot_all_se_florida_upwelling_sites;
dbstop plot_all_se_florida_upwelling_sites
plot_all_se_florida_upwelling_sites;
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
jack = read_face_jack_currents;
dbstop if error
jack = read_face_jack_currents;
sfomc
jack = read_face_jack_currents;
fmg; plot_ts(jack.deep.adcp_u_sfc,jack.deep.adcp_u_mid,jack.deep.adcp_u_btm);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
cnnf1
canf1
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
cnnf1
canf1
fmg; contour(canf1.ngdc_hires_bathy.field);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
reviewanim([],0,0,0)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = get_face_jack_currents;
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
sfomc = get_sfomc_trim_data;
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
doPrint = false;
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
more off
doPrint = false;
ekman_flux
clear ans ax dpax fhs fld fldstub hrs ig
clear ans ax dpax fhs fld fldstub hrs ig lh shax
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
get(gco)
set(gco,'Orientation)
set(gco,'Orientation')
set(gco,'Orientation','hor')
ylim([-0.60,+0.60]);
ylim([-0.75,+0.75]);
ylim([-0.8,+0.8]);
ylim([-0.99,+0.99]);
ylim([-1.1,+1.1]);
fmg; boxplot_ts(sfomc.nw_w_btm.adcp_seatemp);
dir *clim*
help monthly_clim_ts
dirs
pd +3
dir *clim*
help daily_clim
type compare_flux_climatologies.m
pd
dir *clm*
dir *clim*
help climatologize_time_series
help anomalize_ts
help grp_ts
dir *prct*
prctile([1:10,nan,11:20],3)
prctile([1:10,nan,11:20],7)
type anomalize_ts
help deal
help get_yearday
C = deal(get_yearday(1))
C = deal(get_yearday(10))
C = {[],[]}
C = deal(get_yearday(10))
C = {[],[]}
C = get_yearday(10)
C = {[],[]}
C{:} = get_yearday(10)
C{:} = deal(get_yearday(10))
[C{:}] = get_yearday(10)
C{1}
C{2}
[A,B] = deal(C)
clear A B
[A,B] = deal(C{:})
isnumeric(A)
clear A B C
C = {[],[]}
[C{:}] = get_yearday(10)
[A,B] = C{:}
isnumeric(A)
clear A B C
help mid
mid
help upp
help lop
lop
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t)
clm.clim
clm.anom
clm.sd
clm.clim
datestr(clm.clim.date(1))
help anomalize_ts
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t)
dbstop if error
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t)
res
dbquit
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t)
dbquit
dbclear all
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t)
help get_jday_no_leap
clim.date
clm.clim.date
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_year)
dbstop plot_ts_vs_climatology
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_year)
args{:}
args
dbquit
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_year)
dbstop if error
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_year)
clm
mid.data = clm.clim.data(clm.clim.date == clm.cumfun(ts.date));
help ismember
[ig,ix] = ismember(clm.cumfun(ts.date),clm.clim.date);
nansummary(ix)
unique(get_year(ts.date))
numel(unique(get_year(ts.date)))
mid.data = clm.clim.data(ix);
mid
dbquit
clm
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_year)
clm.lopct
clm.lopct.data
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_year)
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t)
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month)
islogical(true)
islogical(1)
isnumeric(nan)
help smooth
smoothing
which smooth
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month)
dbquit
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month)
xlim(datenum([2004,2007],1,1)); datetick3;
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month)
xlim(datenum([2004,2007],1,1)); datetick3;
dbstop plot_ts_vs_climatology
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month)
pct
isnan(pct)
dbquit
isnan([])
if (~isnan([])); disp n; end;
if (~isnan([])||isempty(pct)); disp n; end;
if (isempty(pct) || ~isnan([])); disp n; end;
if (isempty([]) || ~isnan([])); disp n; end;
if (isempty(nan) || ~isnan(nan)); disp n; end;
isnan([])
nan==nan
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month)
dbquit
dbclear all
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month)
xlim(datenum([2004,2007],1,1)); datetick3;
dbstop plot_ts_vs_climatology
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month)
isempty(pct)
dbquit
dbclear all
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month)
xlim(datenum([2004,2007],1,1)); datetick3;
help smooth
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month)
xlim(datenum([2004,2007],1,1)); datetick3;
help smooth
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month)
xlim(datenum([2004,2007],1,1)); datetick3;
help rlevinson
help smooth
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month)
xlim(datenum([2004,2007],1,1)); datetick3;
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month)
xlim(datenum([2004,2007],1,1)); datetick3;
help interp1
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month)
xlim(datenum([2004,2007],1,1)); datetick3;
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month)
xlim(datenum([2004,2007],1,1)); datetick3;
help smooth
lookfor runlen
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month)
xlim(datenum([2004,2007],1,1)); datetick3;
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month)
xlim(datenum([2004,2007],1,1)); datetick3;
titlename('\plusminus')
titlename('/plusminus')
titlename('\plusminus')
titlename('\plusmin')
titlename('\leftarrow')
titlename('\plusmn')
titlename('\plusm')
titlename('\plus')
titlename('\plusorminus')
titlename('\plusmin')
help text
help strings
help strfun
help string
help strings
help title
help text
get(title('\plusminus'))
help interpreter
help tex
help interpreter
help interpret
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month)
xlim(datenum([2004,2007],1,1)); datetick3;
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t)
xlim(datenum([2004,2007],1,1)); datetick3;
help loess
help smooth
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t)
xlim(datenum([2004,2007],1,1)); datetick3;
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month)
xlim(datenum([2004,2007],1,1)); datetick3;
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month)
xlim(datenum([2004,2007],1,1)); datetick3;
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month), xlim(datenum([2004,2007],1,1)); datetick3;
3*2
3*3
help smooth
help isodd
help odd
which odd
help isodd(31*24)
isodd(31*24)
dir *odd*
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month), xlim(datenum([2004,2007],1,1)); datetick3;
mod(3,2)
mod(9,2)
mod(10,2)
mod(10,3)
mod(11,3)
~mod(9,2)
~mod(10,2)
help xor
xor(9,1)
xor(10,1)
and(10,1)
and(9,1)
help and
9&1
10&1
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month), xlim(datenum([2004,2007],1,1)); datetick3;
help linterp
help linestyle
help linewidth
which linewidth
which linestyle
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month), xlim(datenum([2004,2007],1,1)); datetick3;
dbstop if error
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month), xlim(datenum([2004,2007],1,1)); datetick3;
clm.midts
dbquit
dbclear all
clm
x
x = clm.clim
x.data
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month,nan), xlim(datenum([2004,2007],1,1)); datetick3;
islogical(nan)
dbstop if error
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month,nan), xlim(datenum([2004,2007],1,1)); datetick3;
pct
dbquit
dbclear all
dbstop plot_ts_vs_climatology
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,@get_month,nan), xlim(datenum([2004,2007],1,1)); datetick3;
args
dbquit
dbclear all
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,nan,@get_month), xlim(datenum([2004,2007],1,1)); datetick3;
dbstop if error
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,nan,@get_month), xlim(datenum([2004,2007],1,1)); datetick3;
useclim
nansummary(ix)
dbquit
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,nan,@get_month), xlim(datenum([2004,2007],1,1)); datetick3;
find_date_ranges(useclim.date)
dbquit
help cell
cell(8)
cell(1,8)
res = {[],[],[],[],[],[],[],[]};
res = {[],[],[],[],[],[],[],[]}
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,nan,false,@get_month), xlim(datenum([2004,2007],1,1)); datetick3;
dbquit
clm = plot_ts_vs_climatology(fwyf1.ndbc_sea_t,false,nan,@get_month), xlim(datenum([2004,2007],1,1)); datetick3;
with_jack
dbup
ax
lm
dbdown
val
dbup
dbquit
with_jack
fmg; hist(pvgf1.ndbc_ekman_flux_volume.data,1000);
fmg; hist(pvgf1.ndbc_ekman_flux.data,1000);
with_jack
ylim([18,32]);
ylim([19,32]);
ylim([19.5,31.5]);
ylim([-0.4,+0.4]);
ylim([-3000,+3000]);
ylim([-4000,+4000]);
ylim([-6000,+6000]);
ylim([-7000,+7000]);
nansummary(pvgf1.ndbc_ekman_flux_volume.data)
disp('Whole period when all four current meters were operating');
figure(shfh); xlim(datenum(2015,[9,11],[18,12])); datetick3;
figure(dpfh); xlim(datenum(2015,[9,11],[18,12])); datetick3;
figure(ekfh); xlim(datenum(2015,[9,11],[18,12])); datetick3;
pause;
set(gca,'XTickLabel','');
datetick3;
gca
get(gca)
set(gca,'XTickLabel','');
get(gca,'XTickLabelMode')
help linkaxes
help linkprop
fmg;
h1 = line('xdata',1:10,'ydata',1:10);
h2 = line('xdata',1:10,'ydata',10:-1:1);
hlink = linkprop([h1,h2],'Color');
h1.Color = [.3 .4 .5];
h2.Color % returns [.3 .4 .5]
get(hlink)
get(gca,'UserData')
which localRemoveLink
help linkaxes
gca
get(gca,'child')
get(gcf,'child')
dir *ax*
ax=get(gcf,'child')
ax=ax(2:2:6)
linkprop(ax,'off')
linkaxes(ax,'off')
datetick3;
set(gca,'XTickLabel','');
help datetick3
datetick('x','keeplimits')
disp('Upwelling event when all four current meters were operating');
figure(shfh); xlim(datenum(2015,9,[18,29])); datetick3;
figure(dpfh); xlim(datenum(2015,9,[18,29])); datetick3;
figure(ekfh); xlim(datenum(2015,9,[18,29])); datetick3;
pause;
ylim([27,30.5])
ylim([27,31])
fmg; boxplot_ts(fwyf1.ndbc_air_t,'week');
help subplot
help subplot
help subplot
3+(10/60)
ans/13.1
1/ans
3+(10/60)
13.1/ans
60/ans
14*13.1
ans/60
ans-3
ans*60
dpfh = fmg;
dpax(1) = subplot(7,1,1:3); title('Sea temperatures');
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
ylim([19.5,31.5]);
grid on; set(gca,'XTickLabel','');
legend('Deep','TCM2','TCM1','Shallow', 'Location','NorthEast');
dpax(2) = subplot(7,1,4:5); title('Deep alongshore current');
plot_ts(jack.deep.adcp_v_sfc,jack.deep.adcp_v_mid,jack.deep.adcp_v_btm);
ylim([-1.5,+1.5]);
grid on; center_axes; set(gca,'XTickLabel','');
legend('Surface','Mid-column','Bottom', 'Location','NorthEast');
dpax(3) = subplot(7,1,6:7); title('Deep cross-shore current');
plot_ts(jack.deep.adcp_u_sfc,jack.deep.adcp_u_mid,jack.deep.adcp_u_btm);
ylim([-0.4,+0.4]);
grid on; center_axes;
legend('Surface','Mid-column','Bottom', 'Location','NorthEast');
datetick
datetick3;
dpfh = fmg;
dpax(1) = subplot(7,1,1:3); title('Sea temperatures');
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
ylim([19.5,31.5]);
grid on; set(gca,'XTickLabel','');
legend('Deep','TCM2','TCM1','Shallow', 'Location','NorthEast');
dpax(2) = subplot(7,1,4:5); title('Deep alongshore current');
plot_ts(jack.deep.adcp_v_sfc,jack.deep.adcp_v_mid,jack.deep.adcp_v_btm);
ylim([-1.5,+1.5]);
grid on; center_axes; set(gca,'XTickLabel','');
legend('Surface','Mid-column','Bottom', 'Location','NorthEast');
dpax(3) = subplot(7,1,6:7); title('Deep cross-shore current');
plot_ts(jack.deep.adcp_u_sfc,jack.deep.adcp_u_mid,jack.deep.adcp_u_btm);
ylim([-0.4,+0.4]);
grid on; center_axes;
legend('Surface','Mid-column','Bottom', 'Location','NorthEast');
datetick
datetick2
dpfh = fmg;
dpax(1) = subplot(7,1,1:3); title('Sea temperatures');
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
ylim([19.5,31.5]);
grid on; set(gca,'XTickLabel','');
legend('Deep','TCM2','TCM1','Shallow', 'Location','NorthEast');
dpax(2) = subplot(7,1,4:5); title('Deep alongshore current');
plot_ts(jack.deep.adcp_v_sfc,jack.deep.adcp_v_mid,jack.deep.adcp_v_btm);
ylim([-1.5,+1.5]);
grid on; center_axes; set(gca,'XTickLabel','');
legend('Surface','Mid-column','Bottom', 'Location','NorthEast');
dpax(3) = subplot(7,1,6:7); title('Deep cross-shore current');
plot_ts(jack.deep.adcp_u_sfc,jack.deep.adcp_u_mid,jack.deep.adcp_u_btm);
ylim([-0.4,+0.4]);
grid on; center_axes;
legend('Surface','Mid-column','Bottom', 'Location','NorthEast');
datetick2_5
dpfh = fmg;
dpax(1) = subplot(7,1,1:3); title('Sea temperatures');
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
ylim([19.5,31.5]);
grid on; set(gca,'XTickLabel','');
legend('Deep','TCM2','TCM1','Shallow', 'Location','NorthEast');
dpax(2) = subplot(7,1,4:5); title('Deep alongshore current');
plot_ts(jack.deep.adcp_v_sfc,jack.deep.adcp_v_mid,jack.deep.adcp_v_btm);
ylim([-1.5,+1.5]);
grid on; center_axes; set(gca,'XTickLabel','');
legend('Surface','Mid-column','Bottom', 'Location','NorthEast');
dpax(3) = subplot(7,1,6:7); title('Deep cross-shore current');
plot_ts(jack.deep.adcp_u_sfc,jack.deep.adcp_u_mid,jack.deep.adcp_u_btm);
ylim([-0.4,+0.4]);
grid on; center_axes;
legend('Surface','Mid-column','Bottom', 'Location','NorthEast');
datetick3;
dpfh = fmg;
dpax(1) = subplot(7,1,1:3); title('Sea temperatures');
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
ylim([19.5,31.5]);
grid on; set(gca,'XTickLabel','');
legend('Deep','TCM2','TCM1','Shallow', 'Location','NorthEast');
dpax(2) = subplot(7,1,4:5); title('Deep alongshore current');
plot_ts(jack.deep.adcp_v_sfc,jack.deep.adcp_v_mid,jack.deep.adcp_v_btm);
ylim([-1.5,+1.5]);
grid on; center_axes; set(gca,'XTickLabel','');
legend('Surface','Mid-column','Bottom', 'Location','NorthEast');
dpax(3) = subplot(7,1,6:7); title('Deep cross-shore current');
plot_ts(jack.deep.adcp_u_sfc,jack.deep.adcp_u_mid,jack.deep.adcp_u_btm);
ylim([-0.4,+0.4]);
grid on; center_axes;
legend('Surface','Mid-column','Bottom', 'Location','NorthEast');
fmg; lh=legend; get(lh),
get(lh)
fmg; plot(1:10);lh=legend; get(lh),
fmg; lh=legend('foo'); get(lh),
fmg; plot(1:10); lh=legend('foo'); get(lh),
fmg; plot(1:10); lh=legend('foo','bar'); get(lh),
fmg; plot(1:10,10:-1:1); lh=legend('foo','bar'); get(lh),
fmg; plot(1:10,1:10,1:10,10:-1:1); lh=legend('foo','bar'); get(lh),
fmg; plot(1:10,1:10,1:10,10:-1:1); legend('Deep','TCM2','TCM1','Shallow', 'Orientation','horiz','Location','southeast');
dpfh = fmg;
dpax(1) = subplot(7,1,1:3); title('Sea temperatures');
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
ylim([19.5,31.5]);
grid on; set(gca,'XTickLabel','');
legend('Deep','TCM2','TCM1','Shallow', legargs{:});
dpax(2) = subplot(7,1,4:5); title('Deep alongshore current');
plot_ts(jack.deep.adcp_v_sfc,jack.deep.adcp_v_mid,jack.deep.adcp_v_btm);
ylim([-1.5,+1.5]);
grid on; center_axes; set(gca,'XTickLabel','');
legend('Surface','Mid-column','Bottom', legargs{:});
dpax(3) = subplot(7,1,6:7); title('Deep cross-shore current');
plot_ts(jack.deep.adcp_u_sfc,jack.deep.adcp_u_mid,jack.deep.adcp_u_btm);
ylim([-0.4,+0.4]);
grid on; center_axes;
legend('Surface','Mid-column','Bottom', legargs{:});
legargs = { 'Orientation','horiz','Location','southeast' };
% Could maybe try Lanczos 3- or 6-hlp? Or Butterworth 14-hlp?
% But that would mask these weird events of high-frequency variability!
dpfh = fmg;
dpax(1) = subplot(7,1,1:3); title('Sea temperatures');
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
ylim([19.5,31.5]);
grid on; set(gca,'XTickLabel','');
legend('Deep','TCM2','TCM1','Shallow', legargs{:});
dpax(2) = subplot(7,1,4:5); title('Deep alongshore current');
plot_ts(jack.deep.adcp_v_sfc,jack.deep.adcp_v_mid,jack.deep.adcp_v_btm);
ylim([-1.5,+1.5]);
grid on; center_axes; set(gca,'XTickLabel','');
legend('Surface','Mid-column','Bottom', legargs{:});
dpax(3) = subplot(7,1,6:7); title('Deep cross-shore current');
plot_ts(jack.deep.adcp_u_sfc,jack.deep.adcp_u_mid,jack.deep.adcp_u_btm);
ylim([-0.4,+0.4]);
grid on; center_axes;
legend('Surface','Mid-column','Bottom', legargs{:});
help legend
help datenum
help datestr
legargs = { 'Orientation','horiz','Location','southeast' };
% Could maybe try Lanczos 3- or 6-hlp? Or Butterworth 14-hlp?
% But that would mask these weird events of high-frequency variability!
dpfh = fmg;
dpax(1) = subplot(7,1,1:3); title('Sea temperatures');
plot_ts(pvgf1.ndbc_air_t,'k-',jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
ylim([19.5,31.5]);
grid on; set(gca,'XTickLabel','');
legend('Air','Deep','TCM2','TCM1','Shallow', legargs{:});
dpax(2) = subplot(7,1,4:5); title('Deep alongshore current');
plot_ts(jack.deep.adcp_v_sfc,jack.deep.adcp_v_mid,jack.deep.adcp_v_btm);
ylim([-1.5,+1.5]);
grid on; center_axes; set(gca,'XTickLabel','');
legend('Surface','Mid-column','Bottom', legargs{:});
dpax(3) = subplot(7,1,6:7); title('Deep cross-shore current');
plot_ts(jack.deep.adcp_u_sfc,jack.deep.adcp_u_mid,jack.deep.adcp_u_btm);
ylim([-0.4,+0.4]);
grid on; center_axes;
legend('Surface','Mid-column','Bottom', legargs{:});
xlim(datenum([2013,2015],11,12)
xlim(datenum([2013,2015],11,12))
nc = mDataset('../Heat_Budget/data/ECMWF/ERAI/ei.oper.an.sfc.regn128sc.2013041518.gramer92187.nc');
nj_info(nc),
lat = cast(nc{'g4_lat_1'}(:),'double'); nansummary(lat)
lon = cast(nc{'g4_lon_1'}(:),'double'); nansummary(lon)
dbquit
lon = cast(nc{'g4_lon_2'}(:),'double'); nansummary(lon)
lon = cast(nc{'g4_lon_2'}(:),'double'); nansummary(lon-360)
dpfh = fmg;
dpax(1) = subplot(7,1,1:3); title('Sea temperatures');
plot_ts(pvgf1.ndbc_air_t,'k:',jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
ylim([19.5,31.5]); xlim(jack.deep.seatemp.([1,end]));
grid on; set(gca,'XTickLabel','');
legend('Air','Deep','TCM2','TCM1','Shallow', legargs{:});
dpax(2) = subplot(7,1,4:5); title('Deep alongshore current');
plot_ts(jack.deep.adcp_v_sfc,jack.deep.adcp_v_mid,jack.deep.adcp_v_btm);
ylim([-1.5,+1.5]); xlim(jack.deep.seatemp.([1,end]));
grid on; center_axes; set(gca,'XTickLabel','');
legend('Surface','Mid-column','Bottom', legargs{:});
dpax(3) = subplot(7,1,6:7); title('Deep cross-shore current');
plot_ts(jack.deep.adcp_u_sfc,jack.deep.adcp_u_mid,jack.deep.adcp_u_btm);
ylim([-0.4,+0.4]); xlim(jack.deep.seatemp.([1,end]));
grid on; center_axes;
legend('Surface','Mid-column','Bottom', legargs{:});
dpfh = fmg;
dpax(1) = subplot(7,1,1:3); title('Sea temperatures');
plot_ts(pvgf1.ndbc_air_t,'k:',jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
ylim([19.5,31.5]); xlim(jack.deep.seatemp.date([1,end]));
grid on; set(gca,'XTickLabel','');
legend('Air','Deep','TCM2','TCM1','Shallow', legargs{:});
dpax(2) = subplot(7,1,4:5); title('Deep alongshore current');
plot_ts(jack.deep.adcp_v_sfc,jack.deep.adcp_v_mid,jack.deep.adcp_v_btm);
ylim([-1.5,+1.5]); xlim(jack.deep.seatemp.date([1,end]));
grid on; center_axes; set(gca,'XTickLabel','');
legend('Surface','Mid-column','Bottom', legargs{:});
dpax(3) = subplot(7,1,6:7); title('Deep cross-shore current');
plot_ts(jack.deep.adcp_u_sfc,jack.deep.adcp_u_mid,jack.deep.adcp_u_btm);
ylim([-0.4,+0.4]); xlim(jack.deep.seatemp.date([1,end]));
grid on; center_axes;
legend('Surface','Mid-column','Bottom', legargs{:});
datetick3;
legargs = { 'Orientation','horiz','Location','southeast' };
% Could maybe try Lanczos 3- or 6-hlp? Or Butterworth 14-hlp?
% But that would mask these weird events of high-frequency variability!
dpfh = fmg;
dpax(1) = subplot(7,1,1:3); title('Sea temperatures');
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
ylim([19.5,31.5]);
grid on; set(gca,'XTickLabel','');
legend('Deep','TCM2','TCM1','Shallow', legargs{:});
dpax(2) = subplot(7,1,4:5); title('Deep alongshore current');
plot_ts(jack.deep.adcp_v_sfc,jack.deep.adcp_v_mid,jack.deep.adcp_v_btm);
ylim([-1.5,+1.5]); xlim(jack.deep.seatemp.date([1,end]));
grid on; center_axes; set(gca,'XTickLabel','');
legend('Surface','Mid-column','Bottom', legargs{:});
dpax(3) = subplot(7,1,6:7); title('Deep cross-shore current');
plot_ts(jack.deep.adcp_u_sfc,jack.deep.adcp_u_mid,jack.deep.adcp_u_btm);
ylim([-0.4,+0.4]); xlim(jack.deep.seatemp.date([1,end]));
grid on; center_axes;
legend('Surface','Mid-column','Bottom', legargs{:});
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 9/6/2016 10:24 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
sfomc = get_sfomc_trim_data;
fmg; plot_ts(sfomc.nw_w_btm.adcp_seatemp);
fmg; plot_ts(subset_ts(sfomc.nw_w_btm.adcp_seatemp,@ts_jas));
fmg; plot_ts(subset_ts(sfomc.nw_w_btm.adcp_seatemp,@(x)(find(get_year(x.date)==2004))));
fwyf1 = get_station_from_station_name('fwyf1'); fwyf1 = load_all_ndbc_data(fwyf1);
fmg; plot_ts(subset_ts(sfomc.nw_w_btm.adcp_seatemp,@(x)(find(get_year(x.date)==2004))),fwyf1.ndbc_sea_t);
fmg; plot_ts(sfomc.nw_w_btm.adcp_seatemp,fwyf1.ndbc_sea_t); xlim(datenum(2004,[1,13],1));
lkwf1 = get_station_from_station_name('lkwf1'); lkwf1 = load_all_ndbc_data(lkwf1);
fmg; plot_ts(sfomc.nw_w_btm.adcp_seatemp,fwyf1.ndbc_sea_t,lkwf1.ndbc_sea_t); xlim(datenum(2004,[1,13],1));
stns = get_fknms_thermistors;
stns
for cs=grepstruct(stns,'FKNMS'); stns.(cs{:}).lat, end;
for cs=grepstruct(stns,'FKNMS')'; stns.(cs{:}).lat, end;
jack = get_face_jack_currents;
jack.deep.lat
for cs=grepstruct(stns,'FKNMS')'; lats(end+1) = stns.(cs{:}).lat, end;
lats=[];
for cs=grepstruct(stns,'FKNMS')'; lats(end+1) = stns.(cs{:}).lat, end;
max(lats)
stns.FKNMS_DIEGO_TER
stns.FKNMS_MAITLAND
fwyf1.lat
stns.FKNMS_BOCA_GRND
stns.FKNMS_ELPIS
stns.FKNMS_BALL_BUOY
fwyf1.lat
stns.FKNMS_DOME_REEF
find_date_ranges(stns.FKNMS_DOME_REEF.fknms_seatemp.date)
stns.FKNMS_TRIUMPH
find_date_ranges(stns.FKNMS_TRIUMPH.fknms_seatemp.date)
fmg; plot_ts(sfomc.nw_w_btm.adcp_seatemp,fwyf1.ndbc_sea_t,lkwf1.ndbc_sea_t); xlim(datenum(2004,[1,13],1));
fmg; plot_ts(sfomc.nw_w_btm.adcp_seatemp,fwyf1.ndbc_sea_t,lkwf1.ndbc_sea_t); legend('SFOMC NW/W','FWYF1','LKWF1', 'Location','South'); xlim(datenum(2004,[1,13],1));
path
dirs
pd
po
pd ../heat_budget
cd src
pd
po
pd
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 9/14/2016 11:50 AM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 9/15/2016 12:50 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
initdirs
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
150
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('ftpf1'); stn = get_erai_station_2(stn);
stn
stn = get_station_from_station_name('41114'); stn = get_erai_station_2(stn);
stn = get_station_from_station_name('41114'); stn = get_erai_station_2(stn,true);
stn
td
timenow
stn = get_station_from_station_name('41114'); stn = get_erai_station_2(stn,true);
stn
stn = get_station_from_station_name('41114'); stn = get_erai_station_2(stn,true);
fmg; plot_ts(stn.erai_air_t);
stn = get_station_from_station_name('41114'); stn = get_erai_station_2(stn,true);
fmg; plot_ts(stn.erai_air_t);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('41114'); stn = get_erai_station_2(stn,true);
fmg; plot_ts(stn.erai_air_t);
fmg; plot_ts(stn.erai_dsrf);
40e6*12*(2016-1987)
40e6*12*(2016-1987)/1e9
num2str([1,2,3])
stn = get_station_from_station_name('41114'); stn = get_erai_station_2(stn,true,2000:2013);
stn = get_station_from_station_name('41114'); stn = get_erai_station_2(stn,true,2012:2013);
stn = get_station_from_station_name('fwyf1'); stn = get_erai_station_2(stn,true);
2^32
2^30
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('fwyf1'); stn = get_erai_station_2(stn,true);
fmg; plot_ts(stn.erai_dsrf);
fmg; boxplot_ts(stn.erai_dsrf);
ix = find(get_year(stn.erai_dsrf.date)==2013);
help get_yearday
t=subset_ts(stn.erai_dsrf,ix);
t
plot(get_month(t.date),t.data)
fmg; boxplot_ts(stn.erai_dsrf);
plot(get_month(t.date)+(get_dom(t.date)/32),t.data)
fmg; boxplot_ts(stn.erai_dsrf);
ix = find(get_year(stn.erai_dsrf.date)==2012);
t=subset_ts(stn.erai_dsrf,ix);
plot(get_month(t.date)+(get_dom(t.date)/32),t.data)
clear ix
t=subset_ts(stn.erai_dsrf,@(x)(find(get_year(x.date)==2011)));
852+(3*354)
ans.13
ans*1.3
37.9
(37.9*9/5)+32
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = get_face_jack_currents;
sfomc = get_sfomc_trim_data;
sfomc
sfomc.nw_w_btm.lat
sfomc.c_buoy.lat
sfomc.ne_buoy.lat
sfomc.e_buoy.lat
sfomc.se_buoy.lat
sfomc.sw_buoy.lat
find_date_ranges(sfomc.sw_buoy.adcp_x.date)
find_date_ranges(sfomc.se_buoy.adcp_x.date)
find_date_ranges(sfomc.ne_buoy.adcp_x.date)
find_date_ranges(sfomc.c_buoy.adcp_x.date)
find_date_ranges(sfomc.nw_w_btm.adcp_x.date)
find_date_ranges(sfomc.nw_w_btm.adcp_x.date,100)
sfomc.se_buoy
sfomc.se_buoy.seatemp
sfomc.se_buoy.lat
sfomc.sw_buoy.lat
sfomc.sw_buoy.depth
sfomc.se_buoy.depth
sfomc
sfomc.c_buoy
find_date_ranges(sfomc.c_buoy.adcp_x.date,100)
find_date_ranges(sfomc.c_buoy.at_0_6m.sbe_seatemp.date,100)
sfomc
sfomc.se_buoy
find_date_ranges(sfomc.se_buoy.adcp_x.date)
find_date_ranges(sfomc.se_buoy.at_26m.date)
find_date_ranges(sfomc.se_buoy.at_26m.sbe_seatemp.date)
find_date_ranges(sfomc.se_buoy.at_98m.sbe_seatemp.date)
find_date_ranges(sfomc.sw_buoy.adcp_x.date)
sfomc
sfomc.sw_buoy
sfomc.sw_buoy.seatemp
find_date_ranges(sfomc.se_buoy.at_98m.sbe_seatemp.date)
sfomc
sfomc.c_buoy.depth
sfomc.sw_buoy.depth
sfomc.se_buoy.depth
sfomc.e_buoy.depth
sfomc.ne_buoy.depth
find_date_ranges(sfomc.pier_cc.sea_t.date)
find_date_ranges(sfomc.pier_cc.air_t.date)
sfomc.se_buoy
like_with_jack_with_sfomc
sfomc.nw_w_btm
find_date_ranges(sfomc.nw_w_btm.sbe_seatemp.date)
find_date_ranges(sfomc.nw_w_btm.adcp_seatemp.date)
nansummary(sfomc.nw_w_btm.sbe_depth.data)
nansummary(sfomc.nw_w_btm.adcp_depths)
scatter_fit_ts(sfomc.nw_w_btm.sbe_seatemp,sfomc.nw_w_btm.adcp_seatemp)
like_with_jack_with_sfomc
find_date_ranges(sfomc.ne_buoy.seatemp.date)
lkwf1
like_with_jack_with_sfomc
if ( ~exist('fwyf1','var') )
fwyf1 = get_station_from_station_name('fwyf1'); fwyf1 = load_all_ndbc_data(fwyf1);
end;
if ( ~exist('lkwf1','var') )
lkwf1 = get_station_from_station_name('lkwf1'); lkwf1 = load_all_ndbc_data(lkwf1);
end;
if ( ~isfield(lkwf1,'ngdc_hires_bathy') )
lkwf1 = read_hires_bathymetry(lkwf1,[30e3,120e3]);
end;
if ( ~isfield(lkwf1,'slope') )
[lkwf1.slope,lkwf1.slope_orientation,lkwf1.isobath_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,lkwf1.lon,lkwf1.lat,7);
end;
if ( ~isfield(fwyf1,'slope') )
[fwyf1.slope,fwyf1.slope_orientation,fwyf1.isobath_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,fwyf1.lon,fwyf1.lat,7);
end;
[sfomc.nw_w_btm.slope,sfomc.nw_w_btm.slope_orientation,sfomc.nw_w_btm.isobath_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,sfomc.nw_w_btm.lon,sfomc.nw_w_btm.lat,7);
[sfomc.ne_buoy.slope,sfomc.ne_buoy.slope_orientation,sfomc.ne_buoy.isobath_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,7);
[sfomc.e_buoy.slope,sfomc.e_buoy.slope_orientation,sfomc.e_buoy.isobath_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,sfomc.e_buoy.lon,sfomc.e_buoy.lat,7);
[sfomc.c_buoy.slope,sfomc.c_buoy.slope_orientation,sfomc.c_buoy.isobath_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,sfomc.c_buoy.lon,sfomc.c_buoy.lat,7);
[sfomc.sw_buoy.slope,sfomc.sw_buoy.slope_orientation,sfomc.sw_buoy.isobath_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,sfomc.sw_buoy.lon,sfomc.sw_buoy.lat,7);
fwyf1 = station_spddir_to_uv(fwyf1,'ndbc_wind1_speed','ndbc_wind1_dir','ndbc_wind1_u','ndbc_wind1_v');
lkwf1 = station_spddir_to_uv(lkwf1,'ndbc_wind1_speed','ndbc_wind1_dir','ndbc_wind1_u','ndbc_wind1_v');
fwyf1 = station_reorient_vectors(fwyf1,'isobath_orientation','ndbc_wind1_u','ndbc_wind1_v','ndbc_wind1_x','ndbc_wind1_l');
lkwf1 = station_reorient_vectors(lkwf1,'isobath_orientation','ndbc_wind1_u','ndbc_wind1_v','ndbc_wind1_x','ndbc_wind1_l');
fwyf1 = station_ekman_flux(fwyf1,[],'ndbc','erai');
lkwf1 = station_ekman_flux(lkwf1,[],'ndbc');
for hrs = 12:12:36
for cderf={'lp','sum','avg'};
fldstub = sprintf('_%d_h_%s',hrs,cderf{:});
fld = ['ndbc_ekman_flux_volume_',fldstub];
fwyf1 = verify_variable(fwyf1,fld);
lkwf1 = verify_variable(lkwf1,fld);
end;
end;
lkwf1
fwyf1
for hrs = 12:12:36
for cderf={'lp','sum','avg'};
fldstub = sprintf('_%d_h_%s',hrs,cderf{:});
fld = ['ndbc_ekman_flux_volume_',fldstub];
%fwyf1 = verify_variable(fwyf1,fld);
lkwf1 = verify_variable(lkwf1,fld);
end;
end;
lkwf1
for hrs = 12:12:36
for cderf={'lp','sum','avg'};
fldstub = sprintf('_%d_h_%s',hrs,cderf{:});
fld = ['ndbc_ekman_flux_volume_',fldstub];
disp(fld);
%fwyf1 = verify_variable(fwyf1,fld);
lkwf1 = verify_variable(lkwf1,fld);
end;
end;
fwyf1.ndbc_ekman_flux_volume
for hrs = 12:12:36
for cderf={'lp','sum','avg'};
fldstub = sprintf('_%d_h_%s',hrs,cderf{:});
fld = ['ndbc_ekman_flux_volume_',fldstub];
disp(fld);
%fwyf1 = verify_variable(fwyf1,fld);
lkwf1 = verify_variable(lkwf1,fld);
end;
end;
for hrs = 12:12:36
for cderf={'lp','sum','avg'};
fldstub = sprintf('_%d_h_%s',hrs,cderf{:});
fld = ['ndbc_ekman_flux_volume',fldstub];
disp(fld);
fwyf1 = verify_variable(fwyf1,fld);
lkwf1 = verify_variable(lkwf1,fld);
end;
end;
like_with_jack_with_sfomc
find_date_ranges(fwyf1.ndbc_air_t.date,100)
find_date_ranges(fwyf1.ndbc_air_t.date,30)
like_with_jack_with_sfomc
clear dp* sh* cderf
clear hrs ans fld fldstub
clear ekfh
like_with_jack_with_sfomc
datetick('x',2,'keepticks')
close all
like_with_jack_with_sfomc
close all
like_with_jack_with_sfomc
close all
clear ekfh
clear hrs ans fld fldstub
clear dp* sh* cderf
like_with_jack_with_sfomc
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 9/20/2016 2:35 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
doPlots = false;
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('41114'); stn = get_erai_station_2(stn,true);
stn = get_station_from_station_name('fwyf1'); stn = get_erai_station_2(stn,true);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('41114'); stn = get_erai_station_2(stn);
fmg; plot_ts(stn.erai_dsrf);
stn = get_station_from_station_name('fwyf1'); stn = get_erai_station_2(stn);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('fwyf1'); stn = get_erai_station_2(stn,true);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('mlrf1'); stn = get_erai_station_2(stn);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('mlrf1'); stn = get_erai_station_2(stn);
fmg; plot_ts(stn.erai_dsrf);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_erai_station_2({'lonf1','smkf1','sanf1','lkwf1','pvgf1','plsf1','ftpf1'});
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack\
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_erai_station_2({'lonf1','smkf1','sanf1','lkwf1','pvgf1','plsf1','41114','41113','41009'});
stn = get_erai_station_2({'fdepk','lciy2','srvi2','lppr1','dbjm1','arto1','buto1','sebf1','looe1','vakf1','vkaf1','kywf1','cmrc3','ppdr1','cwdr1','drbb1','hcbz1','swbz1','sacu1','cscu1','fobb1','hrbb1','pcsd1','sbfg1','ebfg1','wbfg1','sofg1',});
