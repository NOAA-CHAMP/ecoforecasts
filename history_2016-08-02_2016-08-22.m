%-- 8/2/2016 3:41 PM --%
dirs
lkj
cd ecoforecasts
stn = get_station_from_station_name('mlrf1');
stn
%-- 8/2/2016 5:40 PM --%
stn = get_station_from_station_name('mlrf1'); stn = load_all_ndbc_data(stn);
which pushd
cd ecoforecasts
stn = get_station_from_station_name('mlrf1'); stn = load_all_ndbc_data(stn);
dir data/*mlrf*mat
dir data
%-- 8/6/2016 6:10 PM --%
stn = get_station_from_station_name('mlrf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
rehash
stn = station_ekman_flux(stn)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/7/2016 12:41 PM --%
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
which air_dens
rehash
%-- 8/7/2016 12:50 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
dbstop station_ekman_flux 54
stn = station_ekman_flux(stn)
orifld
stn
dbq
dbquit
dbclear all
pd c:/thesis/src
pd d:/thesis/src
dir station_optim*
which station_optimal_isobath_orientation
pd
which station_optimal_isobath_orientation
path
MYDATA = 'D:\';
path(path,[MYDATA 'thesis\src\']);
which station_optimal_isobath_orientation
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
stn
dbstop station_ekman_flux 54
stn = station_ekman_flux(stn)
orifld
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = read_fdep_stevens_data('k');
dir *fdep*
stn = extract_fdep_stevens_data('k');
delete data/fdepk-201607.mat
delete data/fdepk-201608.mat
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = extract_fdep_stevens_data('k');
timenow
stn = station_ekman_flux(stn)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = extract_fdep_stevens_data('k');
help fopen
help delete
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = extract_fdep_stevens_data('k');
extract_fdep_stevens_data('k');
stn = read_fdep_stevens_data('k');
[w,id] = lastwarn
clear ans id w
pd data/foo
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/7/2016 5:57 PM --%
dirs
d
dirs
dir
%-- 8/7/2016 5:59 PM --%
pd d:\ecoforecasts
dirsave
savedirs
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/7/2016 6:00 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fdepk = read_fdep_stevens_data('k');
lkwf1 = get_station_from_station_name('lkwf1'); lkwf1 = load_all_ndbc_data(lkwf1);
fdepk
fdepk = read_fdep_stevens_data('k');
dbstop read_fdep_stevens_data
fdepk = read_fdep_stevens_data('k');
datestr([mindt,maxdt])
res
res.relhumid
find_date_ranges(res.relhumid.date)
find_date_ranges(res.relhumid.date.1)
find_date_ranges(res.relhumid.dat,1)
find_date_ranges(res.relhumid.date,1)
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fdepk = read_fdep_stevens_data('k');
whos
lkwf1 = get_station_from_station_name('lkwf1'); lkwf1 = load_all_ndbc_data(lkwf1);
fwyf1 = get_station_from_station_name('fwyf1'); fwyf1 = load_all_ndbc_data(fwyf1);
find_date_ranges(fwyf1.ndbc_wind1_speed.date)
find_date_ranges(lkwf1.ndbc_wind1_speed.date)
find_date_ranges(fdepk.wind_speed.date)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
timenow
help download_ndbc_files
download_ndbc_files('fwyf1',2015:2016,true)
download_ndbc_files('lkwf1',2015:2016,true)
help download_ndbc_files
dbstop download_ndbc_files 113
download_ndbc_files('lkwf1',2016,false)
need_mo
need_moix
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/8/2016 7:53 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('lkwf1'); stn = load_all_ndbc_data(stn);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('fwyf1'); stn = load_all_ndbc_data(stn);
download_ndbc_files('vakf1',1999:2015,false)
stn = get_station_from_station_name('vakf1'); stn = load_all_ndbc_data(stn);
download_ndbc_files('vakf1',2015,false)
stn = get_station_from_station_name('vakf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('sipf1',1999:2015,false)
stn = get_station_from_station_name('sipf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('41114',1999:2015,false)
stn = get_station_from_station_name('41114'); stn = load_all_ndbc_data(stn);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('41114'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fmg; plotyy_ts(stn.ndbc_sigwavehgt,stn.ndbc_sea_t)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = extract_fdep_stevens_data('k');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fdepk
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
dbstop if error
ekman_flux
dfld
stn
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
scatter_fit_ts(fwyf1.ndbc_ekman_flux,fdepk.fdep_ekman_flux)
scatter_fit_ts(fwyf1.ndbc_ekman_flux,lkwf1.fdep_ekman_flux)
scatter_fit_ts(fwyf1.ndbc_ekman_flux,lkwf1.ndbc_ekman_flux)
timenow
fdepk = plot_hires_bathymetry(fdepk,-[0:2:20,30:10:100],[40e3,10e3]);
fdepk
fdepk = rmfield(fdepk,'ngdc_hires_bathy');
fdepk = plot_hires_bathymetry(fdepk,-[0:2:20,30:10:100],[10e3,50e3]);
fdepk = rmfield(fdepk,'ngdc_hires_bathy');
fdepk = plot_hires_bathymetry(fdepk,-[0:2:20,30:10:100],[20e3,60e3]);
plot(fwyf1.lon,fwyf1.lat,'rp',lkwf1.lon,lkwf1.lat,'rp',fdepk.lon,fdepk.lat,'rp');
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:2:20,30:10:100],[20e3,60e3]);
plot(fwyf1.lon,fwyf1.lat,'rp',lkwf1.lon,lkwf1.lat,'rp',fdepk.lon,fdepk.lat,'rp');
lkwf1.lat,fdepk.lat
fdepk = rmfield(fdepk,'ngdc_hires_bathy');
lkwf1 = rmfield(lkwf1,'ngdc_hires_bathy');
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:2:20,30:10:100],[15e3,80e3]);
plot(fwyf1.lon,fwyf1.lat,'rp',lkwf1.lon,lkwf1.lat,'rp',fdepk.lon,fdepk.lat,'rp');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/11/2016 9:33 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
lookfor ardhuin
path
type phd_hour_seminar_fkeys
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
lookfor lagrang
help augLagFun
lookfor euler
which station_calc_quasi_eulerian
which stokes_drift
stokes_drift(5,1,2,'ardhuin')
stokes_drift(10,1,2,'ardhuin')
stokes_drift(20,1,2,'ardhuin')
stokes_drift(20,0.5,2,'ardhuin')
stokes_drift(10,0.5,2,'ardhuin')
stokes_drift(5,0.5,2,'ardhuin')
stokes_drift(5,0.5,2,'mellor')
stokes_drift(5,0.5,2,'shay')
stokes_drift(5,0.5,2,'monismith')
stokes_drift(5,5,2,'monismith')
stokes_drift(20,5,2,'monismith')
stokes_drift(20,1,2,'monismith')
stokes_drift(10,1,2,'monismith')
stokes_drift(10,1,5,'monismith')
stokes_drift(10,1,5,'mellor')
stokes_drift(20,1,5,'mellor')
stokes_drift(20,2,5,'mellor')
stokes_drift(5,2,5,'mellor')
stokes_drift(5,2,1,'mellor')
stokes_drift(5,2,10,'mellor')
methods={'mellor','monismith','shay','ardhuin'};
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(1:10,1,5); end;
fmg; plot(1:10,sd);
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(5,1:10,5); end;
fmg; plot(1:10,sd);
sd
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(1:10,1,5,methods{mthix}); end;
fmg; plot(1:10,sd);
fmg; plot(1:10,sd); legend(methods);
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(5,1:10,5,methods{mthix}); end;
fmg; plot(1:10,sd); legend(methods);
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(5,1:10./3,5,methods{mthix}); end;
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(5,[1:10]./3,5,methods{mthix}); end;
fmg; plot([1:10]./3,sd); legend(methods);
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(5,1,1:10,methods{mthix}); end;
for mthix=1:numel(methods); for ix=1:10; sd(mthix,ix) = stokes_drift(5,1,ix,methods{mthix}); end; end;
fmg; plot([1:10],sd); legend(methods);
for mthix=1:numel(methods); for ix=1:10; sd(mthix,ix) = stokes_drift(5,1,ix+1,methods{mthix}); end; end;
fmg; plot([1:10]+1,sd); legend(methods);
ws=1:10; hs=0.5:0.5:3.5;  fmg; surf(ws,hs,stokes_drift(ws,hs,2,'ardhuin');
ws=1:10; hs=0.5:0.5:3.5;  fmg; surf(ws,hs,stokes_drift(ws,hs,2,'ardhuin'));
ws=linspace(2,15,10); hs=linspace(0.5,3.0,10);  fmg; surf(ws,hs,stokes_drift(ws,hs,2,'ardhuin'));
ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,'ardhuin'));
view(3)
ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,'ardhuin')); view(3); xlabel('Wind'); ylabel('Sig. wave hgt.); zlabel('Stokes');
ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,'ardhuin')); view(3); xlabel('Wind'); ylabel('Sig. wave hgt.'); zlabel('Stokes');
ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,'ardhuin')); view(3); xlabel('Wind [kts]'); ylabel('Sig. wave hgt. [m]'); zlabel('Stokes [ms^-^1');
method='ardhuin'; ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,method)); view(3); xlabel('Wind [kts]'); ylabel('Sig. wave hgt. [m]'); zlabel('Stokes [ms^-^1]'); titlename(['Surface transport - method of ',upper(method)]);
method='mellor'; ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,method)); view(3); xlabel('Wind [kts]'); ylabel('Sig. wave hgt. [m]'); zlabel('Stokes [ms^-^1]'); titlename(['Surface transport - method of ',upper(method)]);
method='monismith'; ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,method)); view(3); xlabel('Wind [kts]'); ylabel('Sig. wave hgt. [m]'); zlabel('Stokes [ms^-^1]'); titlename(['Surface transport - method of ',upper(method)]);
which capitalize
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
close all
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
mid
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_ww3_station('mlrf1');
stn
median(diff(stn.raw_ww3_sigwavehgt.date))
median(diff(stn.ww3_sigwavehgt.date))
fmg; hist(stn.ww3_peakwaveper.data,100);
fmg; hist(stn.ww3_peakwaveper.data(get_season(stn.ww3_peakwaveper.date)==3),100);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
view(0,90)
view(90,90)
view(45,45)
close all
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
view(45,45)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
0.1*3600*24
fmg; titlename('a\dot b');
fmg; titlename('a^.b');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
view(45,45)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('lonf1',2014:2016,true)
download_ndbc_files('lonf1',2014:2016,true,false)
x=[1,2,3];
x(4:end) = [];
x
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('lonf1',1987:2016,true,false)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
lonf1 = get_station_from_station_name('lonf1'); lonf1 = load_all_ndbc_data(lonf1);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('lonf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
help nargchk
help narginchk
edit datetick
which datetick
help message
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('lonf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('lonf1',2000)
x = urlread('http://www.ndbc.noaa.gov/data/derived2/LONF1.dmv');
x
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('mlrf1',1987:2016,true,false)
download_ndbc_files('smkf1',1987:2016,true,false)
download_ndbc_files('smkf1',1986:2016,true,false)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('mlrf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('smkf1',2015)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('sanf1',1986:2016,true,false)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('sanf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('plsf1',2000:2016,true,false)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('plsf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
ans
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_ww3_station('mlrf1');
fmg; hist(stn.ww3_sigwavehgt.data(get_season(stn.ww3_sigwavehgt.date)==3),100);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_ww3_station('fwyf1');
fmg; hist(stn.ww3_sigwavehgt.data(get_season(stn.ww3_sigwavehgt.date)==3),100);
stn = get_station_from_station_name('mlrf1'); stn = load_all_ndbc_data(stn);
timenow
fmg; hist(stn.ndbc_wind1_speed.data(get_season(stn.ndbc_wind1_speed.date)==3),100);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('mlrf1'); stn = load_all_ndbc_data(stn);
fmg; hist(stn.ndbc_wind1_speed.data(get_season(stn.ndbc_wind1_speed.date)==3),100);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
mfilename
compare_stokes_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_stokes_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
help asec
%-- 8/15/2016 12:49 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/16/2016 9:27 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fname = fullfile('currents_2015','Shallow and deep and TCM  merge ver 2  for export.csv');
% Read file
x = fileread(fname);
% Column headers appear as follows:
% Date,deep missing data,JD (UT),Deep temp,Index,East 1,East 2,East 3,East 4,East 5,East 6,East 7,East 8,East 9,East 10,East 11,East 12,East 13,East 14,East 15,East 16,East 17,East 18,East 19,East 20,East 21,North 1,North 2,North 3,North 4,North 5,North 6,North 7,North 8,North 9,North 10,North 11,North 12,North 13,North 14,North 15,North 16,North 17,North 18,North 19,North 20,North 21,Vert 1,Vert 2,Vert3,vert 4,vert 5,vert 6,vert 7,vert 8,vert 9,vert 10,vert 11,vert 12,vert 13,vert 14,vert 15,vert 16,vert 17,vert 18,vert 19,vert 20,vert 21,mag 1,mag 2,mag 3,mag 4,mag 5,mag 6,mag 7,mag 8,mag 9,mag 10,mag 11,mag 12,mag 13,mag 14,mag 15,mag 16,mag 17,mag 18,mag 19,mag 20,mag 21,dir 1,dir 2,dir 3,dir 4,dir 5,dir 6,dir 7,dir 8,dir 9,dir 10,dir 11,dir 12,dir 13,dir 14,dir 15,dir 16,dir 17,dir 18,dir 19,dir 20,dir 21,grid time,Shallow temp,Z,E1,E2,E3,E4,E5,E6,E7,E8,E9,E10,E11,E12,E13,E14,E15,N1,N2,N3,N4,N5,N6,N7,N8,N9,N10,N11,N12,N13,N14,N15,VV1,VV2,VV3,VV4,VV5,VV6,VV7,VV8,VV9,VV10,VV11,VV12,VV13,VV14,VV15,M1,M2,M3,M4,M5,M6,M7,M8,M9,M10,M11,M12,M13,M14,M15,D1,D2,D3,D4,D5,D6,D7,D8,D9,D10,D11,D12,D13,D14,D15,NewVar1,Deep East WCA,Deep North WCA,Shallow East WCA,Shallow North WCA,S has data,D has data,S and D have data,TCM has data,Shallow ADCP WCA is north,TCM 1 is north,TCM2 is north,Deep ADCP WCA  is north,NewVar15,Date,Time,T2 Speed (cm/s),T2 Bearing (degrees),T2 Velocity-N (cm/s),T2 Velocity-E (cm/s),T2   Temperature (C),T1  Speed (cm/s),T1 Bearing (degrees),T1 Vel N,T1  Velocity-E (cm/s),T1   Temperature (C)
% Process file
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'});
C = textscan(x,fmt,'HeaderLines',1);
dirs
pd ../coral/FACE
fname = fullfile('currents_2015','Shallow and deep and TCM  merge ver 2  for export.csv');
% Read file
x = fileread(fname);
% Column headers appear as follows:
% Date,deep missing data,JD (UT),Deep temp,Index,East 1,East 2,East 3,East 4,East 5,East 6,East 7,East 8,East 9,East 10,East 11,East 12,East 13,East 14,East 15,East 16,East 17,East 18,East 19,East 20,East 21,North 1,North 2,North 3,North 4,North 5,North 6,North 7,North 8,North 9,North 10,North 11,North 12,North 13,North 14,North 15,North 16,North 17,North 18,North 19,North 20,North 21,Vert 1,Vert 2,Vert3,vert 4,vert 5,vert 6,vert 7,vert 8,vert 9,vert 10,vert 11,vert 12,vert 13,vert 14,vert 15,vert 16,vert 17,vert 18,vert 19,vert 20,vert 21,mag 1,mag 2,mag 3,mag 4,mag 5,mag 6,mag 7,mag 8,mag 9,mag 10,mag 11,mag 12,mag 13,mag 14,mag 15,mag 16,mag 17,mag 18,mag 19,mag 20,mag 21,dir 1,dir 2,dir 3,dir 4,dir 5,dir 6,dir 7,dir 8,dir 9,dir 10,dir 11,dir 12,dir 13,dir 14,dir 15,dir 16,dir 17,dir 18,dir 19,dir 20,dir 21,grid time,Shallow temp,Z,E1,E2,E3,E4,E5,E6,E7,E8,E9,E10,E11,E12,E13,E14,E15,N1,N2,N3,N4,N5,N6,N7,N8,N9,N10,N11,N12,N13,N14,N15,VV1,VV2,VV3,VV4,VV5,VV6,VV7,VV8,VV9,VV10,VV11,VV12,VV13,VV14,VV15,M1,M2,M3,M4,M5,M6,M7,M8,M9,M10,M11,M12,M13,M14,M15,D1,D2,D3,D4,D5,D6,D7,D8,D9,D10,D11,D12,D13,D14,D15,NewVar1,Deep East WCA,Deep North WCA,Shallow East WCA,Shallow North WCA,S has data,D has data,S and D have data,TCM has data,Shallow ADCP WCA is north,TCM 1 is north,TCM2 is north,Deep ADCP WCA  is north,NewVar15,Date,Time,T2 Speed (cm/s),T2 Bearing (degrees),T2 Velocity-N (cm/s),T2 Velocity-E (cm/s),T2   Temperature (C),T1  Speed (cm/s),T1 Bearing (degrees),T1 Vel N,T1  Velocity-E (cm/s),T1   Temperature (C)
% Process file
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'});
C = textscan(x,fmt,'HeaderLines',1);
C
C{1}
x
x(1:1000)
x(1:2000)
C = textscan(x,fmt,'HeaderLines',1);
C = textscan(x,fmt,'HeaderLines',1); C{1}
C = textscan(x,fmt,'HeaderLines',2); C{1}
fmt
fmt = 'C = textscan(x,fmt,'HeaderLines',1);
';
fmt = '%*[^,],%*[^,],%[^,],%f,%*[^,],%f,%f,%f,%f,%f,%f';
C = textscan(x,fmt,'HeaderLines',2); C{1}
C = textscan(x,fmt,'HeaderLines',30); C{1}
help textscan
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\n','Delimiter',','); C{1}
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\r\n','Delimiter',','); C{1}
C = textscan(x,fmt,'HeaderLines',1,'EndOfLine','\r\n','Delimiter',','); C{1}
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\r\n','Delimiter',','); C{1}
\
fmt = '%*[^,],%*[^,],%[^,]';
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\r\n','Delimiter',','); C{1}
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\r\n'); C{1}
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\\n'); C{1}
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\n'); C{1}
C = textscan('%s','HeaderLines',30,'EndOfLine','\n'); C{1}
C = textscan('%[^,],%s','HeaderLines',30,'EndOfLine','\n'); C{1}
C = textscan('%[^,],%s','HeaderLines',1,'EndOfLine','\n'); C{1}
C = textscan('%[^,],%s'); C{1}
C = textscan(x,'%s','HeaderLines',30,'EndOfLine','\n'); C{1}
C = textscan('%[^,],%s','HeaderLines',30); C{1}
C = textscan(x,'%[^,],%s','HeaderLines',30); C{1}
x(1:2000)
x(1:20000)
x(19000:20000)
strfind(x,sprintf('\r\n'))
C = textscan(x,'%[^,],%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}
C = textscan(x,'%*[^,],%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}
C{2}
C{1}
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\r\n'); C{1}
fmt
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'});
fmt
fmt(1:10)
fmt(1:40)
fmt(1:39)
C = textscan(x,fmt(1:39),'HeaderLines',30,'EndOfLine','\r\n'); C{1}
C = textscan(x,fmt(1:19),'HeaderLines',30,'EndOfLine','\r\n'); C{1}
fmt(1:19)
C = textscan(x,fmt(1:20),'HeaderLines',30,'EndOfLine','\r\n'); C{1}
C = textscan(x,'%*[^,],%*[^,],%[^,],%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}
C = textscan(x,'%[^,],%[^,],%[^,],%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}
C{4}
C{3}
C{2}
C{1}
C = textscan(x,'%[^,]%[^,],%[^,],%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}
C = textscan(x,'%[^,]%[^,],%[^,],%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}, C{2}
C = textscan(x,'%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}, C{2}
C{2}
C = textscan(x,'%s','HeaderLines',45,'EndOfLine','\r\n'); C{1}, C{2}
C = textscan(x,'%[^,]%[^,],%[^,],%s','HeaderLines',45,'EndOfLine','\r\n'); C{1}, C{2}
C = textscan(x,'%[^,],%[^,],%[^,],%s','HeaderLines',45,'EndOfLine','\r\n'); C{1}, C{2}
C = textscan(x,'%[^,],%s','HeaderLines',45,'EndOfLine','\r\n'); C{1}, C{2}
C{2}
C{1}
C{1}{1}
C{1}{2}
C{1}{3}
C{1}{4}
iscellstr(C{1})
iscellstr(C{1}{1})
ischar(C{1}{1}
ischar(C{1}{1})
C{1}{10}
C{1}
C = textscan(x,'%[^,],%[^,],%s','HeaderLines',45,'EndOfLine','\r\n'); C{1}, C{2}
C{1}{1}
C{1}{2}
C = textscan(x,'%[^,]%[^,],%s','HeaderLines',45,'EndOfLine','\r\n'); C{1}, C{2}
C = textscan(x,'%[^,]%[^,],%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C = textscan(x,'%[^,],%[^,],%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C = textscan(x,'%*s,%*s,%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C = textscan(x,'%[^,],%[^,],%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C{3}
C = textscan(x,'%*60c,%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C = textscan(x,fmt,'HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C
fmt
C = textscan(x,'%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C = textscan(x,'%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}{1}
C = textscan(x,'%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}{2}
C{1}
C = textscan(x,'%s%s%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}{2}
C{1}
C{2}
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fname = fullfile('currents_2015','Shallow and deep and TCM  merge ver 2  for export.csv');
% Read file
x = fileread(fname);
% Column headers appear as follows:
% Date,deep missing data,JD (UT),Deep temp,Index,East 1,East 2,East 3,East 4,East 5,East 6,East 7,East 8,East 9,East 10,East 11,East 12,East 13,East 14,East 15,East 16,East 17,East 18,East 19,East 20,East 21,North 1,North 2,North 3,North 4,North 5,North 6,North 7,North 8,North 9,North 10,North 11,North 12,North 13,North 14,North 15,North 16,North 17,North 18,North 19,North 20,North 21,Vert 1,Vert 2,Vert3,vert 4,vert 5,vert 6,vert 7,vert 8,vert 9,vert 10,vert 11,vert 12,vert 13,vert 14,vert 15,vert 16,vert 17,vert 18,vert 19,vert 20,vert 21,mag 1,mag 2,mag 3,mag 4,mag 5,mag 6,mag 7,mag 8,mag 9,mag 10,mag 11,mag 12,mag 13,mag 14,mag 15,mag 16,mag 17,mag 18,mag 19,mag 20,mag 21,dir 1,dir 2,dir 3,dir 4,dir 5,dir 6,dir 7,dir 8,dir 9,dir 10,dir 11,dir 12,dir 13,dir 14,dir 15,dir 16,dir 17,dir 18,dir 19,dir 20,dir 21,grid time,Shallow temp,Z,E1,E2,E3,E4,E5,E6,E7,E8,E9,E10,E11,E12,E13,E14,E15,N1,N2,N3,N4,N5,N6,N7,N8,N9,N10,N11,N12,N13,N14,N15,VV1,VV2,VV3,VV4,VV5,VV6,VV7,VV8,VV9,VV10,VV11,VV12,VV13,VV14,VV15,M1,M2,M3,M4,M5,M6,M7,M8,M9,M10,M11,M12,M13,M14,M15,D1,D2,D3,D4,D5,D6,D7,D8,D9,D10,D11,D12,D13,D14,D15,NewVar1,Deep East WCA,Deep North WCA,Shallow East WCA,Shallow North WCA,S has data,D has data,S and D have data,TCM has data,Shallow ADCP WCA is north,TCM 1 is north,TCM2 is north,Deep ADCP WCA  is north,NewVar15,Date,Time,T2 Speed (cm/s),T2 Bearing (degrees),T2 Velocity-N (cm/s),T2 Velocity-E (cm/s),T2   Temperature (C),T1  Speed (cm/s),T1 Bearing (degrees),T1 Vel N,T1  Velocity-E (cm/s),T1   Temperature (C)
% Process file
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'});
C = textscan(x,fmt,'HeaderLines',1);
C = textscan(x,'%s%s%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}{2}
size
size(C{1})
size(C{2})
C{2}
C{3}
C = textscan(x,'%s%s%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{3}{1}
help textscan
help strtok
repmat('%s',[1,213])
C = textscan(x,repmat('%s',[1,213]),'HeaderLines',43,'EndOfLine','\r\n','Delimiter',','); C{3}{1}
C{1}
C{3}
C{4}
C = textscan(x,repmat('%s',[1,213]),'HeaderLines',44,'EndOfLine','\r\n','Delimiter',','); C{3}{1}
C{4}{1:10}
dts = datenum(C{1});
dts = datenum(C{1}{1:10});
dts = datenum(C{1}(1:10));
dts = datenum(C{1}(1:10)); datestr(dts(end))
dts = datenum(C{1}(1:100)); datestr(dts(end))
size(C{1})
dts = datenum(C{1}(1:28000)); datestr(dts(end))
dts = datenum(C{1}(1:42000)); datestr(dts(end))
dts = datenum(C{1}(1:49000)); datestr(dts(end))
dts = datenum(C{1}(1:45000)); datestr(dts(end))
dts = datenum(C{1}(1:46000)); datestr(dts(end))
dts = datenum(C{1}(1:47000)); datestr(dts(end))
dts = datenum(C{1}(1:47001)); datestr(dts(end))
dts = datenum(C{1}(1:47500)); datestr(dts(end))
dts = datenum(C{1}(1:4800)); datestr(dts(end))
dts = datenum(C{1}(1:48000)); datestr(dts(end))
dts = datenum(C{1}(1:48500)); datestr(dts(end))
dts = datenum(C{1}(1:48800)); datestr(dts(end))
dts = datenum(C{1}(1:48700)); datestr(dts(end))
dts = datenum(C{1}(1:48600)); datestr(dts(end))
dts = datenum(C{1}(1:48650)); datestr(dts(end))
dts = datenum(C{1}(1:48625)); datestr(dts(end))
dts = datenum(C{1}(1:48612)); datestr(dts(end))
dts = datenum(C{1}(1:486057)); datestr(dts(end))
dts = datenum(C{1}(1:48607)); datestr(dts(end))
dts = datenum(C{1}(1:48603)); datestr(dts(end))
dts = datenum(C{1}(1:48600)); datestr(dts(end))
C{1}{48600:48603}
dts = datenum(C{1}(1:48601)); datestr(dts(end))
C{213}{48600}
dts = datenum(C{1}(1:48600)); datestr(dts([1:10,end]))
C{1}{1:10}
C{3}{1:10}
dts = datenum(C{3}(1:48600)); datestr(dts([1:10,end]))
dts = datenum(C{3}(1:40600)); datestr(dts([1:10,end]))
dts = datenum(C{3}(1:20000)); datestr(dts([1:10,end]))
dts = datenum(C{3}(1:10000)); datestr(dts([1:10,end]))
dts = datenum(C{3}(1:15000)); datestr(dts([1,end]))
dts = datenum(C{3}(1:12500)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11500)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11800)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11700)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11750)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11730)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11740)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11735)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11738)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11737)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11736)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11735)); datestr(dts([1,end]))
C{3}{11735:11737}
help datestr
help datenum
numel(find(isempty(C{3})))
numel(find(C{3}=={}))
find(cellstr(@isempty,C{3}))
iscell(C{3})
find(cellfun(@isempty,C{3}))
badrow = find(cellfun(@isempty,C{3}));
for ix = 1:numel(C)
C{ix}(badrow) = [];
end;
dts = datenum(C{3});
size(C{1})
size(C{211})
C{4}
str2num(C{4})
str2num(C{4}{:})
fmt
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fname = fullfile('currents_2015','Shallow and deep and TCM  merge ver 2  for export.csv');
% Read file
x = fileread(fname);
sum([2 1 1 1 21*5 21*5 1 (2+(5*15)) 16 10])
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'},'','');
C = textscan(x,fmt,'HeaderLines',1,'EndOfLine','\r\n','Delimiter',',');
C{1}
C{2}
C
fmt = repmat('%s',[1,213]);
C = textscan(x,fmt,'HeaderLines',1,'EndOfLine','\r\n','Delimiter',',');
fmt
fmt(end-1:end)='';
fmg
fmt
fmt = ['%*s',fmt]
C = textscan(x,fmt,'HeaderLines',1,'EndOfLine','\r\n','Delimiter',',');
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'},'','');
fmt
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'},'','');
ischar([])
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'},'','');
fmt
numel(find(fmt=='%'))
sum([2 1 1 1 5*21 1 (2+(5*15)) 16 2*5])
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',5*21,'%f',1,'',(2+(5*15)),'%f',16,'',2*5,'%f'},'','');
C = textscan(x,fmt,'HeaderLines',1,'EndOfLine','\r\n','Delimiter',',');
C{1}
C{3}
badrow = find(cellfun(@isempty,C{1}));
for ix = 1:numel(C)
C{ix}(badrow) = [];
end;
dts = datenum(C{1});
jack.deep_seatemp.data = C{2};
jack.deep_seatemp.date = dts;
fmg; plot_ts(jack.deep_seatemp);
jack.deep_adcp.u.date = dts;
jack.deep_adcp.u.prof = C{3:23};
jack.deep_adcp
jack.deep_adcp.u
C{3:4}
C{3}
C{3:4}
for ix = 1:21
jack.deep_adcp.u.prof(1:n,ix) = C{3+ix-1};
end;
n = numel(dts);
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{2};
jack.deep_adcp.u.date = dts;
for ix = 1:21
jack.deep_adcp.u.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.u
jack.deep_adcp.u.data = nanmean(jack.deep_adcp.u.prof,2);
jack.deep_adcp.u
n = numel(dts);
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{2};
% Deep ADCP - current East velocity
jack.deep_adcp.u.date = dts;
jack.deep_adcp.u.data = [];
for ix = 1:21
jack.deep_adcp.u.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.u.data = nanmean(jack.deep_adcp.u.prof,2);
% Deep ADCP - current North velocity
jack.deep_adcp.v.date = dts;
jack.deep_adcp.v.data = [];
for ix = 1:21
jack.deep_adcp.v.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.v.data = nanmean(jack.deep_adcp.v.prof,2);
% Deep ADCP - current vertical velocity
jack.deep_adcp.w.date = dts;
jack.deep_adcp.w.data = [];
for ix = 1:21
jack.deep_adcp.w.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.w.data = nanmean(jack.deep_adcp.w.prof,2);
% Deep ADCP - current speed
jack.deep_adcp.spd.date = dts;
jack.deep_adcp.spd.data = [];
for ix = 1:21
jack.deep_adcp.spd.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.spd.data = nanmean(jack.deep_adcp.spd.prof,2);
% Deep ADCP - current direction
jack.deep_adcp.dir.date = dts;
jack.deep_adcp.dir.data = [];
for ix = 1:21
jack.deep_adcp.dir.prof(1:n,ix) = C{3+ix-1};
end;
NOPE!
jack.deep_adcp.dir.data = uv_to_dir_curr(jack.deep_adcp.u.data,jack.deep_adcp.v.data);
n = numel(dts);
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{2};
% Deep ADCP - current East velocity
jack.deep_adcp.u.date = dts;
jack.deep_adcp.u.data = [];
for ix = 1:21
jack.deep_adcp.u.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.u.data = nanmean(jack.deep_adcp.u.prof,2);
% Deep ADCP - current North velocity
jack.deep_adcp.v.date = dts;
jack.deep_adcp.v.data = [];
for ix = 1:21
jack.deep_adcp.v.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.v.data = nanmean(jack.deep_adcp.v.prof,2);
% Deep ADCP - current vertical velocity
jack.deep_adcp.w.date = dts;
jack.deep_adcp.w.data = [];
for ix = 1:21
jack.deep_adcp.w.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.w.data = nanmean(jack.deep_adcp.w.prof,2);
% Deep ADCP - current speed
jack.deep_adcp.spd.date = dts;
jack.deep_adcp.spd.data = [];
for ix = 1:21
jack.deep_adcp.spd.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.spd.data = nanmean(jack.deep_adcp.spd.prof,2);
% Deep ADCP - current direction
jack.deep_adcp.dir.date = dts;
jack.deep_adcp.dir.data = [];
for ix = 1:21
jack.deep_adcp.dir.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.dir.data = uv_to_dir_curr(jack.deep_adcp.u.data,jack.deep_adcp.v.data);
jack
jack.deep_adcp
fmg; plot_ts(jack.deep_seatemp,jack.adcp.u);
fmg; plot_ts(jack.deep_seatemp,jack.deep_adcp.u);
n = numel(dts);
deep_tix = 2;
deep_aix = deep_tix + 1;
shallow_tix = deep_aix + (5*21);
shallow_zix = shallow_tix + 1;
shallow_aix = shallow_zix + 1;
tcm2_aix = shallow_aix + (5*15);
tcm1_aix = tcm2_aix + 5;
jack.shallow_seatemp.date = dts;
jack.shallow_seatemp.data = C{shallow_tix};
jack.tcm1.seatemp.date = dts;
jack.tcm1.seatemp.data = C{tcm1_aix+4};
jack.tcm2.seatemp.date = dts;
jack.tcm2.seatemp.data = C{tcm2_aix+4};
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{deep_tix};
jack.tcm1_u.date = dts;
jack.tcm1_u.data = C{tcm1_aix+3};
jack.tcm1_v.date = dts;
jack.tcm1_v.data = C{tcm1_aix+2};
jack.tcm1_spd.date = dts;
jack.tcm1_spd.data = C{tcm1_aix};
jack.tcm1_dir.date = dts;
jack.tcm1_dir.data = C{tcm1_aix+1};
jack.tcm2_u.date = dts;
jack.tcm2_u.data = C{tcm2_aix+3};
jack.tcm2_v.date = dts;
jack.tcm2_v.data = C{tcm2_aix+2};
jack.tcm2_spd.date = dts;
jack.tcm2_spd.data = C{tcm2_aix};
jack.tcm2_dir.date = dts;
jack.tcm2_dir.data = C{tcm2_aix+1};
% Shallow ADCP - current East velocity
jack.shallow_adcp_u.date = dts;
jack.shallow_adcp_u.data = [];
for ix = 1:21
jack.shallow_adcp_u.prof(1:n,ix) = C{shallow_aix+ix-1};
end;
jack.shallow_adcp_u.data = nanmean(jack.shallow_adcp_u.prof,2);
% Shallow ADCP - current North velocity
jack.shallow_adcp_v.date = dts;
jack.shallow_adcp_v.data = [];
for ix = 1:21
jack.shallow_adcp_v.prof(1:n,ix) = C{shallow_aix+21+ix-1};
end;
jack.shallow_adcp_v.data = nanmean(jack.shallow_adcp_v.prof,2);
% Shallow ADCP - current vertical velocity
jack.shallow_adcp.w.date = dts;
jack.shallow_adcp.w.data = [];
for ix = 1:21
jack.shallow_adcp.w.prof(1:n,ix) = C{shallow_aix+42+ix-1};
end;
jack.shallow_adcp.w.data = nanmean(jack.shallow_adcp.w.prof,2);
% Shallow ADCP - current speed
jack.shallow_adcp_spd.date = dts;
jack.shallow_adcp_spd.data = [];
for ix = 1:21
jack.shallow_adcp_spd.prof(1:n,ix) = C{shallow_aix+63+ix-1};
end;
jack.shallow_adcp_spd.data = nanmean(jack.shallow_adcp_spd.prof,2);
% Shallow ADCP - current direction
jack.shallow_adcp_dir.date = dts;
jack.shallow_adcp_dir.data = [];
for ix = 1:21
jack.shallow_adcp_dir.prof(1:n,ix) = C{shallow_aix+84+ix-1};
end;
jack.shallow_adcp_dir.data = uv_to_dir_curr(jack.shallow_adcp_u.data,jack.shallow_adcp_v.data);
% Deep ADCP - current East velocity
jack.deep_adcp_u.date = dts;
jack.deep_adcp_u.data = [];
for ix = 1:21
jack.deep_adcp_u.prof(1:n,ix) = C{deep_aix+ix-1};
end;
jack.deep_adcp_u.data = nanmean(jack.deep_adcp_u.prof,2);
% Deep ADCP - current North velocity
jack.deep_adcp_v.date = dts;
jack.deep_adcp_v.data = [];
for ix = 1:21
jack.deep_adcp_v.prof(1:n,ix) = C{deep_aix+21+ix-1};
end;
jack.deep_adcp_v.data = nanmean(jack.deep_adcp_v.prof,2);
% Deep ADCP - current vertical velocity
jack.deep_adcp.w.date = dts;
jack.deep_adcp.w.data = [];
for ix = 1:21
jack.deep_adcp.w.prof(1:n,ix) = C{deep_aix+42+ix-1};
end;
jack.deep_adcp.w.data = nanmean(jack.deep_adcp.w.prof,2);
% Deep ADCP - current speed
jack.deep_adcp_spd.date = dts;
jack.deep_adcp_spd.data = [];
for ix = 1:21
jack.deep_adcp_spd.prof(1:n,ix) = C{deep_aix+63+ix-1};
end;
jack.deep_adcp_spd.data = nanmean(jack.deep_adcp_spd.prof,2);
% Deep ADCP - current direction
jack.deep_adcp_dir.date = dts;
jack.deep_adcp_dir.data = [];
for ix = 1:21
jack.deep_adcp_dir.prof(1:n,ix) = C{deep_aix+84+ix-1};
end;
jack.deep_adcp_dir.data = uv_to_dir_curr(jack.deep_adcp_u.data,jack.deep_adcp_v.data);
deep_aix+84+ix-1
n = numel(dts);
deep_tix = 2;
deep_aix = deep_tix + 1;
shallow_tix = deep_aix + (5*21);
shallow_zix = shallow_tix + 1;
shallow_aix = shallow_zix + 1;
tcm2_aix = shallow_aix + (5*15);
tcm1_aix = tcm2_aix + 5;
jack.shallow_seatemp.date = dts;
jack.shallow_seatemp.data = C{shallow_tix};
jack.tcm1.seatemp.date = dts;
jack.tcm1.seatemp.data = C{tcm1_aix+4};
jack.tcm2.seatemp.date = dts;
jack.tcm2.seatemp.data = C{tcm2_aix+4};
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{deep_tix};
jack.tcm1_u.date = dts;
jack.tcm1_u.data = C{tcm1_aix+3};
jack.tcm1_v.date = dts;
jack.tcm1_v.data = C{tcm1_aix+2};
jack.tcm1_spd.date = dts;
jack.tcm1_spd.data = C{tcm1_aix};
jack.tcm1_dir.date = dts;
jack.tcm1_dir.data = C{tcm1_aix+1};
jack.tcm2_u.date = dts;
jack.tcm2_u.data = C{tcm2_aix+3};
jack.tcm2_v.date = dts;
jack.tcm2_v.data = C{tcm2_aix+2};
jack.tcm2_spd.date = dts;
jack.tcm2_spd.data = C{tcm2_aix};
jack.tcm2_dir.date = dts;
jack.tcm2_dir.data = C{tcm2_aix+1};
% Shallow ADCP - current East velocity
jack.shallow_adcp_u.date = dts;
jack.shallow_adcp_u.data = [];
for ix = 1:15
jack.shallow_adcp_u.prof(1:n,ix) = C{shallow_aix+ix-1};
end;
jack.shallow_adcp_u.data = nanmean(jack.shallow_adcp_u.prof,2);
% Shallow ADCP - current North velocity
jack.shallow_adcp_v.date = dts;
jack.shallow_adcp_v.data = [];
for ix = 1:15
jack.shallow_adcp_v.prof(1:n,ix) = C{shallow_aix+21+ix-1};
end;
jack.shallow_adcp_v.data = nanmean(jack.shallow_adcp_v.prof,2);
% Shallow ADCP - current vertical velocity
jack.shallow_adcp.w.date = dts;
jack.shallow_adcp.w.data = [];
for ix = 1:15
jack.shallow_adcp.w.prof(1:n,ix) = C{shallow_aix+42+ix-1};
end;
jack.shallow_adcp.w.data = nanmean(jack.shallow_adcp.w.prof,2);
% Shallow ADCP - current speed
jack.shallow_adcp_spd.date = dts;
jack.shallow_adcp_spd.data = [];
for ix = 1:15
jack.shallow_adcp_spd.prof(1:n,ix) = C{shallow_aix+63+ix-1};
end;
jack.shallow_adcp_spd.data = nanmean(jack.shallow_adcp_spd.prof,2);
% Shallow ADCP - current direction
jack.shallow_adcp_dir.date = dts;
jack.shallow_adcp_dir.data = [];
for ix = 1:15
jack.shallow_adcp_dir.prof(1:n,ix) = C{shallow_aix+84+ix-1};
end;
jack.shallow_adcp_dir.data = uv_to_dir_curr(jack.shallow_adcp_u.data,jack.shallow_adcp_v.data);
% Deep ADCP - current East velocity
jack.deep_adcp_u.date = dts;
jack.deep_adcp_u.data = [];
for ix = 1:21
jack.deep_adcp_u.prof(1:n,ix) = C{deep_aix+ix-1};
end;
jack.deep_adcp_u.data = nanmean(jack.deep_adcp_u.prof,2);
% Deep ADCP - current North velocity
jack.deep_adcp_v.date = dts;
jack.deep_adcp_v.data = [];
for ix = 1:21
jack.deep_adcp_v.prof(1:n,ix) = C{deep_aix+21+ix-1};
end;
jack.deep_adcp_v.data = nanmean(jack.deep_adcp_v.prof,2);
% Deep ADCP - current vertical velocity
jack.deep_adcp.w.date = dts;
jack.deep_adcp.w.data = [];
for ix = 1:21
jack.deep_adcp.w.prof(1:n,ix) = C{deep_aix+42+ix-1};
end;
jack.deep_adcp.w.data = nanmean(jack.deep_adcp.w.prof,2);
% Deep ADCP - current speed
jack.deep_adcp_spd.date = dts;
jack.deep_adcp_spd.data = [];
for ix = 1:21
jack.deep_adcp_spd.prof(1:n,ix) = C{deep_aix+63+ix-1};
end;
jack.deep_adcp_spd.data = nanmean(jack.deep_adcp_spd.prof,2);
% Deep ADCP - current direction
jack.deep_adcp_dir.date = dts;
jack.deep_adcp_dir.data = [];
for ix = 1:21
jack.deep_adcp_dir.prof(1:n,ix) = C{deep_aix+84+ix-1};
end;
jack.deep_adcp_dir.data = uv_to_dir_curr(jack.deep_adcp_u.data,jack.deep_adcp_v.data);
n = numel(dts);
deep_tix = 2;
deep_aix = deep_tix + 1;
shallow_tix = deep_aix + (5*21);
shallow_zix = shallow_tix + 1;
shallow_aix = shallow_zix + 1;
tcm2_aix = shallow_aix + (5*15);
tcm1_aix = tcm2_aix + 5;
jack.shallow_seatemp.date = dts;
jack.shallow_seatemp.data = C{shallow_tix};
jack.tcm1.seatemp.date = dts;
jack.tcm1.seatemp.data = C{tcm1_aix+4};
jack.tcm2.seatemp.date = dts;
jack.tcm2.seatemp.data = C{tcm2_aix+4};
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{deep_tix};
jack.tcm1_u.date = dts;
jack.tcm1_u.data = C{tcm1_aix+3};
jack.tcm1_v.date = dts;
jack.tcm1_v.data = C{tcm1_aix+2};
jack.tcm1_spd.date = dts;
jack.tcm1_spd.data = C{tcm1_aix};
jack.tcm1_dir.date = dts;
jack.tcm1_dir.data = C{tcm1_aix+1};
jack.tcm2_u.date = dts;
jack.tcm2_u.data = C{tcm2_aix+3};
jack.tcm2_v.date = dts;
jack.tcm2_v.data = C{tcm2_aix+2};
jack.tcm2_spd.date = dts;
jack.tcm2_spd.data = C{tcm2_aix};
jack.tcm2_dir.date = dts;
jack.tcm2_dir.data = C{tcm2_aix+1};
fmg; plot_ts(jack.deep_seatemp,jack.tcm2_u);
datetick3;
fmg; plot_ts(jack.deep_seatemp,jack.shallow_seatemp,jack.tcm2_u);
datetick3;
jack=[]; clear jack
C=[]; clear C
x=[]; clear x
n = numel(dts);
deep_tix = 2;
deep_aix = deep_tix + 1;
shallow_tix = deep_aix + (5*21);
shallow_zix = shallow_tix + 1;
shallow_aix = shallow_zix + 1;
tcm2_aix = shallow_aix + (5*15);
tcm1_aix = tcm2_aix + 5;
jack=[]; clear jack
jack.shallow_seatemp.date = dts;
jack.shallow_seatemp.data = C{shallow_tix};
jack.tcm1.seatemp.date = dts;
jack.tcm1.seatemp.data = C{tcm1_aix+4};
jack.tcm2.seatemp.date = dts;
jack.tcm2.seatemp.data = C{tcm2_aix+4};
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{deep_tix};
jack.tcm1_u.date = dts;
jack.tcm1_u.data = C{tcm1_aix+3};
jack.tcm1_v.date = dts;
jack.tcm1_v.data = C{tcm1_aix+2};
jack.tcm1_spd.date = dts;
jack.tcm1_spd.data = C{tcm1_aix};
jack.tcm1_dir.date = dts;
jack.tcm1_dir.data = C{tcm1_aix+1};
jack.tcm2_u.date = dts;
jack.tcm2_u.data = C{tcm2_aix+3};
jack.tcm2_v.date = dts;
jack.tcm2_v.data = C{tcm2_aix+2};
jack.tcm2_spd.date = dts;
jack.tcm2_spd.data = C{tcm2_aix};
jack.tcm2_dir.date = dts;
jack.tcm2_dir.data = C{tcm2_aix+1};
C = textscan(x,fmt,'HeaderLines',1,'EndOfLine','\r\n','Delimiter',',');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
dbstop if error
read_currents_2015
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
read_currents_2015
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
read_currents_2015
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
read_currents_2015
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
read_currents_2015
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
read_currents_2015
help datestr
C{1}{1}
help datestr
dts = datenum(C{1},'mm/dd/yy HH:MM');
olddts = datenum(C{1});
any(dts ~= olddts)
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
read_currents_2015
jack
fmg; plotyy_ts(jack.deep_seatemp,jack.tcm2_u);
fmg; plotyy_ts(jack.deep_seatemp,jack.deep_adcp_u);
annotline([],0)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/17/2016 1:59 PM --%
dirs
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
doirs
dirs
read_currents_2015
find_date_ranges(jack.deep_adcp_u.date)
find_date_ranges(jack.shallow_adcp_u.date)
find_date_ranges(jack.tcm2_u.date)
find_date_ranges(jack.tcm1_u.date)
numel(find(isnan(jack.tcm1_u.data)))
find(isnan(jack.tcm1_u.data),1)
find(~isnan(jack.tcm1_u.data),1)
find(~isnan(jack.deep_adcp_u.data),1)
find(~isnan(jack.shallow_adcp_u.data),1)
find(~isnan(jack.shallow_adcp_v.data),1)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
help find
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
find_date_ranges(jack.tcm1_u.date)
find_date_ranges(jack.tcm2_u.date)
find_date_ranges(jack.deep_adcp_u.date)
find_date_ranges(jack.shallow_adcp_u.date)
find_date_ranges(jack.shallow_adcp_spd.date)
find_date_ranges(jack.shallow_seatemp.date)
find_date_ranges(jack.deep_seatemp.date)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
jack.shallow
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
jack.deep
fmg; plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
datetick3;
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/17/2016 5:56 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
ekman_flux
fdepk
help exist
station_dist(jack.deep,lkwf1)
if ( exist('jack','var') && isfield(jack,'shallow') && ~isfield(jack.shallow,'slope') )
[jack.shallow.slope,jack.shallow.slope_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,jack.shallow.lon,jack.shallow.lat,7);
jack.shallow.isobath_orientation = jack.shallow.slope_orientation - 90;
if ( jack.shallow.isobath_orientation < 0 )
jack.shallow.isobath_orientation = 360 + jack.shallow.isobath_orientation;
end;
[jack.tcm1.slope,jack.tcm1.slope_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,jack.tcm1.lon,jack.tcm1.lat,7);
jack.tcm1.isobath_orientation = jack.tcm1.slope_orientation - 90;
if ( jack.tcm1.isobath_orientation < 0 )
jack.tcm1.isobath_orientation = 360 + jack.tcm1.isobath_orientation;
end;
[jack.tcm2.slope,jack.tcm2.slope_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,jack.tcm2.lon,jack.tcm2.lat,7);
jack.tcm2.isobath_orientation = jack.tcm2.slope_orientation - 90;
if ( jack.tcm2.isobath_orientation < 0 )
jack.tcm2.isobath_orientation = 360 + jack.tcm2.isobath_orientation;
end;
[jack.deep.slope,jack.deep.slope_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,jack.deep.lon,jack.deep.lat,7);
jack.deep.isobath_orientation = jack.deep.slope_orientation - 90;
if ( jack.deep.isobath_orientation < 0 )
jack.deep.isobath_orientation = 360 + jack.deep.isobath_orientation;
end;
end;
jack.shallow.isobath_orientation
jack.deep.isobath_orientation
jack.tcm1.isobath_orientation
jack.tcm2.isobath_orientation
fmg; plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
fmg; plotyy_ts(jack.shallow.seatemp,jack.shallow.adcp_u);
fmg; spt(2,1,1); plotyy_ts(jack.shallow.seatemp,jack.shallow.adcp_u); spt(2,1,2); plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
fwyf1.ndbc_ekman_flux
%-- 8/2/2016 3:41 PM --%
dirs
lkj
cd ecoforecasts
stn = get_station_from_station_name('mlrf1');
stn
%-- 8/2/2016 5:40 PM --%
stn = get_station_from_station_name('mlrf1'); stn = load_all_ndbc_data(stn);
which pushd
cd ecoforecasts
stn = get_station_from_station_name('mlrf1'); stn = load_all_ndbc_data(stn);
dir data/*mlrf*mat
dir data
%-- 8/6/2016 6:10 PM --%
stn = get_station_from_station_name('mlrf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
rehash
stn = station_ekman_flux(stn)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/7/2016 12:41 PM --%
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
which air_dens
rehash
%-- 8/7/2016 12:50 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
dbstop station_ekman_flux 54
stn = station_ekman_flux(stn)
orifld
stn
dbq
dbquit
dbclear all
pd c:/thesis/src
pd d:/thesis/src
dir station_optim*
which station_optimal_isobath_orientation
pd
which station_optimal_isobath_orientation
path
MYDATA = 'D:\';
path(path,[MYDATA 'thesis\src\']);
which station_optimal_isobath_orientation
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
stn
dbstop station_ekman_flux 54
stn = station_ekman_flux(stn)
orifld
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
stn = station_ekman_flux(stn)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = read_fdep_stevens_data('k');
dir *fdep*
stn = extract_fdep_stevens_data('k');
delete data/fdepk-201607.mat
delete data/fdepk-201608.mat
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = extract_fdep_stevens_data('k');
timenow
stn = station_ekman_flux(stn)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = extract_fdep_stevens_data('k');
help fopen
help delete
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = extract_fdep_stevens_data('k');
extract_fdep_stevens_data('k');
stn = read_fdep_stevens_data('k');
[w,id] = lastwarn
clear ans id w
pd data/foo
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/7/2016 5:57 PM --%
dirs
d
dirs
dir
%-- 8/7/2016 5:59 PM --%
pd d:\ecoforecasts
dirsave
savedirs
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/7/2016 6:00 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fdepk = read_fdep_stevens_data('k');
lkwf1 = get_station_from_station_name('lkwf1'); lkwf1 = load_all_ndbc_data(lkwf1);
fdepk
fdepk = read_fdep_stevens_data('k');
dbstop read_fdep_stevens_data
fdepk = read_fdep_stevens_data('k');
datestr([mindt,maxdt])
res
res.relhumid
find_date_ranges(res.relhumid.date)
find_date_ranges(res.relhumid.date.1)
find_date_ranges(res.relhumid.dat,1)
find_date_ranges(res.relhumid.date,1)
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fdepk = read_fdep_stevens_data('k');
whos
lkwf1 = get_station_from_station_name('lkwf1'); lkwf1 = load_all_ndbc_data(lkwf1);
fwyf1 = get_station_from_station_name('fwyf1'); fwyf1 = load_all_ndbc_data(fwyf1);
find_date_ranges(fwyf1.ndbc_wind1_speed.date)
find_date_ranges(lkwf1.ndbc_wind1_speed.date)
find_date_ranges(fdepk.wind_speed.date)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
timenow
help download_ndbc_files
download_ndbc_files('fwyf1',2015:2016,true)
download_ndbc_files('lkwf1',2015:2016,true)
help download_ndbc_files
dbstop download_ndbc_files 113
download_ndbc_files('lkwf1',2016,false)
need_mo
need_moix
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/8/2016 7:53 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('lkwf1'); stn = load_all_ndbc_data(stn);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('fwyf1'); stn = load_all_ndbc_data(stn);
download_ndbc_files('vakf1',1999:2015,false)
stn = get_station_from_station_name('vakf1'); stn = load_all_ndbc_data(stn);
download_ndbc_files('vakf1',2015,false)
stn = get_station_from_station_name('vakf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('sipf1',1999:2015,false)
stn = get_station_from_station_name('sipf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('41114',1999:2015,false)
stn = get_station_from_station_name('41114'); stn = load_all_ndbc_data(stn);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('41114'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fmg; plotyy_ts(stn.ndbc_sigwavehgt,stn.ndbc_sea_t)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = extract_fdep_stevens_data('k');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fdepk
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
dbstop if error
ekman_flux
dfld
stn
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
scatter_fit_ts(fwyf1.ndbc_ekman_flux,fdepk.fdep_ekman_flux)
scatter_fit_ts(fwyf1.ndbc_ekman_flux,lkwf1.fdep_ekman_flux)
scatter_fit_ts(fwyf1.ndbc_ekman_flux,lkwf1.ndbc_ekman_flux)
timenow
fdepk = plot_hires_bathymetry(fdepk,-[0:2:20,30:10:100],[40e3,10e3]);
fdepk
fdepk = rmfield(fdepk,'ngdc_hires_bathy');
fdepk = plot_hires_bathymetry(fdepk,-[0:2:20,30:10:100],[10e3,50e3]);
fdepk = rmfield(fdepk,'ngdc_hires_bathy');
fdepk = plot_hires_bathymetry(fdepk,-[0:2:20,30:10:100],[20e3,60e3]);
plot(fwyf1.lon,fwyf1.lat,'rp',lkwf1.lon,lkwf1.lat,'rp',fdepk.lon,fdepk.lat,'rp');
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:2:20,30:10:100],[20e3,60e3]);
plot(fwyf1.lon,fwyf1.lat,'rp',lkwf1.lon,lkwf1.lat,'rp',fdepk.lon,fdepk.lat,'rp');
lkwf1.lat,fdepk.lat
fdepk = rmfield(fdepk,'ngdc_hires_bathy');
lkwf1 = rmfield(lkwf1,'ngdc_hires_bathy');
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:2:20,30:10:100],[15e3,80e3]);
plot(fwyf1.lon,fwyf1.lat,'rp',lkwf1.lon,lkwf1.lat,'rp',fdepk.lon,fdepk.lat,'rp');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/11/2016 9:33 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
lookfor ardhuin
path
type phd_hour_seminar_fkeys
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
lookfor lagrang
help augLagFun
lookfor euler
which station_calc_quasi_eulerian
which stokes_drift
stokes_drift(5,1,2,'ardhuin')
stokes_drift(10,1,2,'ardhuin')
stokes_drift(20,1,2,'ardhuin')
stokes_drift(20,0.5,2,'ardhuin')
stokes_drift(10,0.5,2,'ardhuin')
stokes_drift(5,0.5,2,'ardhuin')
stokes_drift(5,0.5,2,'mellor')
stokes_drift(5,0.5,2,'shay')
stokes_drift(5,0.5,2,'monismith')
stokes_drift(5,5,2,'monismith')
stokes_drift(20,5,2,'monismith')
stokes_drift(20,1,2,'monismith')
stokes_drift(10,1,2,'monismith')
stokes_drift(10,1,5,'monismith')
stokes_drift(10,1,5,'mellor')
stokes_drift(20,1,5,'mellor')
stokes_drift(20,2,5,'mellor')
stokes_drift(5,2,5,'mellor')
stokes_drift(5,2,1,'mellor')
stokes_drift(5,2,10,'mellor')
methods={'mellor','monismith','shay','ardhuin'};
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(1:10,1,5); end;
fmg; plot(1:10,sd);
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(5,1:10,5); end;
fmg; plot(1:10,sd);
sd
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(1:10,1,5,methods{mthix}); end;
fmg; plot(1:10,sd);
fmg; plot(1:10,sd); legend(methods);
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(5,1:10,5,methods{mthix}); end;
fmg; plot(1:10,sd); legend(methods);
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(5,1:10./3,5,methods{mthix}); end;
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(5,[1:10]./3,5,methods{mthix}); end;
fmg; plot([1:10]./3,sd); legend(methods);
for mthix=1:numel(methods); sd(mthix,1:10) = stokes_drift(5,1,1:10,methods{mthix}); end;
for mthix=1:numel(methods); for ix=1:10; sd(mthix,ix) = stokes_drift(5,1,ix,methods{mthix}); end; end;
fmg; plot([1:10],sd); legend(methods);
for mthix=1:numel(methods); for ix=1:10; sd(mthix,ix) = stokes_drift(5,1,ix+1,methods{mthix}); end; end;
fmg; plot([1:10]+1,sd); legend(methods);
ws=1:10; hs=0.5:0.5:3.5;  fmg; surf(ws,hs,stokes_drift(ws,hs,2,'ardhuin');
ws=1:10; hs=0.5:0.5:3.5;  fmg; surf(ws,hs,stokes_drift(ws,hs,2,'ardhuin'));
ws=linspace(2,15,10); hs=linspace(0.5,3.0,10);  fmg; surf(ws,hs,stokes_drift(ws,hs,2,'ardhuin'));
ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,'ardhuin'));
view(3)
ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,'ardhuin')); view(3); xlabel('Wind'); ylabel('Sig. wave hgt.); zlabel('Stokes');
ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,'ardhuin')); view(3); xlabel('Wind'); ylabel('Sig. wave hgt.'); zlabel('Stokes');
ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,'ardhuin')); view(3); xlabel('Wind [kts]'); ylabel('Sig. wave hgt. [m]'); zlabel('Stokes [ms^-^1');
method='ardhuin'; ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,method)); view(3); xlabel('Wind [kts]'); ylabel('Sig. wave hgt. [m]'); zlabel('Stokes [ms^-^1]'); titlename(['Surface transport - method of ',upper(method)]);
method='mellor'; ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,method)); view(3); xlabel('Wind [kts]'); ylabel('Sig. wave hgt. [m]'); zlabel('Stokes [ms^-^1]'); titlename(['Surface transport - method of ',upper(method)]);
method='monismith'; ws=linspace(2,15,10); hs=linspace(0.5,3.0,10); [WS,HS]=meshgrid(ws,hs); fmg; surf(WS,HS,stokes_drift(WS,HS,2,method)); view(3); xlabel('Wind [kts]'); ylabel('Sig. wave hgt. [m]'); zlabel('Stokes [ms^-^1]'); titlename(['Surface transport - method of ',upper(method)]);
which capitalize
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
close all
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
mid
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_ww3_station('mlrf1');
stn
median(diff(stn.raw_ww3_sigwavehgt.date))
median(diff(stn.ww3_sigwavehgt.date))
fmg; hist(stn.ww3_peakwaveper.data,100);
fmg; hist(stn.ww3_peakwaveper.data(get_season(stn.ww3_peakwaveper.date)==3),100);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
view(0,90)
view(90,90)
view(45,45)
close all
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
view(45,45)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
0.1*3600*24
fmg; titlename('a\dot b');
fmg; titlename('a^.b');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
view(45,45)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('lonf1',2014:2016,true)
download_ndbc_files('lonf1',2014:2016,true,false)
x=[1,2,3];
x(4:end) = [];
x
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('lonf1',1987:2016,true,false)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
lonf1 = get_station_from_station_name('lonf1'); lonf1 = load_all_ndbc_data(lonf1);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('lonf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
help nargchk
help narginchk
edit datetick
which datetick
help message
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('lonf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('lonf1',2000)
x = urlread('http://www.ndbc.noaa.gov/data/derived2/LONF1.dmv');
x
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('mlrf1',1987:2016,true,false)
download_ndbc_files('smkf1',1987:2016,true,false)
download_ndbc_files('smkf1',1986:2016,true,false)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('mlrf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('smkf1',2015)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('smkf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('sanf1',1986:2016,true,false)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('sanf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('plsf1',2000:2016,true,false)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('plsf1'); stn = load_all_ndbc_data(stn);
fmg; plotyy_ts(stn.ndbc_air_t,stn.ndbc_wind1_speed);
ans
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_ww3_station('mlrf1');
fmg; hist(stn.ww3_sigwavehgt.data(get_season(stn.ww3_sigwavehgt.date)==3),100);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_ww3_station('fwyf1');
fmg; hist(stn.ww3_sigwavehgt.data(get_season(stn.ww3_sigwavehgt.date)==3),100);
stn = get_station_from_station_name('mlrf1'); stn = load_all_ndbc_data(stn);
timenow
fmg; hist(stn.ndbc_wind1_speed.data(get_season(stn.ndbc_wind1_speed.date)==3),100);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
stn = get_station_from_station_name('mlrf1'); stn = load_all_ndbc_data(stn);
fmg; hist(stn.ndbc_wind1_speed.data(get_season(stn.ndbc_wind1_speed.date)==3),100);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
mfilename
compare_stokes_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
compare_stokes_drifts
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
help asec
%-- 8/15/2016 12:49 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/16/2016 9:27 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fname = fullfile('currents_2015','Shallow and deep and TCM  merge ver 2  for export.csv');
% Read file
x = fileread(fname);
% Column headers appear as follows:
% Date,deep missing data,JD (UT),Deep temp,Index,East 1,East 2,East 3,East 4,East 5,East 6,East 7,East 8,East 9,East 10,East 11,East 12,East 13,East 14,East 15,East 16,East 17,East 18,East 19,East 20,East 21,North 1,North 2,North 3,North 4,North 5,North 6,North 7,North 8,North 9,North 10,North 11,North 12,North 13,North 14,North 15,North 16,North 17,North 18,North 19,North 20,North 21,Vert 1,Vert 2,Vert3,vert 4,vert 5,vert 6,vert 7,vert 8,vert 9,vert 10,vert 11,vert 12,vert 13,vert 14,vert 15,vert 16,vert 17,vert 18,vert 19,vert 20,vert 21,mag 1,mag 2,mag 3,mag 4,mag 5,mag 6,mag 7,mag 8,mag 9,mag 10,mag 11,mag 12,mag 13,mag 14,mag 15,mag 16,mag 17,mag 18,mag 19,mag 20,mag 21,dir 1,dir 2,dir 3,dir 4,dir 5,dir 6,dir 7,dir 8,dir 9,dir 10,dir 11,dir 12,dir 13,dir 14,dir 15,dir 16,dir 17,dir 18,dir 19,dir 20,dir 21,grid time,Shallow temp,Z,E1,E2,E3,E4,E5,E6,E7,E8,E9,E10,E11,E12,E13,E14,E15,N1,N2,N3,N4,N5,N6,N7,N8,N9,N10,N11,N12,N13,N14,N15,VV1,VV2,VV3,VV4,VV5,VV6,VV7,VV8,VV9,VV10,VV11,VV12,VV13,VV14,VV15,M1,M2,M3,M4,M5,M6,M7,M8,M9,M10,M11,M12,M13,M14,M15,D1,D2,D3,D4,D5,D6,D7,D8,D9,D10,D11,D12,D13,D14,D15,NewVar1,Deep East WCA,Deep North WCA,Shallow East WCA,Shallow North WCA,S has data,D has data,S and D have data,TCM has data,Shallow ADCP WCA is north,TCM 1 is north,TCM2 is north,Deep ADCP WCA  is north,NewVar15,Date,Time,T2 Speed (cm/s),T2 Bearing (degrees),T2 Velocity-N (cm/s),T2 Velocity-E (cm/s),T2   Temperature (C),T1  Speed (cm/s),T1 Bearing (degrees),T1 Vel N,T1  Velocity-E (cm/s),T1   Temperature (C)
% Process file
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'});
C = textscan(x,fmt,'HeaderLines',1);
dirs
pd ../coral/FACE
fname = fullfile('currents_2015','Shallow and deep and TCM  merge ver 2  for export.csv');
% Read file
x = fileread(fname);
% Column headers appear as follows:
% Date,deep missing data,JD (UT),Deep temp,Index,East 1,East 2,East 3,East 4,East 5,East 6,East 7,East 8,East 9,East 10,East 11,East 12,East 13,East 14,East 15,East 16,East 17,East 18,East 19,East 20,East 21,North 1,North 2,North 3,North 4,North 5,North 6,North 7,North 8,North 9,North 10,North 11,North 12,North 13,North 14,North 15,North 16,North 17,North 18,North 19,North 20,North 21,Vert 1,Vert 2,Vert3,vert 4,vert 5,vert 6,vert 7,vert 8,vert 9,vert 10,vert 11,vert 12,vert 13,vert 14,vert 15,vert 16,vert 17,vert 18,vert 19,vert 20,vert 21,mag 1,mag 2,mag 3,mag 4,mag 5,mag 6,mag 7,mag 8,mag 9,mag 10,mag 11,mag 12,mag 13,mag 14,mag 15,mag 16,mag 17,mag 18,mag 19,mag 20,mag 21,dir 1,dir 2,dir 3,dir 4,dir 5,dir 6,dir 7,dir 8,dir 9,dir 10,dir 11,dir 12,dir 13,dir 14,dir 15,dir 16,dir 17,dir 18,dir 19,dir 20,dir 21,grid time,Shallow temp,Z,E1,E2,E3,E4,E5,E6,E7,E8,E9,E10,E11,E12,E13,E14,E15,N1,N2,N3,N4,N5,N6,N7,N8,N9,N10,N11,N12,N13,N14,N15,VV1,VV2,VV3,VV4,VV5,VV6,VV7,VV8,VV9,VV10,VV11,VV12,VV13,VV14,VV15,M1,M2,M3,M4,M5,M6,M7,M8,M9,M10,M11,M12,M13,M14,M15,D1,D2,D3,D4,D5,D6,D7,D8,D9,D10,D11,D12,D13,D14,D15,NewVar1,Deep East WCA,Deep North WCA,Shallow East WCA,Shallow North WCA,S has data,D has data,S and D have data,TCM has data,Shallow ADCP WCA is north,TCM 1 is north,TCM2 is north,Deep ADCP WCA  is north,NewVar15,Date,Time,T2 Speed (cm/s),T2 Bearing (degrees),T2 Velocity-N (cm/s),T2 Velocity-E (cm/s),T2   Temperature (C),T1  Speed (cm/s),T1 Bearing (degrees),T1 Vel N,T1  Velocity-E (cm/s),T1   Temperature (C)
% Process file
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'});
C = textscan(x,fmt,'HeaderLines',1);
C
C{1}
x
x(1:1000)
x(1:2000)
C = textscan(x,fmt,'HeaderLines',1);
C = textscan(x,fmt,'HeaderLines',1); C{1}
C = textscan(x,fmt,'HeaderLines',2); C{1}
fmt
fmt = 'C = textscan(x,fmt,'HeaderLines',1);
';
fmt = '%*[^,],%*[^,],%[^,],%f,%*[^,],%f,%f,%f,%f,%f,%f';
C = textscan(x,fmt,'HeaderLines',2); C{1}
C = textscan(x,fmt,'HeaderLines',30); C{1}
help textscan
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\n','Delimiter',','); C{1}
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\r\n','Delimiter',','); C{1}
C = textscan(x,fmt,'HeaderLines',1,'EndOfLine','\r\n','Delimiter',','); C{1}
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\r\n','Delimiter',','); C{1}
\
fmt = '%*[^,],%*[^,],%[^,]';
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\r\n','Delimiter',','); C{1}
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\r\n'); C{1}
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\\n'); C{1}
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\n'); C{1}
C = textscan('%s','HeaderLines',30,'EndOfLine','\n'); C{1}
C = textscan('%[^,],%s','HeaderLines',30,'EndOfLine','\n'); C{1}
C = textscan('%[^,],%s','HeaderLines',1,'EndOfLine','\n'); C{1}
C = textscan('%[^,],%s'); C{1}
C = textscan(x,'%s','HeaderLines',30,'EndOfLine','\n'); C{1}
C = textscan('%[^,],%s','HeaderLines',30); C{1}
C = textscan(x,'%[^,],%s','HeaderLines',30); C{1}
x(1:2000)
x(1:20000)
x(19000:20000)
strfind(x,sprintf('\r\n'))
C = textscan(x,'%[^,],%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}
C = textscan(x,'%*[^,],%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}
C{2}
C{1}
C = textscan(x,fmt,'HeaderLines',30,'EndOfLine','\r\n'); C{1}
fmt
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'});
fmt
fmt(1:10)
fmt(1:40)
fmt(1:39)
C = textscan(x,fmt(1:39),'HeaderLines',30,'EndOfLine','\r\n'); C{1}
C = textscan(x,fmt(1:19),'HeaderLines',30,'EndOfLine','\r\n'); C{1}
fmt(1:19)
C = textscan(x,fmt(1:20),'HeaderLines',30,'EndOfLine','\r\n'); C{1}
C = textscan(x,'%*[^,],%*[^,],%[^,],%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}
C = textscan(x,'%[^,],%[^,],%[^,],%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}
C{4}
C{3}
C{2}
C{1}
C = textscan(x,'%[^,]%[^,],%[^,],%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}
C = textscan(x,'%[^,]%[^,],%[^,],%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}, C{2}
C = textscan(x,'%s','HeaderLines',30,'EndOfLine','\r\n'); C{1}, C{2}
C{2}
C = textscan(x,'%s','HeaderLines',45,'EndOfLine','\r\n'); C{1}, C{2}
C = textscan(x,'%[^,]%[^,],%[^,],%s','HeaderLines',45,'EndOfLine','\r\n'); C{1}, C{2}
C = textscan(x,'%[^,],%[^,],%[^,],%s','HeaderLines',45,'EndOfLine','\r\n'); C{1}, C{2}
C = textscan(x,'%[^,],%s','HeaderLines',45,'EndOfLine','\r\n'); C{1}, C{2}
C{2}
C{1}
C{1}{1}
C{1}{2}
C{1}{3}
C{1}{4}
iscellstr(C{1})
iscellstr(C{1}{1})
ischar(C{1}{1}
ischar(C{1}{1})
C{1}{10}
C{1}
C = textscan(x,'%[^,],%[^,],%s','HeaderLines',45,'EndOfLine','\r\n'); C{1}, C{2}
C{1}{1}
C{1}{2}
C = textscan(x,'%[^,]%[^,],%s','HeaderLines',45,'EndOfLine','\r\n'); C{1}, C{2}
C = textscan(x,'%[^,]%[^,],%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C = textscan(x,'%[^,],%[^,],%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C = textscan(x,'%*s,%*s,%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C = textscan(x,'%[^,],%[^,],%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C{3}
C = textscan(x,'%*60c,%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C = textscan(x,fmt,'HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C
fmt
C = textscan(x,'%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}, C{2}
C = textscan(x,'%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}{1}
C = textscan(x,'%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}{2}
C{1}
C = textscan(x,'%s%s%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}{2}
C{1}
C{2}
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fname = fullfile('currents_2015','Shallow and deep and TCM  merge ver 2  for export.csv');
% Read file
x = fileread(fname);
% Column headers appear as follows:
% Date,deep missing data,JD (UT),Deep temp,Index,East 1,East 2,East 3,East 4,East 5,East 6,East 7,East 8,East 9,East 10,East 11,East 12,East 13,East 14,East 15,East 16,East 17,East 18,East 19,East 20,East 21,North 1,North 2,North 3,North 4,North 5,North 6,North 7,North 8,North 9,North 10,North 11,North 12,North 13,North 14,North 15,North 16,North 17,North 18,North 19,North 20,North 21,Vert 1,Vert 2,Vert3,vert 4,vert 5,vert 6,vert 7,vert 8,vert 9,vert 10,vert 11,vert 12,vert 13,vert 14,vert 15,vert 16,vert 17,vert 18,vert 19,vert 20,vert 21,mag 1,mag 2,mag 3,mag 4,mag 5,mag 6,mag 7,mag 8,mag 9,mag 10,mag 11,mag 12,mag 13,mag 14,mag 15,mag 16,mag 17,mag 18,mag 19,mag 20,mag 21,dir 1,dir 2,dir 3,dir 4,dir 5,dir 6,dir 7,dir 8,dir 9,dir 10,dir 11,dir 12,dir 13,dir 14,dir 15,dir 16,dir 17,dir 18,dir 19,dir 20,dir 21,grid time,Shallow temp,Z,E1,E2,E3,E4,E5,E6,E7,E8,E9,E10,E11,E12,E13,E14,E15,N1,N2,N3,N4,N5,N6,N7,N8,N9,N10,N11,N12,N13,N14,N15,VV1,VV2,VV3,VV4,VV5,VV6,VV7,VV8,VV9,VV10,VV11,VV12,VV13,VV14,VV15,M1,M2,M3,M4,M5,M6,M7,M8,M9,M10,M11,M12,M13,M14,M15,D1,D2,D3,D4,D5,D6,D7,D8,D9,D10,D11,D12,D13,D14,D15,NewVar1,Deep East WCA,Deep North WCA,Shallow East WCA,Shallow North WCA,S has data,D has data,S and D have data,TCM has data,Shallow ADCP WCA is north,TCM 1 is north,TCM2 is north,Deep ADCP WCA  is north,NewVar15,Date,Time,T2 Speed (cm/s),T2 Bearing (degrees),T2 Velocity-N (cm/s),T2 Velocity-E (cm/s),T2   Temperature (C),T1  Speed (cm/s),T1 Bearing (degrees),T1 Vel N,T1  Velocity-E (cm/s),T1   Temperature (C)
% Process file
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'});
C = textscan(x,fmt,'HeaderLines',1);
C = textscan(x,'%s%s%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{1}{2}
size
size(C{1})
size(C{2})
C{2}
C{3}
C = textscan(x,'%s%s%s','HeaderLines',45,'EndOfLine','\r\n','Delimiter',','); C{3}{1}
help textscan
help strtok
repmat('%s',[1,213])
C = textscan(x,repmat('%s',[1,213]),'HeaderLines',43,'EndOfLine','\r\n','Delimiter',','); C{3}{1}
C{1}
C{3}
C{4}
C = textscan(x,repmat('%s',[1,213]),'HeaderLines',44,'EndOfLine','\r\n','Delimiter',','); C{3}{1}
C{4}{1:10}
dts = datenum(C{1});
dts = datenum(C{1}{1:10});
dts = datenum(C{1}(1:10));
dts = datenum(C{1}(1:10)); datestr(dts(end))
dts = datenum(C{1}(1:100)); datestr(dts(end))
size(C{1})
dts = datenum(C{1}(1:28000)); datestr(dts(end))
dts = datenum(C{1}(1:42000)); datestr(dts(end))
dts = datenum(C{1}(1:49000)); datestr(dts(end))
dts = datenum(C{1}(1:45000)); datestr(dts(end))
dts = datenum(C{1}(1:46000)); datestr(dts(end))
dts = datenum(C{1}(1:47000)); datestr(dts(end))
dts = datenum(C{1}(1:47001)); datestr(dts(end))
dts = datenum(C{1}(1:47500)); datestr(dts(end))
dts = datenum(C{1}(1:4800)); datestr(dts(end))
dts = datenum(C{1}(1:48000)); datestr(dts(end))
dts = datenum(C{1}(1:48500)); datestr(dts(end))
dts = datenum(C{1}(1:48800)); datestr(dts(end))
dts = datenum(C{1}(1:48700)); datestr(dts(end))
dts = datenum(C{1}(1:48600)); datestr(dts(end))
dts = datenum(C{1}(1:48650)); datestr(dts(end))
dts = datenum(C{1}(1:48625)); datestr(dts(end))
dts = datenum(C{1}(1:48612)); datestr(dts(end))
dts = datenum(C{1}(1:486057)); datestr(dts(end))
dts = datenum(C{1}(1:48607)); datestr(dts(end))
dts = datenum(C{1}(1:48603)); datestr(dts(end))
dts = datenum(C{1}(1:48600)); datestr(dts(end))
C{1}{48600:48603}
dts = datenum(C{1}(1:48601)); datestr(dts(end))
C{213}{48600}
dts = datenum(C{1}(1:48600)); datestr(dts([1:10,end]))
C{1}{1:10}
C{3}{1:10}
dts = datenum(C{3}(1:48600)); datestr(dts([1:10,end]))
dts = datenum(C{3}(1:40600)); datestr(dts([1:10,end]))
dts = datenum(C{3}(1:20000)); datestr(dts([1:10,end]))
dts = datenum(C{3}(1:10000)); datestr(dts([1:10,end]))
dts = datenum(C{3}(1:15000)); datestr(dts([1,end]))
dts = datenum(C{3}(1:12500)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11500)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11800)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11700)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11750)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11730)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11740)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11735)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11738)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11737)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11736)); datestr(dts([1,end]))
dts = datenum(C{3}(1:11735)); datestr(dts([1,end]))
C{3}{11735:11737}
help datestr
help datenum
numel(find(isempty(C{3})))
numel(find(C{3}=={}))
find(cellstr(@isempty,C{3}))
iscell(C{3})
find(cellfun(@isempty,C{3}))
badrow = find(cellfun(@isempty,C{3}));
for ix = 1:numel(C)
C{ix}(badrow) = [];
end;
dts = datenum(C{3});
size(C{1})
size(C{211})
C{4}
str2num(C{4})
str2num(C{4}{:})
fmt
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fname = fullfile('currents_2015','Shallow and deep and TCM  merge ver 2  for export.csv');
% Read file
x = fileread(fname);
sum([2 1 1 1 21*5 21*5 1 (2+(5*15)) 16 10])
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'},'','');
C = textscan(x,fmt,'HeaderLines',1,'EndOfLine','\r\n','Delimiter',',');
C{1}
C{2}
C
fmt = repmat('%s',[1,213]);
C = textscan(x,fmt,'HeaderLines',1,'EndOfLine','\r\n','Delimiter',',');
fmt
fmt(end-1:end)='';
fmg
fmt
fmt = ['%*s',fmt]
C = textscan(x,fmt,'HeaderLines',1,'EndOfLine','\r\n','Delimiter',',');
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'},'','');
fmt
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'},'','');
ischar([])
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',21*5,'%f',21*5,'%f',1,'',(2+(5*15)),'%f',16,'',10,'%f'},'','');
fmt
numel(find(fmt=='%'))
sum([2 1 1 1 5*21 1 (2+(5*15)) 16 2*5])
fmt = make_format_string({2,'',1,'%s',1,'%f',1,'',5*21,'%f',1,'',(2+(5*15)),'%f',16,'',2*5,'%f'},'','');
C = textscan(x,fmt,'HeaderLines',1,'EndOfLine','\r\n','Delimiter',',');
C{1}
C{3}
badrow = find(cellfun(@isempty,C{1}));
for ix = 1:numel(C)
C{ix}(badrow) = [];
end;
dts = datenum(C{1});
jack.deep_seatemp.data = C{2};
jack.deep_seatemp.date = dts;
fmg; plot_ts(jack.deep_seatemp);
jack.deep_adcp.u.date = dts;
jack.deep_adcp.u.prof = C{3:23};
jack.deep_adcp
jack.deep_adcp.u
C{3:4}
C{3}
C{3:4}
for ix = 1:21
jack.deep_adcp.u.prof(1:n,ix) = C{3+ix-1};
end;
n = numel(dts);
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{2};
jack.deep_adcp.u.date = dts;
for ix = 1:21
jack.deep_adcp.u.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.u
jack.deep_adcp.u.data = nanmean(jack.deep_adcp.u.prof,2);
jack.deep_adcp.u
n = numel(dts);
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{2};
% Deep ADCP - current East velocity
jack.deep_adcp.u.date = dts;
jack.deep_adcp.u.data = [];
for ix = 1:21
jack.deep_adcp.u.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.u.data = nanmean(jack.deep_adcp.u.prof,2);
% Deep ADCP - current North velocity
jack.deep_adcp.v.date = dts;
jack.deep_adcp.v.data = [];
for ix = 1:21
jack.deep_adcp.v.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.v.data = nanmean(jack.deep_adcp.v.prof,2);
% Deep ADCP - current vertical velocity
jack.deep_adcp.w.date = dts;
jack.deep_adcp.w.data = [];
for ix = 1:21
jack.deep_adcp.w.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.w.data = nanmean(jack.deep_adcp.w.prof,2);
% Deep ADCP - current speed
jack.deep_adcp.spd.date = dts;
jack.deep_adcp.spd.data = [];
for ix = 1:21
jack.deep_adcp.spd.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.spd.data = nanmean(jack.deep_adcp.spd.prof,2);
% Deep ADCP - current direction
jack.deep_adcp.dir.date = dts;
jack.deep_adcp.dir.data = [];
for ix = 1:21
jack.deep_adcp.dir.prof(1:n,ix) = C{3+ix-1};
end;
NOPE!
jack.deep_adcp.dir.data = uv_to_dir_curr(jack.deep_adcp.u.data,jack.deep_adcp.v.data);
n = numel(dts);
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{2};
% Deep ADCP - current East velocity
jack.deep_adcp.u.date = dts;
jack.deep_adcp.u.data = [];
for ix = 1:21
jack.deep_adcp.u.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.u.data = nanmean(jack.deep_adcp.u.prof,2);
% Deep ADCP - current North velocity
jack.deep_adcp.v.date = dts;
jack.deep_adcp.v.data = [];
for ix = 1:21
jack.deep_adcp.v.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.v.data = nanmean(jack.deep_adcp.v.prof,2);
% Deep ADCP - current vertical velocity
jack.deep_adcp.w.date = dts;
jack.deep_adcp.w.data = [];
for ix = 1:21
jack.deep_adcp.w.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.w.data = nanmean(jack.deep_adcp.w.prof,2);
% Deep ADCP - current speed
jack.deep_adcp.spd.date = dts;
jack.deep_adcp.spd.data = [];
for ix = 1:21
jack.deep_adcp.spd.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.spd.data = nanmean(jack.deep_adcp.spd.prof,2);
% Deep ADCP - current direction
jack.deep_adcp.dir.date = dts;
jack.deep_adcp.dir.data = [];
for ix = 1:21
jack.deep_adcp.dir.prof(1:n,ix) = C{3+ix-1};
end;
jack.deep_adcp.dir.data = uv_to_dir_curr(jack.deep_adcp.u.data,jack.deep_adcp.v.data);
jack
jack.deep_adcp
fmg; plot_ts(jack.deep_seatemp,jack.adcp.u);
fmg; plot_ts(jack.deep_seatemp,jack.deep_adcp.u);
n = numel(dts);
deep_tix = 2;
deep_aix = deep_tix + 1;
shallow_tix = deep_aix + (5*21);
shallow_zix = shallow_tix + 1;
shallow_aix = shallow_zix + 1;
tcm2_aix = shallow_aix + (5*15);
tcm1_aix = tcm2_aix + 5;
jack.shallow_seatemp.date = dts;
jack.shallow_seatemp.data = C{shallow_tix};
jack.tcm1.seatemp.date = dts;
jack.tcm1.seatemp.data = C{tcm1_aix+4};
jack.tcm2.seatemp.date = dts;
jack.tcm2.seatemp.data = C{tcm2_aix+4};
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{deep_tix};
jack.tcm1_u.date = dts;
jack.tcm1_u.data = C{tcm1_aix+3};
jack.tcm1_v.date = dts;
jack.tcm1_v.data = C{tcm1_aix+2};
jack.tcm1_spd.date = dts;
jack.tcm1_spd.data = C{tcm1_aix};
jack.tcm1_dir.date = dts;
jack.tcm1_dir.data = C{tcm1_aix+1};
jack.tcm2_u.date = dts;
jack.tcm2_u.data = C{tcm2_aix+3};
jack.tcm2_v.date = dts;
jack.tcm2_v.data = C{tcm2_aix+2};
jack.tcm2_spd.date = dts;
jack.tcm2_spd.data = C{tcm2_aix};
jack.tcm2_dir.date = dts;
jack.tcm2_dir.data = C{tcm2_aix+1};
% Shallow ADCP - current East velocity
jack.shallow_adcp_u.date = dts;
jack.shallow_adcp_u.data = [];
for ix = 1:21
jack.shallow_adcp_u.prof(1:n,ix) = C{shallow_aix+ix-1};
end;
jack.shallow_adcp_u.data = nanmean(jack.shallow_adcp_u.prof,2);
% Shallow ADCP - current North velocity
jack.shallow_adcp_v.date = dts;
jack.shallow_adcp_v.data = [];
for ix = 1:21
jack.shallow_adcp_v.prof(1:n,ix) = C{shallow_aix+21+ix-1};
end;
jack.shallow_adcp_v.data = nanmean(jack.shallow_adcp_v.prof,2);
% Shallow ADCP - current vertical velocity
jack.shallow_adcp.w.date = dts;
jack.shallow_adcp.w.data = [];
for ix = 1:21
jack.shallow_adcp.w.prof(1:n,ix) = C{shallow_aix+42+ix-1};
end;
jack.shallow_adcp.w.data = nanmean(jack.shallow_adcp.w.prof,2);
% Shallow ADCP - current speed
jack.shallow_adcp_spd.date = dts;
jack.shallow_adcp_spd.data = [];
for ix = 1:21
jack.shallow_adcp_spd.prof(1:n,ix) = C{shallow_aix+63+ix-1};
end;
jack.shallow_adcp_spd.data = nanmean(jack.shallow_adcp_spd.prof,2);
% Shallow ADCP - current direction
jack.shallow_adcp_dir.date = dts;
jack.shallow_adcp_dir.data = [];
for ix = 1:21
jack.shallow_adcp_dir.prof(1:n,ix) = C{shallow_aix+84+ix-1};
end;
jack.shallow_adcp_dir.data = uv_to_dir_curr(jack.shallow_adcp_u.data,jack.shallow_adcp_v.data);
% Deep ADCP - current East velocity
jack.deep_adcp_u.date = dts;
jack.deep_adcp_u.data = [];
for ix = 1:21
jack.deep_adcp_u.prof(1:n,ix) = C{deep_aix+ix-1};
end;
jack.deep_adcp_u.data = nanmean(jack.deep_adcp_u.prof,2);
% Deep ADCP - current North velocity
jack.deep_adcp_v.date = dts;
jack.deep_adcp_v.data = [];
for ix = 1:21
jack.deep_adcp_v.prof(1:n,ix) = C{deep_aix+21+ix-1};
end;
jack.deep_adcp_v.data = nanmean(jack.deep_adcp_v.prof,2);
% Deep ADCP - current vertical velocity
jack.deep_adcp.w.date = dts;
jack.deep_adcp.w.data = [];
for ix = 1:21
jack.deep_adcp.w.prof(1:n,ix) = C{deep_aix+42+ix-1};
end;
jack.deep_adcp.w.data = nanmean(jack.deep_adcp.w.prof,2);
% Deep ADCP - current speed
jack.deep_adcp_spd.date = dts;
jack.deep_adcp_spd.data = [];
for ix = 1:21
jack.deep_adcp_spd.prof(1:n,ix) = C{deep_aix+63+ix-1};
end;
jack.deep_adcp_spd.data = nanmean(jack.deep_adcp_spd.prof,2);
% Deep ADCP - current direction
jack.deep_adcp_dir.date = dts;
jack.deep_adcp_dir.data = [];
for ix = 1:21
jack.deep_adcp_dir.prof(1:n,ix) = C{deep_aix+84+ix-1};
end;
jack.deep_adcp_dir.data = uv_to_dir_curr(jack.deep_adcp_u.data,jack.deep_adcp_v.data);
deep_aix+84+ix-1
n = numel(dts);
deep_tix = 2;
deep_aix = deep_tix + 1;
shallow_tix = deep_aix + (5*21);
shallow_zix = shallow_tix + 1;
shallow_aix = shallow_zix + 1;
tcm2_aix = shallow_aix + (5*15);
tcm1_aix = tcm2_aix + 5;
jack.shallow_seatemp.date = dts;
jack.shallow_seatemp.data = C{shallow_tix};
jack.tcm1.seatemp.date = dts;
jack.tcm1.seatemp.data = C{tcm1_aix+4};
jack.tcm2.seatemp.date = dts;
jack.tcm2.seatemp.data = C{tcm2_aix+4};
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{deep_tix};
jack.tcm1_u.date = dts;
jack.tcm1_u.data = C{tcm1_aix+3};
jack.tcm1_v.date = dts;
jack.tcm1_v.data = C{tcm1_aix+2};
jack.tcm1_spd.date = dts;
jack.tcm1_spd.data = C{tcm1_aix};
jack.tcm1_dir.date = dts;
jack.tcm1_dir.data = C{tcm1_aix+1};
jack.tcm2_u.date = dts;
jack.tcm2_u.data = C{tcm2_aix+3};
jack.tcm2_v.date = dts;
jack.tcm2_v.data = C{tcm2_aix+2};
jack.tcm2_spd.date = dts;
jack.tcm2_spd.data = C{tcm2_aix};
jack.tcm2_dir.date = dts;
jack.tcm2_dir.data = C{tcm2_aix+1};
% Shallow ADCP - current East velocity
jack.shallow_adcp_u.date = dts;
jack.shallow_adcp_u.data = [];
for ix = 1:15
jack.shallow_adcp_u.prof(1:n,ix) = C{shallow_aix+ix-1};
end;
jack.shallow_adcp_u.data = nanmean(jack.shallow_adcp_u.prof,2);
% Shallow ADCP - current North velocity
jack.shallow_adcp_v.date = dts;
jack.shallow_adcp_v.data = [];
for ix = 1:15
jack.shallow_adcp_v.prof(1:n,ix) = C{shallow_aix+21+ix-1};
end;
jack.shallow_adcp_v.data = nanmean(jack.shallow_adcp_v.prof,2);
% Shallow ADCP - current vertical velocity
jack.shallow_adcp.w.date = dts;
jack.shallow_adcp.w.data = [];
for ix = 1:15
jack.shallow_adcp.w.prof(1:n,ix) = C{shallow_aix+42+ix-1};
end;
jack.shallow_adcp.w.data = nanmean(jack.shallow_adcp.w.prof,2);
% Shallow ADCP - current speed
jack.shallow_adcp_spd.date = dts;
jack.shallow_adcp_spd.data = [];
for ix = 1:15
jack.shallow_adcp_spd.prof(1:n,ix) = C{shallow_aix+63+ix-1};
end;
jack.shallow_adcp_spd.data = nanmean(jack.shallow_adcp_spd.prof,2);
% Shallow ADCP - current direction
jack.shallow_adcp_dir.date = dts;
jack.shallow_adcp_dir.data = [];
for ix = 1:15
jack.shallow_adcp_dir.prof(1:n,ix) = C{shallow_aix+84+ix-1};
end;
jack.shallow_adcp_dir.data = uv_to_dir_curr(jack.shallow_adcp_u.data,jack.shallow_adcp_v.data);
% Deep ADCP - current East velocity
jack.deep_adcp_u.date = dts;
jack.deep_adcp_u.data = [];
for ix = 1:21
jack.deep_adcp_u.prof(1:n,ix) = C{deep_aix+ix-1};
end;
jack.deep_adcp_u.data = nanmean(jack.deep_adcp_u.prof,2);
% Deep ADCP - current North velocity
jack.deep_adcp_v.date = dts;
jack.deep_adcp_v.data = [];
for ix = 1:21
jack.deep_adcp_v.prof(1:n,ix) = C{deep_aix+21+ix-1};
end;
jack.deep_adcp_v.data = nanmean(jack.deep_adcp_v.prof,2);
% Deep ADCP - current vertical velocity
jack.deep_adcp.w.date = dts;
jack.deep_adcp.w.data = [];
for ix = 1:21
jack.deep_adcp.w.prof(1:n,ix) = C{deep_aix+42+ix-1};
end;
jack.deep_adcp.w.data = nanmean(jack.deep_adcp.w.prof,2);
% Deep ADCP - current speed
jack.deep_adcp_spd.date = dts;
jack.deep_adcp_spd.data = [];
for ix = 1:21
jack.deep_adcp_spd.prof(1:n,ix) = C{deep_aix+63+ix-1};
end;
jack.deep_adcp_spd.data = nanmean(jack.deep_adcp_spd.prof,2);
% Deep ADCP - current direction
jack.deep_adcp_dir.date = dts;
jack.deep_adcp_dir.data = [];
for ix = 1:21
jack.deep_adcp_dir.prof(1:n,ix) = C{deep_aix+84+ix-1};
end;
jack.deep_adcp_dir.data = uv_to_dir_curr(jack.deep_adcp_u.data,jack.deep_adcp_v.data);
n = numel(dts);
deep_tix = 2;
deep_aix = deep_tix + 1;
shallow_tix = deep_aix + (5*21);
shallow_zix = shallow_tix + 1;
shallow_aix = shallow_zix + 1;
tcm2_aix = shallow_aix + (5*15);
tcm1_aix = tcm2_aix + 5;
jack.shallow_seatemp.date = dts;
jack.shallow_seatemp.data = C{shallow_tix};
jack.tcm1.seatemp.date = dts;
jack.tcm1.seatemp.data = C{tcm1_aix+4};
jack.tcm2.seatemp.date = dts;
jack.tcm2.seatemp.data = C{tcm2_aix+4};
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{deep_tix};
jack.tcm1_u.date = dts;
jack.tcm1_u.data = C{tcm1_aix+3};
jack.tcm1_v.date = dts;
jack.tcm1_v.data = C{tcm1_aix+2};
jack.tcm1_spd.date = dts;
jack.tcm1_spd.data = C{tcm1_aix};
jack.tcm1_dir.date = dts;
jack.tcm1_dir.data = C{tcm1_aix+1};
jack.tcm2_u.date = dts;
jack.tcm2_u.data = C{tcm2_aix+3};
jack.tcm2_v.date = dts;
jack.tcm2_v.data = C{tcm2_aix+2};
jack.tcm2_spd.date = dts;
jack.tcm2_spd.data = C{tcm2_aix};
jack.tcm2_dir.date = dts;
jack.tcm2_dir.data = C{tcm2_aix+1};
fmg; plot_ts(jack.deep_seatemp,jack.tcm2_u);
datetick3;
fmg; plot_ts(jack.deep_seatemp,jack.shallow_seatemp,jack.tcm2_u);
datetick3;
jack=[]; clear jack
C=[]; clear C
x=[]; clear x
n = numel(dts);
deep_tix = 2;
deep_aix = deep_tix + 1;
shallow_tix = deep_aix + (5*21);
shallow_zix = shallow_tix + 1;
shallow_aix = shallow_zix + 1;
tcm2_aix = shallow_aix + (5*15);
tcm1_aix = tcm2_aix + 5;
jack=[]; clear jack
jack.shallow_seatemp.date = dts;
jack.shallow_seatemp.data = C{shallow_tix};
jack.tcm1.seatemp.date = dts;
jack.tcm1.seatemp.data = C{tcm1_aix+4};
jack.tcm2.seatemp.date = dts;
jack.tcm2.seatemp.data = C{tcm2_aix+4};
jack.deep_seatemp.date = dts;
jack.deep_seatemp.data = C{deep_tix};
jack.tcm1_u.date = dts;
jack.tcm1_u.data = C{tcm1_aix+3};
jack.tcm1_v.date = dts;
jack.tcm1_v.data = C{tcm1_aix+2};
jack.tcm1_spd.date = dts;
jack.tcm1_spd.data = C{tcm1_aix};
jack.tcm1_dir.date = dts;
jack.tcm1_dir.data = C{tcm1_aix+1};
jack.tcm2_u.date = dts;
jack.tcm2_u.data = C{tcm2_aix+3};
jack.tcm2_v.date = dts;
jack.tcm2_v.data = C{tcm2_aix+2};
jack.tcm2_spd.date = dts;
jack.tcm2_spd.data = C{tcm2_aix};
jack.tcm2_dir.date = dts;
jack.tcm2_dir.data = C{tcm2_aix+1};
C = textscan(x,fmt,'HeaderLines',1,'EndOfLine','\r\n','Delimiter',',');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
dbstop if error
read_currents_2015
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
read_currents_2015
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
read_currents_2015
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
read_currents_2015
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
read_currents_2015
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
read_currents_2015
help datestr
C{1}{1}
help datestr
dts = datenum(C{1},'mm/dd/yy HH:MM');
olddts = datenum(C{1});
any(dts ~= olddts)
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
read_currents_2015
jack
fmg; plotyy_ts(jack.deep_seatemp,jack.tcm2_u);
fmg; plotyy_ts(jack.deep_seatemp,jack.deep_adcp_u);
annotline([],0)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/17/2016 1:59 PM --%
dirs
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
doirs
dirs
read_currents_2015
find_date_ranges(jack.deep_adcp_u.date)
find_date_ranges(jack.shallow_adcp_u.date)
find_date_ranges(jack.tcm2_u.date)
find_date_ranges(jack.tcm1_u.date)
numel(find(isnan(jack.tcm1_u.data)))
find(isnan(jack.tcm1_u.data),1)
find(~isnan(jack.tcm1_u.data),1)
find(~isnan(jack.deep_adcp_u.data),1)
find(~isnan(jack.shallow_adcp_u.data),1)
find(~isnan(jack.shallow_adcp_v.data),1)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
help find
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
find_date_ranges(jack.tcm1_u.date)
find_date_ranges(jack.tcm2_u.date)
find_date_ranges(jack.deep_adcp_u.date)
find_date_ranges(jack.shallow_adcp_u.date)
find_date_ranges(jack.shallow_adcp_spd.date)
find_date_ranges(jack.shallow_seatemp.date)
find_date_ranges(jack.deep_seatemp.date)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
jack.shallow
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
jack.deep
fmg; plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
datetick3;
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
%-- 8/17/2016 5:56 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack = read_jack_currents
ekman_flux
fdepk
help exist
station_dist(jack.deep,lkwf1)
if ( exist('jack','var') && isfield(jack,'shallow') && ~isfield(jack.shallow,'slope') )
[jack.shallow.slope,jack.shallow.slope_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,jack.shallow.lon,jack.shallow.lat,7);
jack.shallow.isobath_orientation = jack.shallow.slope_orientation - 90;
if ( jack.shallow.isobath_orientation < 0 )
jack.shallow.isobath_orientation = 360 + jack.shallow.isobath_orientation;
end;
[jack.tcm1.slope,jack.tcm1.slope_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,jack.tcm1.lon,jack.tcm1.lat,7);
jack.tcm1.isobath_orientation = jack.tcm1.slope_orientation - 90;
if ( jack.tcm1.isobath_orientation < 0 )
jack.tcm1.isobath_orientation = 360 + jack.tcm1.isobath_orientation;
end;
[jack.tcm2.slope,jack.tcm2.slope_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,jack.tcm2.lon,jack.tcm2.lat,7);
jack.tcm2.isobath_orientation = jack.tcm2.slope_orientation - 90;
if ( jack.tcm2.isobath_orientation < 0 )
jack.tcm2.isobath_orientation = 360 + jack.tcm2.isobath_orientation;
end;
[jack.deep.slope,jack.deep.slope_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,jack.deep.lon,jack.deep.lat,7);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack\
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
help plotyy_ts
ekman_flux
station_dist(jack.deep,jack.shallow)
station_dist(jack.deep,lkwf1)
station_dist(jack.deep,fwyf1)
station_dist(jack.deep,fdepk)
jack
pvgf1 = get_station_from_station_name('pvgf1'); pvgf1 = load_station_data(pvgf1);
find_date_ranges(pvgf1.ctd_shallow_seatemp.date)
pvgf1 = load_all_ndbc_data(pvgf1);
find_date_ranges(pvgf1.ndbc_ct_shallow_seatemp.date)
station_dist(pvgf1,jack.deep)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
pvgf1 = get_station_from_station_name('pvgf1'); pvgf1 = load_station_data(pvgf1); pvgf1 = load_all_ndbc_data(pvgf1);
find_date_ranges(pvgf1.ndbc_ct_shallow_seatemp.date)
find_date_ranges(pvgf1.ndbc_wind1_speed.date)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('pvgf1',2008:2016,true,false)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
pvgf1 = get_station_from_station_name('pvgf1'); pvgf1 = load_all_ndbc_data(pvgf1);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
pvgf1 = get_station_from_station_name('pvgf1'); pvgf1 = load_all_ndbc_data(pvgf1);
pvgf1 = load_station_data(pvgf1)
scatter_fit_ts(pvgf1.ndbc_wind1_speed,pvgf1.wind_speed)
scatter_fit_ts(pvgf1.ndbc_sea_t,pvgf1.ctd_shallow_seatemp)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
pvgf1
pvgf1 = station_ekman_flux(pvgf1,[],'ndbc');
if ( ~isfield(pvgf1,'slope') )
[pvgf1.slope,pvgf1.slope_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,pvgf1.lon,pvgf1.lat,7);
pvgf1.isobath_orientation = pvgf1.slope_orientation - 90;
if ( pvgf1.isobath_orientation < 0 )
pvgf1.isobath_orientation = 360 + pvgf1.isobath_orientation;
end;
end;
pvgf1=[]; clear pvgf1
pvgf1 = get_station_from_station_name('pvgf1'); pvgf1 = load_all_ndbc_data(pvgf1);
if ( ~isfield(pvgf1,'slope') )
[pvgf1.slope,pvgf1.slope_orientation,lkwf1.ngdc_hires_bathy] = ...
find_ngdc_slope(lkwf1.ngdc_hires_bathy,pvgf1.lon,pvgf1.lat,7);
pvgf1.isobath_orientation = pvgf1.slope_orientation - 90;
if ( pvgf1.isobath_orientation < 0 )
pvgf1.isobath_orientation = 360 + pvgf1.isobath_orientation;
end;
end;
pvgf1 = station_ekman_flux(pvgf1,[],'ndbc');
plot(fwyf1.lon,fwyf1.lat,'wp','MarkerFaceColor','k');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:100],[15e3,110e3]);
plot(fwyf1.lon,fwyf1.lat,'wp','MarkerFaceColor','k');
lkwf1 = get_station_from_station_name('lkwf1'); lkwf1 = load_all_ndbc_data(lkwf1);
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:100],[15e3,110e3]);
plot(fwyf1.lon,fwyf1.lat,'wp','MarkerFaceColor','k');
fwyf1 = get_station_from_station_name('fwyf1'); fwyf1 = load_all_ndbc_data(fwyf1);
plot(fwyf1.lon,fwyf1.lat,'wp','MarkerFaceColor','k');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
lkwf1 = get_station_from_station_name('lkwf1'); lkwf1 = load_all_ndbc_data(lkwf1);
fwyf1 = get_station_from_station_name('fwyf1'); fwyf1 = load_all_ndbc_data(fwyf1);
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:100],[20e3,120e3]);
plot(fwyf1.lon,fwyf1.lat,'wp','MarkerFaceColor','k');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
lkwf1 = get_station_from_station_name('lkwf1'); lkwf1 = load_all_ndbc_data(lkwf1);
fwyf1 = get_station_from_station_name('fwyf1'); fwyf1 = load_all_ndbc_data(fwyf1);
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:100],[20e3,120e3]);
plot(fwyf1.lon,fwyf1.lat,'wp','MarkerFaceColor','k');
text(-81,fwyf1.lat,'fwyf1');
text(-81,fwyf1.lat,'FWYF1 \rightarrow');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
lkwf1 = get_station_from_station_name('lkwf1'); lkwf1 = load_all_ndbc_data(lkwf1);
fwyf1 = get_station_from_station_name('fwyf1'); fwyf1 = load_all_ndbc_data(fwyf1);
if ( ~isfield(lkwf1,'ngdc_hires_bathy') )
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:100],[20e3,120e3]);
plot(fwyf1.lon,fwyf1.lat,'wp','MarkerFaceColor','k'); text(-81,fwyf1.lat,'FWYF1 \rightarrow');
plot(lkwf1.lon,lkwf1.lat,'wp','MarkerFaceColor','k'); text(-81,lkwf1.lat,'LKWF1 \rightarrow');
plot(pvgf1.lon,pvgf1.lat,'wp','MarkerFaceColor','k'); text(-81,pvgf1.lat,'PVGF1 \rightarrow');
plot(fdepk.lon,fdepk.lat,'wp','MarkerFaceColor','k'); text(-81,fdepk.lat,'FDEPK \rightarrow');
end;
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
jack
jack.deep
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
fdepk = read_fdep_stevens_data('k');
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
jack.deep
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
help dbstack
fullfile('foo','bar')
fullfile('foo','bar','')
get_coral_path('FACE')
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
pd
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
load(get_coral_path('CRCP/Upwelling/SEFCRI.mat'))
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
sefcri = load(get_coral_path('CRCP/Upwelling/SEFCRI.mat'));
sefcri
sefcri.updb
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
sefcri = load(get_coral_path('CRCP/Upwelling/SEFCRI.mat'));
fmg;
spt(3,1,1); xlabel('Far North');
plot_ts(sefcri.updb.hourly_t,sefcri.mc2.hourly_t); legend('Offshore','Near-shore');
spt(3,1,2); xlabel('Northern');
plot_ts(sefcri.pb2.hourly_t,sefcri.pb1.hourly_t);
spt(3,1,3); xlabel('Central');
plot_ts(sefcri.bc3.hourly_t,sefcri.bc1.hourly_t);
if doPrint; print('-dpng',fullfile(figspath,'upwelling-sefcri.png')); end;
ylim([13,32])
grid on
fmg;
spt(3,1,1); xlabel('Far North');
plot_ts(sefcri.updb.hourly_t,sefcri.mc2.hourly_t);
ylim([13,32]); grid on; legend('Offshore','Near-shore');
spt(3,1,2); xlabel('Northern');
plot_ts(sefcri.pb2.hourly_t,sefcri.pb1.hourly_t);
ylim([13,32]); grid on; legend('Offshore','Near-shore');
spt(3,1,3); xlabel('Central');
plot_ts(sefcri.bc3.hourly_t,sefcri.bc1.hourly_t);
ylim([13,32]); grid on; legend('Offshore','Near-shore');
if doPrint; print('-dpng',fullfile(figspath,'upwelling-sefcri.png')); end;
fmg;
spt(3,1,1); xlabel('Far North (Martin County)');
plot_ts(sefcri.updb.hourly_t,sefcri.mc2.hourly_t);
ylim([12,32]); grid on; legend('Offshore','Near-shore');
spt(3,1,2); xlabel('Northern (Palm Beach)');
plot_ts(sefcri.pb2.hourly_t,sefcri.pb1.hourly_t);
ylim([12,32]); grid on; legend('Offshore','Near-shore');
spt(3,1,3); xlabel('Central (Ft. Lauderdale)');
plot_ts(sefcri.bc3.hourly_t,sefcri.bc1.hourly_t);
ylim([12,32]); grid on; legend('Offshore','Near-shore');
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
jack = read_jack_currents
jack = read_face_jack_currents
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
plot_ts(ax(1),jack.shallow.seatemp,'-','Color',[0,0.5,0]);
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
plot_ts(ax(1),jack.shallow.seatemp,'-','Color',[0,0.5,0]);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
help hold
jack = read_face_jack_currents
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
hold(ax(1),'on');
plot(ax(1),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
nansummary(jack.shallow.seatemp.data)
nansummary(jack.shallow.adcp_u.data)
nansummary(jack.deep.adcp_u.data)
nansummary(jack.deep.adcp_u.data(jack.deep.adcp_u.date>datenum(2015,1,1)))
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
hold(ax,'on')
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
plot(ax(1),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
ylim(ax(1),[-0.35,+0.35]);
ylim(ax(2),[20,32]);
xlim(datenum(2015,[1,10],1));
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
plot(ax(1),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
ylim(ax(2),[20,32]);
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
plot(ax(1),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
ax
get(ax(1),'ylim')
get(ax(2),'ylim')
ylim(ax(1),[20,32]);
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
plot(ax(2),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
plot(ax(1),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
plot_ts(ax(1),jack.shallow.seatemp,'-','Color',[0,0.5,0]);
%plot(ax(1),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
xlim(datenum(2015,[1,10],1));
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
plot_ts(ax(1),jack.shallow.seatemp,'-','Color',[0,0.5,0]);
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
plot(ax(1),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
plot_ts(ax(1),jack.shallow.seatemp,'-','Color',[0,0.5,0]);
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
plot(ax(1),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
xlim(datenum(2015,[1,10],1));
ylim(ax(1),[20,32]);
ylim(ax(2),[-0.35,+0.35]);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
jack.shallow = verify_variable(jack.shallow,'adcp_u_36_h_lp');
jack.deep = verify_variable(jack.deep,'adcp_u_36_h_lp');
jack = read_face_jack_currents;
jack.shallow = verify_variable(jack.shallow,'adcp_u_36_h_lp');
jack.deep = verify_variable(jack.deep,'adcp_u_36_h_lp');
jack.shallow
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u_36_h_lp);
plot(ax(1),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
xlim(datenum(2015,[1,10],1));
ylim(ax(1),[20,32]);
ylim(ax(2),[-0.35,+0.35]);
nansummary(jack.deep.adcp_u_36_h_lp.data(jack.deep.adcp_u.date>datenum(2015,1,1)))
nansummary(jack.deep.adcp_u_36_h_lp.data(jack.deep.adcp_u_36_h_lp.date>datenum(2015,1,1)))
nansummary(jack.deep.adcp_u_36_h_lp.data(jack.deep.adcp_u_36_h_lp.date>datenum(2015,6,1)))
ylim(ax(2),[-0.10,+0.10]);
jack.deep = verify_variable(jack.deep,'adcp_u_36_h_avg');
jack.deep = verify_variable(jack.deep,'adcp_u_36_h_sum');
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u_36_h_sum);
plot(ax(1),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
xlim(datenum(2015,[1,10],1));
ylim(ax(1),[20,32]);
fmg;
ax = plotyy_ts(jack.deep.seatemp,jack.deep.adcp_u);
plot(ax(1),jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
xlim(datenum(2015,[1,10],1));
ylim(ax(1),[20,32]);
ylim(ax(2),[-0.35,+0.35]);
if doPrint; print('-dpng',fullfile(figspath,'upwelling-jack.png')); end;
fmg;
spt(6,1,1:5);
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
xlim(datenum(2015,[1,10],1));
ylim([20,32]);
spt(6,1,6);
plot_ts(jack.deep.adcp_u,jack.deep.adcp_u);
xlim(datenum(2015,[1,10],1));
ylim([-0.35,+0.35]);
fmg;
spt(6,1,0:5);
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
fmg;
spt(6,1,-1:5);
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
fmg;
spt(6,1,-2:5);
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
xlim(datenum(2015,[1,10],1));
ylim([20,32]);
spt(6,1,6);
plot_ts(jack.deep.adcp_u,jack.deep.adcp_u);
xlim(datenum(2015,[1,10],1));
ylim([-0.35,+0.35]);
find_date_ranges(jack.tcm2.seatemp.date)
fmg;
spt(6,1,-2:5);
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
xlim(datenum(2015,[1,10],1));
ylim([20,32]);
spt(6,1,6);
plot_ts(jack.deep.adcp_u,jack.deep.adcp_u);
xlim(datenum(2015,[8,10],1));
ylim([-0.35,+0.35]);
fmg;
spt(6,1,-2:5);
plot_ts(jack.deep.seatemp,jack.tcm2.seatemp,jack.tcm1.seatemp,jack.shallow.seatemp);
xlim(datenum(2015,[8,10],1));
ylim([20,32]);
spt(6,1,6);
plot_ts(jack.deep.adcp_u,jack.deep.adcp_u);
xlim(datenum(2015,[8,10],1));
ylim([-0.35,+0.35]);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
help extract_sfomc_etc
help exist
help chdir
help cd
help bif
which bif
bif
cd ..
sfo = get_sfomc_data;
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
sfo = get_sfomc_data;
help call
help feval
feval(ans)
fcnm = ans;
feval(fcnm)
exist(fcnm)
exist(f[cnm,'.m])
exist([fcnm,'.m])
exist([fcnm,'.m'])
feval([fcnm,'.m'])
dbquit
help eval
help evalc
help evalin
help cd
cwd = pwd
fcnm = ans;
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
sfo = get_sfomc_data;
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
sfo = get_sfomc_data;
res
upwix
dbquit
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
sfo = get_sfomc_data;
whos
whos(sfo)
whos('sfo')
help whos
help struct
help orderfields
help cell2struct
help struct2cell
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
sfo = get_sfomc_data;
save('foobie.mat','-struct','sfo')
whos('foobie.mat')
whos('foobie.mat')
whos('-file','foobie.mat')
sfo.nw_w_btm
ans=[]; clear ans
save('foobie.mat','-struct','sfo.nw_w_btm')
x = sfo.nw_w_btm;
save('foobie.mat','-struct','x')
x=[]; clear x
whos('-file','foobie.mat')
whos('-file','foobie.mat')
sfo
sfo.sw_buoy
clear ans
sfo
sfo.pier_cc
sfo.pier_cc.relhumid
find_date_ranges(sfo.pier_cc.relhumid.date)
find_date_ranges(sfo.pier_cc.relhumid.date,5)
find_date_ranges(sfo.pier_cc.air_t.date,5)
lkwf1 = get_station_from_station_name('lkwf1'); lkwf1 = load_all_ndbc_data(lkwf1);
station_dist(lkwf1,sfo.pier_cc)
station_dist(pvgf1,sfo.pier_cc)
pvgf1 = get_station_from_station_name('pvgf1'); pvgf1 = load_all_ndbc_data(pvgf1);
station_dist(pvgf1,sfo.pier_cc)
station_dist(fdepk,sfo.pier_cc)
fdepk = read_fdep_stevens_data('k');
station_dist(fdepk,sfo.pier_cc)
dir *rsmas*
which read_rsmas_weatherpack_data
help read_rsmas_weatherpack_data
type read_rsmas_weatherpack_data
rsm = read_rsmas_weatherpack_data
find_date_ranges(rsm.rsmas_relhumid.date)
station_dist(rsm,sfo.pier_cc)
rsm
find_date_ranges(rsm.rsmas_relhumid.date)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
datetick3
ylim([20,40])
ylim([-0.4,+0.4])
ylim([-0.6,+0.4])
ylim([-0.5,+0.25])
fmg; plot_spec(jack.deep.adcp_u)
fmg; plot_spec(jack.deep,'adcp_u')
fmg; plot_spec(jack.deep,'adcp_u');
help plot_spec
plot_spec(jack.deep,'adcp_u',[],[],[],[],[],true);
xlim([1/4,30])
ylim([1e-6,1e0])
help plot_spec
plot_spec(jack.deep,'adcp_u',[],[],[1/4,24],[1e-4,1e-1],[],true);
help plot_spec_confint
type plot_spec_confint
help plot_spec
plot_spec(jack.deep,'adcp_u',[],[],[1/4,24],[1e-4,1e-1],[],true,true,[],false);
plot_spec(jack.deep,'adcp_u',[],[],[1/4,24],[1e-4,1e-1],[],true,true,[],true);
type plot_spec
xlim([0.4,1.9])
axis([0.4,1.9,0.0,0.5])
axis([0.4,1.9,0.0,0.05])
help plot_spec
plot_spec(jack.deep,'adcp_u',[],[],[1/4,24],[1e-4,1e-1],[],true,true,[],0.68,3);
plot_spec(jack.deep,'adcp_u',[],[],[0.4,1.9],[0.0,0.05],[],true,true,[],0.68,3);
plot_spec(jack.deep,'adcp_u',[],[],[0.4,1.9],[0.0,0.05],[],true,true,[],0.68,5);
plot_spec(jack.deep,'adcp_u',[],[],[0.4,1.9],[0.0,0.05],[],true,true,[],0.68,0);
plot_spec(jack.deep,'adcp_u',[],[],[0.4,1.9],[0.0,0.05],[],true,true,[],0.68,[]);
plot_spec(jack.deep,'adcp_u',[],[],[0.4,1.9],[0.0,0.05],[],true,true,[],0.68,10);
plot_spec(jack.deep,'adcp_u',[],[],[0.4,1.9],[0.0,0.05],[],true,true,[],0.93,9);
plot_spec(jack.deep,'adcp_u',[],[],[0.4,1.9],[0.0,0.05],[],true,true,[],0.93,10);
plot_spec(jack.deep,'adcp_u',[],[],[0.4,1.9],[0.0,0.05],[],true,true,[],0.50,10);
plot_spec(jack.deep,'adcp_u',[],[],[0.4,1.9],[0.0,0.05],[],true,true,[],0.50,9);
plot_spec(jack.deep,'adcp_u',[],[],[0.4,1.9],[0.0,0.05],[],true,true,[],0.68,9);
plot_spec(jack.deep,'adcp_u',[],[],[0.44,1.24],[0.0,0.04],[],true,true,[],0.68,9);
plot_spec(jack.shallow,'adcp_u',[],[],[0.44,1.24],[0.0,0.04],[],true,true,[],0.68,9);
xlim([0.25,1.24])
xlim([0.40,1.24])
help plot_spec
plot_spec(jack.shallow,'adcp_u',[],[],[0.35,1.24],[0.0,0.04],[],true,true,[],0.68,9);
help plot_spec
plot_spec(jack.shallow,'adcp_u',[],[],[0.35,1.24],[0.0,0.04],[],true,true,[],0.68,9);
plot_spec(jack.shallow,'adcp_u',[],[],[0.35,1.24],[0.0,0.04],[],true,true,[],0.68,9); ylabel('HWD shallow'); print('-png','figs/jack-hwd-shallow-adcp_u-spec.png');
plot_spec(jack.shallow,'adcp_u',[],[],[0.35,1.24],[0.0,0.04],[],true,true,[],0.68,9); ylabel('HWD shallow'); print('-dpng','figs/jack-hwd-shallow-adcp_u-spec.png');
plot_spec(jack.shallow,'adcp_u',[],[],[0.35,1.24],[0.0,0.04],[],true,true,[],0.68,9); ylabel('HWD shallow'); print('-dpng','figs/jack-hwd-shallow-adcp_u-spec-blowup.png');
plot_spec(jack.shallow,'adcp_u',[],[],[0.35,24],[0.0,0.09],[],true,true,[],0.68,9); ylabel('HWD shallow'); print('-dpng','figs/jack-hwd-shallow-adcp_u-spec.png');
plot_spec(jack.deep,'adcp_u',[],[],[0.35,1.24],[0.0,0.04],[],true,true,[],0.68,9); ylabel('HWD deep'); print('-dpng','figs/jack-hwd-deep-adcp_u-spec-blowup.png');
plot_spec(jack.deep,'adcp_u',[],[],[0.35,24],[0.0,0.09],[],true,true,[],0.68,9); ylabel('HWD deep'); print('-dpng','figs/jack-hwd-deep-adcp_u-spec.png');
print('-dpng','figs/jack-hwd-upwelling-2015.png');
print('-dpng','figs/sefcri-upwelling-2010-2013.png');
fmg;
spt(3,1,1); title('Far North (Martin County)');
plot_ts(sefcri.updb.hourly_t,sefcri.mc2.hourly_t);
ylim([12,32]); grid on; legend('Offshore','Near-shore');
spt(3,1,2); title('Northern (Palm Beach)');
plot_ts(sefcri.pb2.hourly_t,sefcri.pb1.hourly_t);
ylim([12,32]); grid on; legend('Offshore','Near-shore');
spt(3,1,3); title('Central (Ft. Lauderdale)');
plot_ts(sefcri.bc3.hourly_t,sefcri.bc1.hourly_t);
ylim([12,32]); grid on; legend('Offshore','Near-shore');
if doPrint; print('-dpng',fullfile(figspath,'upwelling-sefcri-2010-2013.png')); end;
%-- 8/18/2016 11:06 PM --%
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
sfomc = get_sfomc_data;
fmg; plot_ts(sfomc.nw_w_btm.adcp_seatemp);
fmg; plot_ts(subset_ts(sfomc.nw_w_btm.adcp_seatemp,@ts_jas));
ts = subset_ts(sfomc.nw_w_btm.adcp_seatemp,@ts_jas)
fmg; plot(get_monthdayhour(ts),ts.data);
fmg; plot(get_monthdayhour(ts.date),ts.data);
fmg; plot(get_monthdayhour(ts.date),ts.data,'.');
clear ans
dir *year*
help year_overlap_plot_ts.m
fmg; year_overlap_plot_ts(ts);
ts = subset_ts(subset_ts(sfomc.nw_w_btm.adcp_seatemp,@ts_jas),@(x)(get_year(x.date)~=2008));
fmg; year_overlap_plot_ts(ts);
lkwf1 = get_station_from_station_name('lkwf1'); lkwf1 = load_all_ndbc_data(lkwf1);
fmg; plot_ts(subset_ts(sfomc.nw_w_btm.adcp_seatemp,@ts_jas));
datetick3;
plot_ts(lkwf1.ndbc_sea_t,'r')
fmg; plotyy_ts(subset_ts(sfomc.nw_w_btm.adcp_seatemp,@ts_jas),lkwf1.ndbc_wind1_speed);
datetick3;
ylim(datetick(2004,[6,9],1)); datetick3;
ylim(datenum(2004,[6,9],1)); datetick3;
fmg; ax=plotyy_ts(subset_ts(sfomc.nw_w_btm.adcp_seatemp,@ts_jas),lkwf1.ndbc_wind1_speed);
ylim(ax(1),datenum(2004,[6,9],1));
fmg; plotyy_ts(subset_ts(sfomc.nw_w_btm.adcp_seatemp,@ts_jas),lkwf1.ndbc_wind1_speed);
xlim(datenum(2004,[6,9],1)); datetick3;
xlim(datenum(2005,[6,9],1)); datetick3;
xlim(datenum(2005,[6,10],1)); datetick3;
25000/12/2
sipf1 = get_station_from_station_name('sipf1')
sipf1 = get_station_from_station_name('sipf1'); sipf1 = load_all_ndbc_data(sipf1);
fmg; plotyy_ts(sipf1.ndbc_sea_t,sipf1.ndbc_wind1_speed);
station_dist(sipf1,jack.deep)_
station_dist(sipf1,jack.deep)
jack = read_face_jack_currents;
station_dist(sipf1,jack.deep)
station_dist(lkwf1,jack.deep)
station_dist(pvgf1,jack.deep)
pvgf1 = get_station_from_station_name('pvgf1'); pvgf1 = load_all_ndbc_data(pvgf1);
station_dist(pvgf1,jack.deep)
pvgf1
pvgf1 = station_ekman_flux(pvgf1)
fmg; plotyy_ts(pvgf1.ndbc_ekman_flux,jack.deep.seatemp)
datetick3;
fmg; plot_ts(pvgf1.ndbc_wind1_dir)
xlim(datenum(2014,8,[10,35])); datetick3;
plot(jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
find_date_ranges(jack.tcm1.seatemp.date)
find_date_ranges(pvgf1.ndbc_sea_t.date)
find_date_ranges(pvgf1.ndbc_ct_shallow_seatemp.date)
find_date_ranges(sfomc.nw_w_btm.date)
find_date_ranges(sfomc.nw_w_btm.adcp_seatemp.date)
find_date_ranges(sfomc.nw_w_btm.sbe_seatemp.date)
ftpf1 = get_station_from_station_name('41114'); ftpf1 = load_all_ndbc_data(ftpf1);
find_date_ranges(ftpf1.ndbc_sea_t.date)
find_date_ranges(ftpf1.ndbc_sea_t.date,10)
plot(ftpf1.ndbc_sea_t.date,ftpf1.ndbc_sea_t.data,'-','Color',[0,0.5,0]);
download_ndbc_files('41009',2012:2016,true,false)
stn = get_station_from_station_name('41009')
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
canf1 = get_station_from_station_name('41009'); canf1 = load_all_ndbc_data(canf1);
stn = get_station_from_station_name('4113')
stn = get_station_from_station_name('41113')
canf1
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
download_ndbc_files('41113',2012:2016,true,false)
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
cnnf1 = get_station_from_station_name('41113'); cnnf1 = load_all_ndbc_data(cnnf1);
fclose('all'); close all; clear all; clear classes; clear java; dbclear all; more on; pack
ekman_flux
fmg; plotyy_ts(pvgf1.ndbc_ekman_flux,jack.deep.seatemp)
xlim(datenum(2014,8,[10,35])); datetick3;
datetick3;
plot(jack.shallow.seatemp.date,jack.shallow.seatemp.data,'-','Color',[0,0.5,0]);
plot(ftpf1.ndbc_sea_t.date,ftpf1.ndbc_sea_t.data,'-','Color',[0,0.5,0]);
plot(canf1.ndbc_sea_t.date,canf1.ndbc_sea_t.data,'-','Color',[0,0.5,0]);
plot(cnnf1.ndbc_sea_t.date,cnnf1.ndbc_sea_t.data,'-','Color',[0,0.5,0]);
plot(fdepk.ndbc_sea_t.date,fdepk.ndbc_sea_t.data,'-','Color',[0,0.5,0]);
find_date_ranges(fdepk.fdep_seatemp_deep.date)
find_date_ranges(fdepk.fdep_seatemp_deep.date,10)
plot(fdepk.fdep_seatemp_deep.date,fdepk.fdep_seatemp_deep.data,'-','Color',[0,0.5,0]);
whos
textlat = -81.0;
plot(fwyf1.lon,fwyf1.lat,'wp','MarkerFaceColor','r');
text(textlat,fwyf1.lat,'FWYF1 \rightarrow');
plot(lkwf1.lon,lkwf1.lat,'wp','MarkerFaceColor','r');
text(textlat,lkwf1.lat,'LKWF1 \rightarrow');
plot(pvgf1.lon,pvgf1.lat,'wp','MarkerFaceColor','r');
text(textlat,pvgf1.lat,'PVGF1 \rightarrow');
plot(fdepk.lon,fdepk.lat,'wp','MarkerFaceColor','r');
text(textlat,fdepk.lat,'FDEP "K" \rightarrow');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'wp','MarkerFaceColor','r');
text(textlat,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'wp','MarkerFaceColor','r');
text(textlat,sefcri.bc3.lat,'SEFCRI PB2 \rightarrow');
plot(jack.deep.lon,jack.deep.lat,'wp','MarkerFaceColor','r');
text(textlat,jack.deep.lat,'HWD outfall \rightarrow');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'wp','MarkerFaceColor','r');
text(textlat,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow');
plot(sefcri.updb.lon,sefcri.updb.lat,'wp','MarkerFaceColor','r');
text(textlat,sefcri.updb.lat,'SEFCRI UPDB \rightarrow');
plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'wp','MarkerFaceColor','r');
text(textlat,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow');
if doPrint; print('-dpng',fullfile(figspath,'upwelling-bathymetry.png')); end;
textlat = -81.0;
plot(fwyf1.lon,fwyf1.lat,'rp','MarkerFaceColor','w');
text(textlat,fwyf1.lat,'FWYF1 \rightarrow');
plot(lkwf1.lon,lkwf1.lat,'rp','MarkerFaceColor','w');
text(textlat,lkwf1.lat,'LKWF1 \rightarrow');
plot(pvgf1.lon,pvgf1.lat,'rp','MarkerFaceColor','w');
text(textlat,pvgf1.lat,'PVGF1 \rightarrow');
plot(fdepk.lon,fdepk.lat,'rp','MarkerFaceColor','w');
text(textlat,fdepk.lat,'FDEP "K" \rightarrow');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.bc3.lat,'SEFCRI BC3 \rightarrow');
plot(jack.deep.lon,jack.deep.lat,'rp','MarkerFaceColor','w');
text(textlat,jack.deep.lat,'HWD outfall \rightarrow');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow');
plot(sefcri.updb.lon,sefcri.updb.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.updb.lat,'SEFCRI UPDB \rightarrow');
plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'rp','MarkerFaceColor','w');
text(textlat,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow');
if doPrint; print('-dpng',fullfile(figspath,'upwelling-bathymetry.png')); end;
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:100],[20e3,120e3]);
textlat = -81.0;
plot(fwyf1.lon,fwyf1.lat,'rp','MarkerFaceColor','w');
text(textlat,fwyf1.lat,'FWYF1 \rightarrow');
plot(lkwf1.lon,lkwf1.lat,'rp','MarkerFaceColor','w');
text(textlat,lkwf1.lat,'LKWF1 \rightarrow');
% plot(pvgf1.lon,pvgf1.lat,'rp','MarkerFaceColor','w');
% text(textlat,pvgf1.lat,'PVGF1 \rightarrow');
plot(fdepk.lon,fdepk.lat,'rp','MarkerFaceColor','w');
text(textlat,fdepk.lat,'FDEP "K" \rightarrow');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.bc3.lat,'SEFCRI BC3 \rightarrow');
plot(jack.deep.lon,jack.deep.lat,'rp','MarkerFaceColor','w');
text(textlat,jack.deep.lat,'HWD outfall \rightarrow');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow');
plot(sefcri.updb.lon,sefcri.updb.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.updb.lat,'SEFCRI UPDB \rightarrow');
% plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'rp','MarkerFaceColor','w');
% text(textlat,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow');
plot(sfomc.nw_w_btm.lon,sfomc.nw_w_btm.lat,'rp','MarkerFaceColor','w');
text(textlat,sfomc.nw_w_btm.lat,'NSU NW/W mooring \rightarrow');
if doPrint; print('-dpng',fullfile(figspath,'upwelling-bathymetry.png')); end;
station_dist(sefcri.updb,sefcri.slib)
station_dist(sefcri.updb,sefcri.pela)
station_dist(sefcri.updb,sefcri.slib)
station_dist(sefcri.updb,sefcri.mc2)
sefcri.updb,sefcri.pela
plot(sefcri.pela.lon,sefcri.pela.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.pela.lat,'SEFCRI PeLa \rightarrow');
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:100],[20e3,120e3]);
textlat = -81.0;
plot(fwyf1.lon,fwyf1.lat,'rp','MarkerFaceColor','w');
text(textlat,fwyf1.lat,'FWYF1 \rightarrow');
plot(lkwf1.lon,lkwf1.lat,'rp','MarkerFaceColor','w');
text(textlat,lkwf1.lat,'LKWF1 \rightarrow');
% plot(pvgf1.lon,pvgf1.lat,'rp','MarkerFaceColor','w');
% text(textlat,pvgf1.lat,'PVGF1 \rightarrow');
plot(fdepk.lon,fdepk.lat,'rp','MarkerFaceColor','w');
text(textlat,fdepk.lat,'FDEP "K" \rightarrow');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.bc3.lat,'SEFCRI BC3 \rightarrow');
plot(jack.deep.lon,jack.deep.lat,'rp','MarkerFaceColor','w');
text(textlat,jack.deep.lat,'HWD outfall \rightarrow');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow');
plot(sefcri.updb.lon,sefcri.updb.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.updb.lat,'SEFCRI UpDB \rightarrow');
plot(sefcri.pela.lon,sefcri.pela.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.pela.lat,'SEFCRI PeLa \rightarrow');
% plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'rp','MarkerFaceColor','w');
% text(textlat,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow');
plot(sfomc.nw_w_btm.lon,sfomc.nw_w_btm.lat,'rp','MarkerFaceColor','w');
text(textlat,sfomc.nw_w_btm.lat,'NSU NW/W mooring \rightarrow');
if doPrint; print('-dpng',fullfile(figspath,'upwelling-bathymetry.png')); end;
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:100],[20e3,120e3]);
textlat = -81.0;
plot(fwyf1.lon,fwyf1.lat,'rp','MarkerFaceColor','w');
text(textlat,fwyf1.lat,'FWYF1 \rightarrow');
plot(lkwf1.lon,lkwf1.lat,'rp','MarkerFaceColor','w');
text(textlat,lkwf1.lat,'LKWF1 \rightarrow');
% plot(pvgf1.lon,pvgf1.lat,'rp','MarkerFaceColor','w');
% text(textlat,pvgf1.lat,'PVGF1 \rightarrow');
plot(fdepk.lon,fdepk.lat,'rp','MarkerFaceColor','w');
text(textlat,fdepk.lat,'FDEP "K" \rightarrow');
plot(sefcri.dc1.lon,sefcri.dc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow');
plot(sefcri.bc1.lon,sefcri.bc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.bc3.lat,'SEFCRI BC3 \rightarrow');
plot(jack.deep.lon,jack.deep.lat,'rp','MarkerFaceColor','w');
text(textlat,jack.deep.lat,'HWD outfall \rightarrow');
plot(sefcri.pb1.lon,sefcri.pb1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow');
plot(sefcri.updb.lon,sefcri.updb.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.updb.lat,'SEFCRI UpDB \rightarrow');
plot(sefcri.pela.lon,sefcri.pela.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.pela.lat,'SEFCRI PeLa \rightarrow');
plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'rp','MarkerFaceColor','w');
% text(textlat,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow');
plot(sfomc.nw_w_btm.lon,sfomc.nw_w_btm.lat,'rp','MarkerFaceColor','w');
% text(textlat,sfomc.nw_w_btm.lat,'NSU NW/W mooring \rightarrow');
text(textlat,sfomc.nw_w_btm.lat,'NSU moorings \rightarrow');
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:100],[20e3,120e3]);
textlat = -81.0;
plot(fwyf1.lon,fwyf1.lat,'rp','MarkerFaceColor','w');
text(textlat,fwyf1.lat,'FWYF1 \rightarrow');
plot(lkwf1.lon,lkwf1.lat,'rp','MarkerFaceColor','w');
text(textlat,lkwf1.lat,'LKWF1 \rightarrow');
% plot(pvgf1.lon,pvgf1.lat,'rp','MarkerFaceColor','w');
% text(textlat,pvgf1.lat,'PVGF1 \rightarrow');
plot(fdepk.lon,fdepk.lat,'rp','MarkerFaceColor','w');
text(textlat,fdepk.lat,'FDEP "K" \rightarrow');
plot(sefcri.dc1.lon,sefcri.dc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'rp','MarkerFaceColor','w');
% text(textlat,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow');
text(textlat,sefcri.dc3.lat,'SEFCRI DC1/3 \rightarrow');
plot(sefcri.bc1.lon,sefcri.bc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'rp','MarkerFaceColor','w');
% text(textlat,sefcri.bc3.lat,'SEFCRI BC3 \rightarrow');
text(textlat,sefcri.bc3.lat,'SEFCRI BC1/3 \rightarrow');
plot(jack.deep.lon,jack.deep.lat,'rp','MarkerFaceColor','w');
text(textlat,jack.deep.lat,'HWD outfall \rightarrow');
plot(sefcri.pb1.lon,sefcri.pb1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow');
text(textlat,sefcri.pb2.lat,'SEFCRI PB1/2 \rightarrow');
plot(sefcri.mc2.lon,sefcri.mc2.lat,'rp','MarkerFaceColor','w');
plot(sefcri.updb.lon,sefcri.updb.lat,'rp','MarkerFaceColor','w');
% text(textlat,sefcri.updb.lat,'SEFCRI UpDB \rightarrow');
text(textlat,sefcri.updb.lat,'SEFCRI MC2/UpDB \rightarrow');
plot(sefcri.pela.lon,sefcri.pela.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.pela.lat,'SEFCRI PeLa \rightarrow');
plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'rp','MarkerFaceColor','w');
% text(textlat,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow');
plot(sfomc.nw_w_btm.lon,sfomc.nw_w_btm.lat,'rp','MarkerFaceColor','w');
% text(textlat,sfomc.nw_w_btm.lat,'NSU NW/W mooring \rightarrow');
text(textlat,sfomc.nw_w_btm.lat,'NSU moorings \rightarrow');
titlename('USGS Bathymetry - SE Florida shelf');
if doPrint; print('-dpng',fullfile(figspath,'upwelling-bathymetry.png')); end;
sefcroi.pela
sefcri.pela
sefcri.mc2
sefcri.updb
fmg; plot_ts(sefcri.mc2.hourly_t,sefcri.pela.hourly_t);
fmg; plot_ts(sefcri.mc2.t,sefcri.pela.t); legend('MC2','PELA');
sefcri
fmg; plot_ts(sefcri.mc2.hourly_t,sefcri.evca.hourly_t);
fmg; plot_ts(sefcri.mc2.hourly_t,sefcri.evca.hourly_t,sefcri.updb.t);
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:100],[20e3,120e3]);
textlat = -81.0;
plot(fwyf1.lon,fwyf1.lat,'rp','MarkerFaceColor','w');
text(textlat,fwyf1.lat,'FWYF1 \rightarrow');
plot(lkwf1.lon,lkwf1.lat,'rp','MarkerFaceColor','w');
text(textlat,lkwf1.lat,'LKWF1 \rightarrow');
% plot(pvgf1.lon,pvgf1.lat,'rp','MarkerFaceColor','w');
% text(textlat,pvgf1.lat,'PVGF1 \rightarrow');
plot(fdepk.lon,fdepk.lat,'rp','MarkerFaceColor','w');
text(textlat,fdepk.lat,'FDEP "K" \rightarrow');
plot(sefcri.dc1.lon,sefcri.dc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'rp','MarkerFaceColor','w');
% text(textlat,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow');
text(textlat,sefcri.dc3.lat,'SEFCRI DC1/3 \rightarrow');
plot(sefcri.bc1.lon,sefcri.bc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'rp','MarkerFaceColor','w');
% text(textlat,sefcri.bc3.lat,'SEFCRI BC3 \rightarrow');
text(textlat,sefcri.bc3.lat,'SEFCRI BC1/3 \rightarrow');
plot(jack.deep.lon,jack.deep.lat,'rp','MarkerFaceColor','w');
text(textlat,jack.deep.lat,'HWD outfall \rightarrow');
plot(sefcri.pb1.lon,sefcri.pb1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow');
text(textlat,sefcri.pb2.lat,'SEFCRI PB1/2 \rightarrow');
plot(sefcri.mc2.lon,sefcri.mc2.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.mc2.lat,'SEFCRI MC2 \rightarrow');
% plot(sefcri.pela.lon,sefcri.pela.lat,'rp','MarkerFaceColor','w');
% text(textlat,sefcri.pela.lat,'SEFCRI PeLa \rightarrow');
% text(textlat,sefcri.pela.lat,'SEFCRI MC2/PeLa \rightarrow');
plot(sefcri.updb.lon,sefcri.updb.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.updb.lat,'SEFCRI UpDB \rightarrow');
plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'rp','MarkerFaceColor','w');
% text(textlat,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow');
plot(sfomc.nw_w_btm.lon,sfomc.nw_w_btm.lat,'rp','MarkerFaceColor','w');
% text(textlat,sfomc.nw_w_btm.lat,'NSU NW/W mooring \rightarrow');
text(textlat,sfomc.nw_w_btm.lat,'NSU moorings \rightarrow');
titlename('USGS Bathymetry - SE Florida shelf');
if doPrint; print('-dpng',fullfile(figspath,'upwelling-bathymetry.png')); end;
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:100],[20e3,120e3]);
textlat = -81.0;
plot(fwyf1.lon,fwyf1.lat,'rp','MarkerFaceColor','w');
text(textlat,fwyf1.lat,'FWYF1 \rightarrow');
plot(lkwf1.lon,lkwf1.lat,'rp','MarkerFaceColor','w');
text(textlat,lkwf1.lat,'LKWF1 \rightarrow');
% plot(pvgf1.lon,pvgf1.lat,'rp','MarkerFaceColor','w');
% text(textlat,pvgf1.lat,'PVGF1 \rightarrow');
plot(fdepk.lon,fdepk.lat,'rp','MarkerFaceColor','w');
text(textlat,fdepk.lat,'FDEP "K" \rightarrow');
plot(sefcri.dc1.lon,sefcri.dc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'rp','MarkerFaceColor','w');
% text(textlat,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow');
text(textlat,sefcri.dc3.lat,'SEFCRI DC1/3 \rightarrow');
plot(sefcri.bc1.lon,sefcri.bc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'rp','MarkerFaceColor','w');
% text(textlat,sefcri.bc3.lat,'SEFCRI BC3 \rightarrow');
text(textlat,sefcri.bc3.lat,'SEFCRI BC1/3 \rightarrow');
plot(jack.shallow.lon,jack.shallow.lat,'rp','MarkerFaceColor','w');
plot(jack.deep.lon,jack.deep.lat,'rp','MarkerFaceColor','w');
text(textlat,jack.deep.lat,'HWD outfall/moorings \rightarrow');
plot(sefcri.pb1.lon,sefcri.pb1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow');
text(textlat,sefcri.pb2.lat,'SEFCRI PB1/2 \rightarrow');
plot(sefcri.mc2.lon,sefcri.mc2.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.mc2.lat,'SEFCRI MC2 \rightarrow');
% plot(sefcri.pela.lon,sefcri.pela.lat,'rp','MarkerFaceColor','w');
% text(textlat,sefcri.pela.lat,'SEFCRI PeLa \rightarrow');
% text(textlat,sefcri.pela.lat,'SEFCRI MC2/PeLa \rightarrow');
plot(sefcri.updb.lon,sefcri.updb.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.updb.lat,'SEFCRI UpDB \rightarrow');
plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'rp','MarkerFaceColor','w');
% text(textlat,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow');
plot(sfomc.nw_w_btm.lon,sfomc.nw_w_btm.lat,'rp','MarkerFaceColor','w');
% text(textlat,sfomc.nw_w_btm.lat,'NSU NW/W mooring \rightarrow');
text(textlat,sfomc.nw_w_btm.lat,'NSU moorings \rightarrow');
titlename('USGS Bathymetry - SE Florida shelf');
if doPrint; print('-dpng',fullfile(figspath,'upwelling-bathymetry.png')); end;
ftpf1
lkwf1 = plot_hires_bathymetry(lkwf1,-[0:1:20,30:10:100],[20e3,120e3]);
textlat = -81.0;
plot(fwyf1.lon,fwyf1.lat,'rp','MarkerFaceColor','w');
text(textlat,fwyf1.lat,'FWYF1 \rightarrow');
plot(lkwf1.lon,lkwf1.lat,'rp','MarkerFaceColor','w');
text(textlat,lkwf1.lat,'LKWF1 \rightarrow');
% plot(pvgf1.lon,pvgf1.lat,'rp','MarkerFaceColor','w');
% text(textlat,pvgf1.lat,'PVGF1 \rightarrow');
plot(fdepk.lon,fdepk.lat,'rp','MarkerFaceColor','w');
text(textlat,fdepk.lat,'FDEP "K" \rightarrow');
plot(ftpf1.lon,ftpf1.lat,'rp','MarkerFaceColor','w');
text(textlat,ftpf1.lat,'41114 \rightarrow');
plot(sefcri.dc1.lon,sefcri.dc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.dc3.lon,sefcri.dc3.lat,'rp','MarkerFaceColor','w');
% text(textlat,sefcri.dc3.lat,'SEFCRI DC3 \rightarrow');
text(textlat,sefcri.dc3.lat,'SEFCRI DC1/3 \rightarrow');
plot(sefcri.bc1.lon,sefcri.bc1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.bc3.lon,sefcri.bc3.lat,'rp','MarkerFaceColor','w');
% text(textlat,sefcri.bc3.lat,'SEFCRI BC3 \rightarrow');
text(textlat,sefcri.bc3.lat,'SEFCRI BC1/3 \rightarrow');
plot(jack.shallow.lon,jack.shallow.lat,'rp','MarkerFaceColor','w');
plot(jack.deep.lon,jack.deep.lat,'rp','MarkerFaceColor','w');
text(textlat,jack.deep.lat,'HWD outfall/moorings \rightarrow');
plot(sefcri.pb1.lon,sefcri.pb1.lat,'rp','MarkerFaceColor','w');
plot(sefcri.pb2.lon,sefcri.pb2.lat,'rp','MarkerFaceColor','w');
%text(textlat,sefcri.pb2.lat,'SEFCRI PB2 \rightarrow');
text(textlat,sefcri.pb2.lat,'SEFCRI PB1/2 \rightarrow');
plot(sefcri.mc2.lon,sefcri.mc2.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.mc2.lat,'SEFCRI MC2 \rightarrow');
% plot(sefcri.pela.lon,sefcri.pela.lat,'rp','MarkerFaceColor','w');
% text(textlat,sefcri.pela.lat,'SEFCRI PeLa \rightarrow');
% text(textlat,sefcri.pela.lat,'SEFCRI MC2/PeLa \rightarrow');
plot(sefcri.updb.lon,sefcri.updb.lat,'rp','MarkerFaceColor','w');
text(textlat,sefcri.updb.lat,'SEFCRI UpDB \rightarrow');
plot(sfomc.ne_buoy.lon,sfomc.ne_buoy.lat,'rp','MarkerFaceColor','w');
% text(textlat,sfomc.ne_buoy.lat,'NSU E buoy \rightarrow');
plot(sfomc.nw_w_btm.lon,sfomc.nw_w_btm.lat,'rp','MarkerFaceColor','w');
% text(textlat,sfomc.nw_w_btm.lat,'NSU NW/W mooring \rightarrow');
text(textlat,sfomc.nw_w_btm.lat,'NSU moorings \rightarrow');
titlename('USGS Bathymetry - SE Florida shelf');
if doPrint; print('-dpng',fullfile(figspath,'upwelling-bathymetry.png')); end;
ftpf1
canf1
sipf1 = get_station_from_station_name('sipf1')
sefcri
sefcri.slib
sefcri.evca
ylim([20,35])
ylim([20,35.1])
ylim([20,36])
grid on
ylim([19,36])
ylim([19,35])
ylim([20,35])
datetick3;
ylim automatic
ylim default
get(gca,'ytick')
set(gca,'ytick',[20:5:35])
get(gca,'ytickmode')
set(gca,'ytickmode','auto')
set(gca,'ytickmode','manual')
set(gca,'ytick',[20:5:35])
set(gca,'yticklabel',num2str([20:5:35]))
set(gca,'yticklabel',num2str([20:5:35]'))
set(gca,'yticklabel','default'))
set(gca,'yticklabel','default')
ftpf1
